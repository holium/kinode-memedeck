"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4116],{15076:function(e,t,n){n.r(t),n.d(t,{ProfileProvider:function(){return a},useProfile:function(){return s}});var c=n(59547),o=n(30912);let r=(0,o.createContext)(void 0),a=e=>{let{children:t}=e,[n,a]=(0,o.useState)(null),[s,i]=(0,o.useState)({}),[l,d]=(0,o.useState)({}),[u,p]=(0,o.useState)({}),[h,m]=(0,o.useState)({}),[y,E]=(0,o.useState)([]),[f,S]=(0,o.useState)([]),[T,g]=(0,o.useState)(!1),[w,k]=(0,o.useState)(!1),[j,L]=(0,o.useState)(!1);return(0,c.jsx)(r.Provider,{value:{profile:n,setProfile:a,userMemes:s,setUserMemes:i,userDecks:l,setUserDecks:d,userDrafts:u,setUserDrafts:p,userBookmarks:h,setUserBookmarks:m,trending:y,setTrending:E,recommendedFollows:f,setRecommendedFollows:S,isSignupModalOpen:T,setIsSignupModalOpen:g,isPostingMemes:w,setIsPostingMemes:k,isHovering:j,setIsHovering:L},children:t})},s=()=>{let e=(0,o.useContext)(r);if(void 0===e)throw Error("useProfile must be used within ProfileProvider");return e}},1463:function(e,t,n){n.d(t,{P:function(){return r}});var c=n(60044);class o{async setPublicAddress(e){return fetch("".concat(o.BASE_URL,"/set_public_address"),{method:"POST",body:JSON.stringify({url:e}),headers:{"Content-Type":"application/json"}}).then(e=>e.json())}xGetRedirectUrl(){let e=(0,c.ZB)();return"".concat(o.BASE_URL,"/v1/auth/twitter/login?redirect_url=").concat(e)}async getMe(){return fetch("".concat(o.BASE_URL,"/v1/profile/me"),{credentials:"include"}).then(e=>e.json())}async getInvites(){return fetch("".concat(o.BASE_URL,"/v1/profile/me/invites"),{credentials:"include"}).then(e=>e.json())}async postInvite(e){let{x_handle:t}=e;return fetch("".concat(o.BASE_URL,"/v1/profile/me/invites"),{method:"POST",body:JSON.stringify({x_handle:t}),headers:{"Content-Type":"application/json"},credentials:"include"}).then(e=>e.json())}async deleteInvite(e){return fetch("".concat(o.BASE_URL,"/v1/profile/me/invites/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}).then(e=>e.json())}logout(){return fetch("".concat(o.BASE_URL,"/v1/auth/logout"),{credentials:"include"})}async getProfile(e){return fetch("".concat(o.BASE_URL,"/v1/profile/").concat(e),{credentials:"include"}).then(e=>e.json())}async getProfileByHandle(e){return fetch("".concat(o.BASE_URL,"/v1/profile/by_handle/").concat(e),{credentials:"include"}).then(e=>e.json())}async getInvitedBy(){return fetch("".concat(o.BASE_URL,"/v1/profile/me/invited_by"),{credentials:"include"}).then(e=>e.json())}async getDecks(e,t,n){let c=new URLSearchParams;return t&&c.append("is_draft",String(t)),e&&c.append("user_id",e),n&&c.append("is_bookmarked",String(n)),fetch("".concat(o.BASE_URL,"/v1/decks?").concat(c),{credentials:"include"}).then(e=>e.json())}async getFeed(e,t){let{start:n=0,limit:c=20}=e,r=new URLSearchParams;return r.append("start",n.toString()),r.append("limit",c.toString()),fetch("".concat(o.BASE_URL,"/v1/feed?").concat(r),{credentials:"include",signal:t}).then(e=>e.json())}async getDeck(e){return fetch("".concat(o.BASE_URL,"/v1/decks/").concat(e),{credentials:"include"}).then(e=>e.json())}async getDeckSubmissions(e){return fetch("".concat(o.BASE_URL,"/v1/decks/").concat(e,"/submissions"),{credentials:"include"}).then(e=>e.json())}async postDeckSubmission(e){let{deckId:t,filename:n,filetype:c,source_url:r,bytes:a}=e;try{let e={filename:n,filetype:c};r?e={...e,source_url:r}:a&&(e={...e,bytes:Array.from(new Uint8Array(a))});let s=await fetch("".concat(o.BASE_URL,"/v1/decks/").concat(t,"/submissions"),{method:"POST",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json"}});if(!s.ok)throw Error("HTTP Error: ".concat(s.status));let i=await s.json();return console.log("Meme creation response:",i),i}catch(e){console.error("Error creating meme:",e)}}async deleteDeckSubmission(e,t){let n="".concat(o.BASE_URL,"/v1/decks/").concat(e.replace("deck:",""),"/submissions/").concat(t.replace("meme:",""));try{let e=await fetch(n,{method:"DELETE",credentials:"include"});if(!e.ok)throw Error("HTTP Error: ".concat(e.status));let t=await e.json();return console.log("Delete submission response:",t),t}catch(e){console.error("Delete submission error:",e)}}async updateDeckSubmission(e,t,n,c){let r,a,s="".concat(o.BASE_URL,"/v1/decks/").concat(e.replace("deck:",""),"/submissions/").concat(t.replace("meme:",""));"rejected"===n?s+="/reject":"accepted"===n&&(s+="/accept",r=JSON.stringify({index:c}),a={"Content-Type":"application/json"});let i="POST";"rejected"===n?i="DELETE":"accepted"===n&&(i="POST");try{let e=await fetch(s,{method:i,credentials:"include",headers:a,body:r});if(!e.ok)throw Error("HTTP Error: ".concat(e.status));let t=await e.json();return console.log("update submission response:",t),t}catch(e){console.error("update submission error:",e)}}async getLibrary(e,t){let{search:n="",source:c=["upload","generated"],start:r=0,limit:a=20}=e,s=new URLSearchParams;return n&&s.append("search",n),c.length>0&&s.append("source",c.join(",")),s.append("limit",a.toString()),s.append("start",r.toString()),fetch("".concat(o.BASE_URL,"/v1/profile/me/library?").concat(s),{credentials:"include",signal:t}).then(e=>e.json())}async getUploads(e,t){let{deckId:n,search:c="",start:r=0,limit:a=20}=e,s=new URLSearchParams;return n&&s.append("deck_id",n),c&&s.append("search",c),s.append("limit",a.toString()),s.append("start",r.toString()),fetch("".concat(o.BASE_URL,"/v1/profile/me/uploads?").concat(s),{credentials:"include",signal:t}).then(e=>e.json())}async getMemesByHandle(e,t,n){let{search:c="",start:r=0,limit:a=20}=t,s=new URLSearchParams;return c&&s.append("search",c),s.append("limit",a.toString()),s.append("start",r.toString()),fetch("".concat(o.BASE_URL,"/v1/profile/by_handle/").concat(e,"/memes?").concat(s),{credentials:"include",signal:n}).then(e=>e.json())}async getMeme(e){return fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e),{credentials:"include"}).then(e=>e.json())}async getSavedMemes(e,t){let{search:n="",start:c=0,limit:r=20}=e,a=new URLSearchParams;return n&&a.append("search",n),a.append("limit",r.toString()),a.append("start",c.toString()),fetch("".concat(o.BASE_URL,"/v1/memes/saved?").concat(a),{credentials:"include",signal:t}).then(e=>e.json())}async deleteMeme(e){return fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e),{method:"DELETE",credentials:"include"}).then(e=>e.json())}async postMeme(e){let{filename:t,filetype:n,source_url:c,bytes:r}=e;try{let e={filename:t,filetype:n};c?e={...e,source_url:c}:r&&(e={...e,bytes:Array.from(new Uint8Array(r))});let a=await fetch("".concat(o.BASE_URL,"/v1/memes"),{method:"POST",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("HTTP Error: ".concat(a.status));let s=await a.json();return console.log("Meme creation response:",s),s}catch(e){console.error("Error creating meme:",e)}}async postMemeTextOverlay(e,t){try{let n=await fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e,"/text_overlay"),{method:"POST",body:JSON.stringify(t),credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw Error("HTTP Error: ".concat(n.status));let c=await n.json();return console.log("Meme text overlay response:",c),c}catch(e){console.error("Error creating meme text overlay:",e)}}async createComposedMeme(e){try{let t=await fetch("".concat(o.BASE_URL,"/v1/memes/composed"),{method:"POST",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP Error: ".concat(t.status));let n=await t.json();return console.log("POST Compose Meme response:",n),n}catch(e){console.error("Error POST Compose Meme:",e)}}async updateMemePanel(e,t,n){try{let c=await fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e,"/panel/").concat(t),{method:"PUT",body:JSON.stringify(n),credentials:"include",headers:{"Content-Type":"application/json"}});if(!c.ok)throw Error("HTTP Error: ".concat(c.status));let r=await c.json();return console.log("PUT Meme Panel response:",r),r}catch(e){console.error("Error PUT Meme Panel:",e)}}async updateComposedMemeLayout(e,t){try{let n=await fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e,"/layout"),{method:"PUT",body:JSON.stringify(t),credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw Error("HTTP Error: ".concat(n.status));let c=await n.json();return console.log("PUT Compose Meme Layout response:",c),c}catch(e){console.error("Error PUT Compose Meme Layout:",e)}}async composedUpload(e,t){try{let n=await fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e,"/composed-upload"),{method:"POST",body:JSON.stringify(t),credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw Error("HTTP Error: ".concat(n.status));let c=await n.json();return console.log("POST Compile Meme response:",c),c}catch(e){console.error("Error POST Compile Meme:",e)}}async getTrending(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return fetch("".concat(o.BASE_URL,"/v1/search/trending?start=0&limit=").concat(e),{credentials:"include"}).then(e=>e.json())}async getRecommendedFollows(){return fetch("".concat(o.BASE_URL,"/v1/recommended-follow"),{credentials:"include"}).then(e=>e.json())}async createDeck(){try{let e=await fetch("".concat(o.BASE_URL,"/v1/decks"),{method:"POST",body:JSON.stringify({name:"",description:"",memes:[]}),credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("HTTP Error: ".concat(e.status," ").concat(e.body));let t=await e.json();return console.log("Deck creation response:",t),t}catch(e){console.error("Error creating deck:",e)}}async updateDeck(e,t){try{console.log("updating deck",e,t);let n=await fetch("".concat(o.BASE_URL,"/v1/decks/").concat(e.replace("deck:","")),{method:"PUT",body:JSON.stringify(t),credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw Error("HTTP Error: ".concat(n.status));let c=await n.json();console.log("Deck update response:",c)}catch(e){console.error("Error creating deck:",e)}}async deleteDeck(e){try{let t=await fetch("".concat(o.BASE_URL,"/v1/decks/").concat(e),{method:"DELETE",credentials:"include"});if(!t.ok)throw Error("HTTP Error: ".concat(t.status));console.log("Deck deletion response:",t)}catch(e){console.error("Error deleting deck:",e)}}async publishDeck(e,t){try{let n=await fetch("".concat(o.BASE_URL,"/v1/decks/").concat(e,"/publish"),{method:t?"DELETE":"POST",body:null,credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw Error("HTTP Error: ".concat(n.status," ").concat(n.body));let c=await n.json();return console.log("deck publish response:",c),c}catch(e){console.error("deck publish error:",e)}}async createPost(e){return(await fetch("".concat(o.BASE_URL,"/v1/feed"),{method:"POST",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json"}})).json()}async deletePost(e){return(await fetch("".concat(o.BASE_URL,"/v1/feed/").concat(e),{method:"DELETE",credentials:"include"})).json()}async publishMeme(e){try{let t=await fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e.replace("meme:",""),"/publish"),{method:"POST",body:null,credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP Error: ".concat(t.status," ").concat(t.body));return await t.json()}catch(e){console.error("deck publish error:",e)}}async unpublishMeme(e){try{let t=await fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e.replace("meme:",""),"/publish"),{method:"DELETE",body:null,credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP Error: ".concat(t.status," ").concat(t.body));return await t.json()}catch(e){console.error("deck publish error:",e)}}async bookmarkDeck(e,t){try{let n=await fetch("".concat(o.BASE_URL,"/v1/decks/").concat(e,"/bookmark"),{method:t?"DELETE":"POST",body:null,credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw Error("HTTP Error: ".concat(n.status," ").concat(n.body));let c=await n.json();return console.log("deck bookmark response:",c),c}catch(e){console.error("deck bookmark error:",e)}}async getMemeReactions(e){let t=await fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e.replace("meme:",""),"/reacts"),{credentials:"include"}),n=await t.json();return n.reduce((e,t)=>(e[t.react]||(e[t.react]={count:0,data:n}),e[t.react].count+=1,e),{})}async createMemeReaction(e,t){return(await fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e.replace("meme:",""),"/reacts"),{method:"POST",credentials:"include",body:JSON.stringify({react:t}),headers:{"Content-Type":"application/json"}})).json()}async deleteMemeReaction(e,t){return(await fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e.replace("meme:",""),"/reacts"),{method:"DELETE",credentials:"include",body:JSON.stringify({react:t}),headers:{"Content-Type":"application/json"}})).json()}async searchTags(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return fetch("".concat(o.BASE_URL,"/v1/tags/search?search=").concat(e,"&limit=").concat(t,"&sort=Recent"),{credentials:"include"}).then(e=>e.json())}async tagResource(e,t){try{let n=await fetch("".concat(o.BASE_URL,"/v1/tags"),{method:"POST",body:JSON.stringify({resource_id:e,tag:t}),credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw Error("HTTP Error: ".concat(n.status," ").concat(n.body));let c=await n.json();return console.log("tag resource response:",c),c}catch(e){console.error("tag resource error:",e)}}async untagResource(e,t){try{let n=await fetch("".concat(o.BASE_URL,"/v1/tags"),{method:"DELETE",body:JSON.stringify({resource_id:e,tag_id:t}),credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw Error("HTTP Error: ".concat(n.status," ").concat(n.body));let c=await n.json();return console.log("untag resource response:",c),c}catch(e){console.error("untag resource error:",e)}}async saveMeme(e,t){try{let n=await fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e,"/save"),{method:t?"DELETE":"POST",body:null,credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw Error("HTTP Error: ".concat(n.status," ").concat(n.body));let c=await n.json();return console.log("deck bookmark response:",c),c}catch(e){console.error("deck bookmark error:",e)}}async updateMeme(e,t){try{let n=await fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e),{method:"PUT",body:JSON.stringify(t),credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw Error("HTTP Error: ".concat(n.status));let c=await n.json();return console.log("Meme put response:",c),c}catch(e){console.error("Error updating meme:",e)}}async search(e,t){let{search:n="",start:c=0,limit:r=20}=e,a=new URLSearchParams;return n&&a.append("search",n),a.append("limit",r.toString()),a.append("start",c.toString()),fetch("".concat(o.BASE_URL,"/v1/search?").concat(a),{credentials:"include",signal:t}).then(e=>e.json())}async getExplore(e,t){let{interval:n,limit:c}=e,r=new URLSearchParams;return n&&r.append("interval",n.toString()),c&&r.append("limit",c.toString()),fetch("".concat(o.BASE_URL,"/v1/explore?").concat(r),{credentials:"include",signal:t}).then(e=>e.json())}async randomMeme(e){return fetch("".concat(o.BASE_URL,"/v1/memes/random?search=").concat(e||"pepe"),{credentials:"include"}).then(e=>e.json())}async createDeckReaction(e,t){return(await fetch("".concat(o.BASE_URL,"/v1/decks/").concat(e.replace("deck:",""),"/reacts"),{method:"POST",credentials:"include",body:JSON.stringify({react:t}),headers:{"Content-Type":"application/json"}})).json()}async deleteDeckReaction(e,t){return(await fetch("".concat(o.BASE_URL,"/v1/decks/").concat(e.replace("deck:",""),"/reacts"),{method:"DELETE",credentials:"include",body:JSON.stringify({react:t}),headers:{"Content-Type":"application/json"}})).json()}async getAnalytics(){return fetch("".concat(o.BASE_URL,"/v1/analytics"),{credentials:"include"}).then(e=>e.json())}async getProductUpdates(){return fetch("".concat(o.BASE_URL,"/v1/product_updates"),{credentials:"include"}).then(e=>e.json())}async dismissProductUpdate(e){return fetch("".concat(o.BASE_URL,"/v1/product_updates"),{method:"DELETE",credentials:"include",body:JSON.stringify({product_update_id:e}),headers:{"Content-Type":"application/json"}}).then(e=>e.json())}async faceswapUpload(e,t,n){try{let c=await fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e,"/panel/").concat(t,"/faceswap-upload"),{method:"POST",body:JSON.stringify(n),credentials:"include",headers:{"Content-Type":"application/json"}});if(!c.ok)throw Error("HTTP Error: ".concat(c.status));let r=await c.json();return console.log("POST faceswap upload response:",r),r}catch(e){console.error("Error POST faceswap upload:",e)}}async faceswapDelete(e,t,n){try{let c=await fetch("".concat(o.BASE_URL,"/v1/memes/").concat(e,"/panel/").concat(t,"/faceswap-upload"),{method:"DELETE",body:JSON.stringify(n),credentials:"include",headers:{"Content-Type":"application/json"}});if(!c.ok)throw Error("HTTP Error: ".concat(c.status));let r=await c.json();return console.log("DELETE faceswap upload response:",r),r}catch(e){console.error("Error POST faceswap upload:",e)}}}o.BASE_URL=(0,c.bR)();let r=new o},60044:function(e,t,n){n.d(t,{BB:function(){return o},Dt:function(){return s},ZB:function(){return l},bR:function(){return i},cm:function(){return r},j7:function(){return a}});var c=n(81247);let o="true"===c.env.NEXT_PUBLIC_IS_PROD,r="true"===c.env.NEXT_PUBLIC_IS_STAGING,a=!0,s=()=>/Android/i.test(navigator.userAgent);function i(){return a?window.location.origin+"/memedeck:memedeck:meme-deck.os":o?"https://api.memedeck.xyz":r?"https://staging-api.memedeck.xyz":"http://localhost:8080"}function l(){return a?window.location.origin+"/memedeck:memedeck:meme-deck.os/home":o?"https://memedeck.xyz/home":r?"https://staging.memedeck.xyz/home":"http://localhost:3000/home"}}}]);