(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3798],{30258:function(e,s,l){Promise.resolve().then(l.bind(l,13108)),Promise.resolve().then(l.bind(l,47715))},13343:function(e,s,l){"use strict";l.d(s,{E:function(){return n}});var t=l(57348),a=l(81015),r=l(54167);let n=e=>{let{children:s,...l}=e;return r.BB||r.cm?(0,t.jsx)(a.e,{...l,children:s}):(0,t.jsx)(t.Fragment,{children:s})}},59602:function(e,s,l){"use strict";l.d(s,{y:function(){return i}});var t=l(57348),a=l(37824),r=l(13582),n={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/arrow.left.37648ed6.svg",height:46,width:57,blurWidth:0,blurHeight:0};let i=e=>{let{title:s,subtitle:l,border:i="border-b border-transparent",isLoading:c=!1,endContent:o,onGoBack:d}=e,{goBack:u}=(0,r.useAppHistory)();return(0,t.jsxs)("div",{className:"flex h-16 w-full items-center ".concat(i),children:[(0,t.jsx)(a.O,{src:n,alt:"Back",onClick:null!=d?d:u}),c?(0,t.jsx)("h1",{className:"h-6 w-24 animate-pulse rounded bg-gray-200"}):(0,t.jsxs)("div",{className:"flex flex-col flex-1 truncate",children:[(0,t.jsx)("h1",{className:"flex-1 text-left text-lg font-bold truncate",children:s}),l]}),o]})}},47715:function(e,s,l){"use strict";l.r(s),l.d(s,{ProfileBaseLayout:function(){return C}});var t,a,r=l(57348),n=l(53350),i=l(67425),c=l(90226),o=l(6526),d=l(53300),u=l(38028),x=l(15346),m=l(59602),f=l(13343),h=l(54144),p=l(20923),b=l(13881),g=l(16189),j=l(12465),v=l(35878);(t=a||(a={})).Memes="Memes",t.Decks="Decks",t.Bookmarks="Bookmarks";let w=(e,s)=>{let l=s.toLowerCase();switch(e){case"Memes":return"/u/".concat(l);case"Decks":return"/u/".concat(l,"/decks");case"Bookmarks":return"/u/".concat(l,"/bookmarks");default:return""}},k=e=>{let{handle:s,isSelf:l}=e,t=(0,g.useRouter)(),n=(0,g.usePathname)(),[c,o]=(0,x.useState)(!1),d=(0,x.useCallback)(async()=>{try{o(!0);let e=await v.P.createDeck({title:"",description:"",auto_post:!1,require_approval:!1,cover_photo:null,admins:null,matching_rules:null,post_ids:null});if(!e)throw Error("Failed to create new deck");t.push("/deck/".concat(e.id.replace("deck:",""),"/edit"))}catch(e){console.error(e),o(!1),(0,j.yv)("Failed to create new deck",{variant:"error"})}},[t]);return(0,r.jsxs)("div",{className:"relative flex min-w-full max-w-full flex-row items-center justify-between gap-3 overflow-x-auto border-b-1 border-white-400/15 px-1.5",children:[(0,r.jsx)(h.n,{color:"primary",variant:"underlined","aria-label":"Profile tabs",radius:"full",selectedKey:n.toLowerCase(),classNames:{base:"w-full xs:mt-2 mt-1",tabList:"gap-4 w-full relative rounded-none p-0 border-b border-divider px-3 xs:justify-center md:justify-start border-none",cursor:"w-full bg-blue-500",tab:"max-w-fit px-0 !h-12 select-none outline-none",tabContent:"group-data-[selected=true]:text-blue-500 px-1 text-white-400/75 font-semibold tracking-wide mb-1 !text-base !font-semibold"},children:Object.values(a).map(e=>{let l=w(e,s);return(0,r.jsx)(p.r,{className:"!focus-visible:outline-none",title:(0,r.jsx)("h2",{children:e}),as:b.default,href:l},l)})}),l&&(0,r.jsx)(i.A,{variant:"bordered",isLoading:c,onClick:d,children:"New Deck"})]})},N=e=>{let{handle:s=""}=e;return(0,r.jsxs)("div",{className:"flex flex-col gap-12",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 px-3",children:[(0,r.jsx)("div",{className:"size-24 rounded-full bg-black-300"}),(0,r.jsx)("div",{className:"mb-2 flex flex-col gap-2",children:(0,r.jsxs)("h3",{className:"text-lg font-medium leading-4 text-white-400/70",children:["@",s]})})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-3 px-3",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold leading-6",children:"This account doesnâ€™t exist"}),(0,r.jsx)("p",{className:"text-lg font-medium leading-4 text-white-400/70",children:"Try searching for another."})]})]})};var _=l(95478),y=l(13582),P=l(71402);let C=e=>{let{params:s,children:l}=e,{handle:t}=(0,_.u)({params:s,key:"handle"}),{profile:a}=(0,P.useProfile)(),{goBack:h}=(0,y.useAppHistory)(),[p,b]=(0,x.useState)(null),[g,j]=(0,x.useState)(!0),[w,C]=(0,x.useState)(),z=(0,x.useMemo)(()=>(null==a?void 0:a.twitter_profile.screen_name)===t,[t,a]),B=(0,x.useMemo)(()=>{var e;return null!==(e=null==w?void 0:w.profile_image_url_https.replace("_normal",""))&&void 0!==e?e:""},[w]),E=(0,x.useCallback)(()=>{v.P.logout().then(()=>{window.location.reload()})},[]);return((0,x.useEffect)(()=>{a&&z?(C(a.twitter_profile),b(a.user.badge_image_url),j(!1)):v.P.getProfileByHandle(t).then(e=>{e?(C(e.twitter_profile),b(e.badge_image_url)):(C(null),b(null))}).catch(()=>C(null)).finally(()=>j(!1))},[z,t,a]),g)?(0,r.jsxs)("div",{className:"flex size-full flex-col gap-3",children:[(0,r.jsx)(m.y,{title:"",isLoading:!0}),(0,r.jsxs)("div",{className:"mb-2 flex items-center gap-3 px-3",children:[(0,r.jsx)("div",{className:"size-24 animate-pulse rounded-full bg-gray-200"}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("div",{className:"h-6 w-48 animate-pulse rounded bg-gray-200"}),(0,r.jsx)("div",{className:"h-4 w-32 animate-pulse rounded bg-gray-200"})]})]}),(0,r.jsx)(k,{handle:"",isSelf:z})]}):w?(0,r.jsxs)("div",{className:"flex size-full flex-col gap-3",children:[(0,r.jsx)(m.y,{title:"Profile",onGoBack:()=>h("/home","/u/".concat(w.screen_name)),endContent:z?(0,r.jsx)(i.A,{isIconOnly:!0,variant:"flat",className:"flex md:hidden mr-3",onClick:E,children:(0,r.jsx)(n.JO,{icon:"iconamoon:exit",width:16})}):void 0}),(0,r.jsx)(c.z,{name:(0,r.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,r.jsx)("h2",{className:"text-2xl font-black",children:w.name}),p&&(0,r.jsx)(f.E,{content:"Kinode user",children:(0,r.jsx)(o.J,{src:p,alt:"badge",className:"rounded-md",width:24,height:24})})]}),classNames:{base:"flex sm:flex-col mb-2 xs:mb-2 xs:flex-col md:flex-row lg:flex-row xs:gap-2 sm:gap-4 justify-start sm:px-4",wrapper:"flex xs:items-center xs:gap-1 sm:gap-1 md:gap-0.5 sm:items-center md:items-start",name:"text-2xl font-bold"},description:(0,r.jsxs)(d.O,{href:"https://twitter.com/".concat(w.screen_name),size:"sm",className:"flex items-center text-base font-normal text-white-400/50",isExternal:!0,children:["@".concat(w.screen_name),(0,r.jsx)(u.x,{})]}),avatarProps:{className:"!xs:size-14 !size-24 overflow-hidden rounded-full",src:B,alt:w.screen_name}}),(0,r.jsx)(k,{handle:t,isSelf:z}),l]}):(0,r.jsxs)("div",{className:"flex size-full flex-col gap-3",children:[(0,r.jsx)(m.y,{title:""}),(0,r.jsx)(N,{handle:t})]})}},95478:function(e,s,l){"use strict";l.d(s,{u:function(){return a}});var t=l(16189);let a=e=>{var s;let{key:l,index:a,params:r}=e,n=(0,t.usePathname)(),i=null!==(s=n&&n.split("/")[a||2])&&void 0!==s?s:"",c=r[l]||i;return{[l]:c}}}},function(e){e.O(0,[7398,2221,4175,454,2872,3881,7686,1133,312,6378,9832,4461,5878,5073,3108,937,7114,1744],function(){return e(e.s=30258)}),_N_E=e.O()}]);