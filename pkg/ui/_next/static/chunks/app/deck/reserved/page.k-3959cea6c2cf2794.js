(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8708],{11284:function(e,t,s){Promise.resolve().then(s.bind(s,90366))},84394:function(e,t,s){"use strict";s.d(t,{Ud:function(){return x},hd:function(){return o},Ew:function(){return u},QB:function(){return m}});var l=s(7590),n=s(64064),a=s(27613),r=s(4763),i={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo.a86b8f2b.svg",height:256,width:256,blurWidth:0,blurHeight:0},c=s(22566),d=s(57031);let o=()=>(0,l.jsx)("div",{className:"flex h-16 min-h-16 select-none items-center justify-center lg:justify-start",children:(0,l.jsxs)(r.default,{href:"/home",children:[(0,l.jsxs)("div",{className:"hidden gap-3 items-center lg:flex",children:[(0,l.jsx)(m,{}),(0,l.jsx)(x,{})]}),(0,l.jsx)("div",{className:"lg:hidden",children:(0,l.jsx)(u,{})})]})}),u=()=>(0,l.jsx)(a.default,{src:i,alt:"".concat(d.jG," Icon"),"aria-label":"".concat(d.jG," - ").concat(d.vk),className:"h-10 min-w-10 w-full select-none"}),m=e=>{let{className:t="h-12 w-[120px] object-cover"}=e;return(0,l.jsx)(a.default,{priority:!0,src:c.Z,alt:"".concat(d.jG," Logo"),"aria-label":"".concat(d.jG," - ").concat(d.vk),className:t,draggable:!1})},x=()=>(0,l.jsx)(n.z,{size:"sm",color:"warning",classNames:{base:"mb-0.5 text-yellow-400 bg-yellow-50 border-1 border-yellow-400/10"},children:"Alpha"})},10961:function(e,t,s){"use strict";s.d(t,{E:function(){return r}});var l=s(7590),n=s(29908),a=s(92782);let r=e=>{let{children:t,...s}=e;return a.BB||a.cm?(0,l.jsx)(n.e,{...s,children:t}):(0,l.jsx)(l.Fragment,{children:t})}},47758:function(e,t,s){"use strict";s.d(t,{o:function(){return i}});var l=s(7590),n=s(15866),a=s(57839);let r={default:3,1100:3,700:2,500:1},i=e=>{let{items:t,isFetching:s,hasFetched:i,hasSearched:c,noResultsMessage:d="No memes",className:o="relative overflow-hidden pl-3 pt-3",breakpoints:u=r,renderItem:m}=e;return(0,l.jsxs)("div",{className:o,children:[!s&&0===t.length&&(i||c)?(0,l.jsx)("div",{className:"text-sm text-white-400/50",children:d}):null,s&&(0===t.length||c)&&(0,l.jsx)("div",{className:"flex w-full justify-center p-3 ".concat(c?"absolute z-10":""),children:(0,l.jsx)(n.c,{})}),(0,l.jsx)(a.Z,{breakpointCols:u,className:"my-masonry-grid min-w-full max-w-full",columnClassName:"my-masonry-grid_column",children:t.map(m)}),s&&t.length>0&&(0,l.jsx)("div",{className:"flex w-full justify-center p-3",children:(0,l.jsx)(n.c,{})})]})}},55256:function(e,t,s){"use strict";s.d(t,{W:function(){return r},y:function(){return i}});var l=s(7590),n=s(27613),a=s(10961);let r=e=>{let{avatarSrc:t,badgeSrc:s,screenName:r,userHandle:i,p:c="px-4 py-2"}=e;return(0,l.jsxs)("div",{className:"flex items-center gap-3 text-sm select-none ".concat(c),children:[(0,l.jsx)("div",{className:"bg-black-400 size-8 rounded-full",children:(0,l.jsx)(n.default,{className:"rounded-full",src:t,alt:i,width:40,height:40})}),(0,l.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center gap-2 truncate",children:[(0,l.jsx)("div",{className:"max-w-48 truncate text-md font-semibold leading-tight",children:r}),s&&(0,l.jsx)(a.E,{content:"Kinode user",children:(0,l.jsx)(n.default,{src:s,alt:i,className:"rounded-sm",width:14,height:14})})]}),(0,l.jsxs)("div",{className:"text-white-400/50 text-sm",children:["@",i]})]})]})},i=()=>(0,l.jsxs)("div",{className:"flex items-center gap-3 text-sm select-none px-4 py-2 w-full",children:[(0,l.jsx)("div",{className:"bg-white-400/10 size-8 rounded-full"}),(0,l.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,l.jsx)("div",{className:"bg-white-400/10 w-24 h-[18px] rounded-md"}),(0,l.jsx)("div",{className:"bg-white-400/5 w-20 h-[20px] rounded-md"})]})]})},51241:function(e,t,s){"use strict";s.d(t,{d:function(){return a}});var l=s(7590),n=s(89405);let a=e=>{let{stats:t}=e;return(0,l.jsxs)("span",{className:"px-3 text-white-400/50 text-tiny",children:[t.total_memes," ",(0,n._6)(t.total_memes,"meme","memes")," in"," ",t.time_ms&&"".concat(t.time_ms,"ms")]})}},88222:function(e,t,s){"use strict";s.d(t,{B:function(){return a}});var l=s(7590),n=s(62247);let a=e=>{let{bg:t="bg-black-400",trailColor:s="#8B5CF6",trailWidth:a=500,staticBorderColor:r,rounded:i="rounded-2xl",hideTrail:c=!1,children:d,onClick:o}=e;return(0,l.jsxs)(l.Fragment,{children:[c?null:(0,l.jsx)("div",{className:(0,n.cn)("size-full box-border","absolute inset-0","border-2 border-transparent",i),children:(0,l.jsx)("div",{className:"trail",style:{width:a,"--trail-color":s}})}),(0,l.jsx)("div",{className:(0,n.cn)("size-full min-h-full box-border z-10","overflow-hidden","border-2 border-transparent",i,null!=r?r:""),onClick:o,children:(0,l.jsx)("div",{className:(0,n.cn)("size-full flex flex-col gap-1",t,i),children:d})})]})}},71550:function(e,t,s){"use strict";s.d(t,{g:function(){return c}});var l=s(7590),n=s(70244),a=s(82581),r=s(3333),i=s(62247);let c=e=>{let{deck:t,size:s="md",onClickOverride:c}=e,[d]=(0,r.gJ)(),[o]=(0,r.A6)(),[u,m]=(0,a.useState)(!1),x=(0,a.useCallback)(e=>{if(e.stopPropagation(),e.preventDefault(),c){c();return}t.is_following?o(t.id):d(t.id)},[t.id,t.is_following,d,c,o]);return t?(0,l.jsx)(n.A,{variant:t.is_following?"ghost":"solid",color:t.is_following&&u?"danger":"primary",size:s,className:(0,i.cn)("rounded-xl","sm"===s?"!h-[26px] px-1":"",t.is_following&&"sm"===s?"w-[89px]":"",t.is_following&&"md"===s?"w-[106px]":""),disableRipple:!0,onClick:x,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:(0,l.jsx)("div",{className:"flex gap-2 items-center justify-center w-full",children:(0,l.jsx)("h4",{className:"md"===s?"text-base":"text-sm",children:t.is_following?u?"Unfollow":"Following":"Follow"})})}):null}},12571:function(e,t,s){"use strict";s.d(t,{F:function(){return x}});var l=s(7590),n=s(70244),a=s(72728),r=s(27613),i=s(23143),c=s(82581),d=s(61784),o=s(3333),u=s(85183),m=s(38725);let x=e=>{let{title:t="Generate",variant:s="shadow",color:x="primary",size:h="md",queryParam:f="",className:p="mt-3 md:w-full min-w-[50px] rounded-full",iconSize:g="size-6",isIconOnly:j=!1}=e,v=(0,i.useRouter)(),{data:w}=(0,o.iS)(),b=(0,u.TL)(),[A,N]=(0,c.useState)(!1),k=(0,c.useCallback)(()=>{if(!w){b((0,d.it)());return}try{N(!0),v.push("/studio".concat(f))}catch(e){N(!1)}},[b,w,f,v]);return(0,c.useEffect)(()=>{},[]),(0,l.jsx)(n.A,{type:"button",variant:s,color:x,className:(0,a.cn)("flex !gap-2",p),size:h,radius:"full",disableRipple:!0,isIconOnly:j,startContent:(0,l.jsx)(r.default,{src:m.Z,alt:"Generate",className:g}),isDisabled:A,onClick:k,children:(0,l.jsx)("h4",{className:"hidden lg:block text-base truncate",children:t})})}},857:function(e,t,s){"use strict";s.d(t,{b:function(){return c}});var l=s(7590),n=s(89666),a=s(61594),r=s(72728),i=s(82581);let c=e=>{let{contest:t}=e,s=(0,i.useMemo)(()=>[...t.judges,...t.contestants].filter((e,t,s)=>s.findIndex(t=>t.id===e.id)===t),[t.contestants,t.judges]),c=(0,i.useMemo)(()=>s.length-3,[s]);return(0,l.jsxs)("div",{className:"flex items-center justify-end",children:[(0,l.jsx)(n._,{size:"sm",children:s.slice(0,3).map(e=>(0,l.jsx)(a.h,{src:e.avatar,size:"sm",classNames:{base:"border-2 border-black-0"}},e.id))}),c>0?(0,l.jsxs)("div",{className:(0,r.cn)("flex items-center justify-center size-8","rounded-full bg-[#3F3F46] border-2 border-black-0 -ml-3 z-10","font-medium text-sm select-none"),children:["+",c]}):(0,l.jsx)("div",{})]})}},43662:function(e,t,s){"use strict";s.d(t,{g:function(){return B}});var l,n=s(7590),a=s(72728),r=s(82581),i=s(69622),c=s(81662),d=s(70244),o=s(23143),u=s(857),m=s(51124),x=s(47709);let h=e=>{let{contest:t}=e,{getDateRange:s}=(0,x.S)(),l=new Date(t.end_time).toLocaleDateString("en-US",{month:"short",day:"numeric"});return(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)(i.JO,{icon:"akar-icons:calendar",className:"size-4 text-white-400/50"}),(0,n.jsx)("p",{className:"text-sm text-white-400/60",children:(()=>{switch(t.status){case"active":return"Ends ".concat(l);case"ended":return"Ended ".concat(l);default:return s({start:(0,m.Aj)(t.start_time),end:(0,m.Aj)(t.end_time)})}})()})]})};var f=s(39659),p=s(66788),g=s(27613),j={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/winner.7c11c905.svg",height:33,width:33,blurWidth:0,blurHeight:0};let v=e=>{var t;let{contest:s}=e;return(null===(t=s.winner)||void 0===t?void 0:t.meme_url)?(0,n.jsx)("div",{className:"absolute right-3 top-3",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(g.default,{alt:"Winning meme",className:"size-[98px] rounded-xl object-cover",width:92,height:92,src:s.winner.meme_url}),(0,n.jsx)("div",{className:"absolute -bottom-3 -translate-x-1/2 left-1/2",children:(0,n.jsx)(g.default,{src:j,width:32,height:32,alt:"Winning meme icon",className:"size-8"})})]})}):null};var w=s(21059),b=s(99395),A=s(15866),N=s(42739),k=s(60997),y=s(72655),C=s(3333);(l||(l={})).Delete="delete";let S=e=>{let{contestId:t,size:s="sm",variant:l="light",itemsToRender:a=["delete"],isLoading:c,isDisabled:o}=e,[u,{isLoading:m}]=(0,C.k8)(),x=(0,r.useCallback)(async e=>{e.stopPropagation(),e.preventDefault();try{await u(t)}catch(e){console.error("Failed to delete contest",e),(0,y.yv)("Failed to delete contest",{variant:"error"})}},[t,u]),h=(0,r.useMemo)(()=>[{key:"delete",label:"Delete",color:"danger",startContent:(0,n.jsx)(i.JO,{className:"size-5",icon:"tabler:trash"}),onClick:x}],[x]);return(0,n.jsxs)(w.F,{classNames:{content:"min-w-0 w-auto"},children:[(0,n.jsx)(b.S,{children:m||c?(0,n.jsx)("div",{className:"flex items-center justify-center size-8",children:(0,n.jsx)(A.c,{size:"sm"})}):(0,n.jsx)(d.A,{isIconOnly:!0,size:s,variant:l,isDisabled:o,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,n.jsx)(i.JO,{className:"size-5",icon:"tabler:dots"})})}),(0,n.jsx)(N.a,{children:h.filter(e=>a.includes(e.key)).map(e=>(0,n.jsx)(k.W,{color:e.color,startContent:e.startContent,onClick:e.onClick,children:e.label},e.key))})]})};var z=s(88222),_=s(61784),E=s(85183),D=s(62247),M=s(96616);let I=e=>{var t;let{contest:s,allowEdit:l=!1}=e,a=(0,o.useRouter)(),{data:m}=(0,C.iS)(),x=(0,E.TL)(),[g,j]=(0,r.useState)(!1),w=s.judges.some(e=>e.id===(null==m?void 0:m.id)),b="upcoming"===s.status||"draft"===s.status,A="active"===s.status,N="ended"===s.status,k="ended"===s.status&&(null===(t=s.winner)||void 0===t?void 0:t.meme_url),y=(0,r.useCallback)(()=>{if(!m)return x((0,_.it)());j(!0),a.push((0,M.eT)(s))},[s,x,m,a]),I=(0,r.useCallback)(()=>{if(!m)return x((0,_.it)());a.push((0,M.CU)(s))},[s,x,m,a]);return(0,n.jsx)(c.w,{className:(0,D.cn)("min-h-0 min-w-96","rounded-lg cursor-pointer bg-black-400"),children:(0,n.jsxs)(z.B,{hideTrail:!A,staticBorderColor:"ended"===s.status?"border-yellow-400":"border-white-400/10",rounded:"rounded-lg",bg:"bg-black-400",onClick:I,children:[(0,n.jsxs)("header",{className:(0,D.cn)("w-full min-w-0 overflow-hidden flex items-start p-3 gap-3"),children:[(0,n.jsxs)("div",{className:"flex flex-col flex-1 gap-0.5 truncate",children:[(0,n.jsxs)("div",{className:"relative flex",children:[(0,n.jsx)("h3",{className:(0,D.cn)("flex-1 text-base font-extrabold truncate"),children:(0,n.jsx)("span",{className:"cursor-pointer hover:underline",children:s.title.length>0?s.title:"Untitled"})}),k&&(0,n.jsx)("div",{className:"h-full w-28"})]}),(0,n.jsxs)("div",{className:"relative flex items-center gap-3",children:[(0,n.jsx)(h,{contest:s}),(0,n.jsx)(p.I,{contest:s}),k&&(0,n.jsx)("div",{className:"h-full w-28"})]})]}),w&&l&&b?(0,n.jsx)(S,{contestId:s.id}):b?(0,n.jsx)(d.A,{size:"sm",radius:"full",variant:"faded",color:"default",isDisabled:!0,children:"Upcoming"}):A?(0,n.jsx)(d.A,{size:"sm",color:"primary",radius:"full",className:"bg-violet-500 min-w-16",endContent:(0,n.jsx)(i.JO,{icon:"mdi:arrow-right",className:"text-white-400"}),isDisabled:g,onClick:y,children:(0,n.jsx)("h4",{className:"text-sm",children:"Apply"})}):N?k?(0,n.jsx)(v,{contest:s}):(0,n.jsx)(d.A,{size:"sm",radius:"full",color:"default",isDisabled:!0,children:"Ended"}):(0,n.jsx)("div",{})]}),(0,n.jsxs)("footer",{className:"flex gap-1 items-center justify-between pr-3",children:[(0,n.jsx)(f.U,{contest:s,rounded:"rounded-tr-lg",p:"px-2 sm:px-3"}),!k&&(0,n.jsx)(u.b,{contest:s})]})]})})},R=()=>(0,n.jsx)(c.w,{className:(0,D.cn)("h-[126px] min-w-96","border-2 border-transparent","bg-black-400 rounded-lg"),children:(0,n.jsx)("header",{className:(0,D.cn)("w-full min-w-0 overflow-hidden flex items-start p-3 gap-3"),children:(0,n.jsx)("div",{className:"bg-white-400/5 h-5 w-3/4 rounded-sm"})})}),B=e=>{let{contests:t,isLoading:s,p:l="px-3 md:px-5",allowEdit:i=!1,showNoContestsText:c=!1}=e,d=(0,r.useMemo)(()=>(null!=t?t:[]).filter(e=>!!e.title&&!!e.description&&!!e.prize&&!!e.prize.token_amount).filter(e=>"draft"!==e.status),[t]);return s?(0,n.jsx)("section",{className:(0,a.cn)("w-full flex gap-3 overflow-x-scroll",l),children:[1,2,3].map(e=>(0,n.jsx)(R,{},e))}):0===d.length?c?(0,n.jsx)("p",{className:"px-3 text-sm text-white-400/50",children:"No contests found"}):null:(0,n.jsx)("section",{className:(0,a.cn)("w-full flex gap-3 overflow-x-scroll",l),children:d.map(e=>(0,n.jsx)(I,{contest:e,allowEdit:i},e.id))})}},39659:function(e,t,s){"use strict";s.d(t,{U:function(){return c}});var l=s(7590),n=s(69622),a=s(72728),r=s(61594),i=s(7922);let c=e=>{let{contest:t,h:s="h-12",p:c="p-3",rounded:d="rounded-2xl",isSmall:o=!0}=e,u="ended"===t.status,m=t.winner,x=u&&m;return(0,l.jsx)("div",{className:(0,a.cn)("flex relative truncate",s),children:(0,l.jsxs)("div",{className:(0,a.cn)("flex items-center gap-1.5 truncate",c,d,(()=>{switch(t.status){case"ended":return"bg-yellow-400";case"active":return"bg-violet-500";default:return"bg-black-300"}})()),children:[x?(0,l.jsx)(r.h,{src:m.contestant.avatar,size:"sm",classNames:{base:"border-2 border-black-0"}}):(0,l.jsx)(n.JO,{icon:"iconoir:coin",className:"size-5"}),t.prize?(0,l.jsxs)("div",{className:"flex flex-col truncate",children:[x&&(0,l.jsx)("span",{className:"text-white-400 font-bold leading-4 truncate",children:m.contestant.name}),(0,l.jsxs)("div",{className:(0,a.cn)("flex items-center gap-1 truncate"),children:[(0,l.jsxs)("span",{className:(0,a.cn)("text-white-400",x?"font-semibold":"font-bold",o?x?"text-sm":"text-base":"text-lg"),children:[x?"+":"",(0,i.pw)(t.prize.token_amount)]}),(0,l.jsx)("span",{className:(0,a.cn)("text-white-400/75 font-medium truncate",o?"text-sm":"text-base",o?"":"mt-[1px]"),children:t.prize.ticker})]})]}):(0,l.jsx)("p",{className:"font-bold",children:"TBD"})]})})}},66788:function(e,t,s){"use strict";s.d(t,{I:function(){return r}});var l=s(7590),n=s(69622),a=s(89405);let r=e=>{let{contest:t,highLightNumber:s}=e,r="draft"===t.status,i="upcoming"===t.status;return r||i?null:(0,l.jsxs)("div",{className:"flex items-center gap-1 truncate",children:[(0,l.jsx)(n.JO,{icon:"lets-icons:send-hor-light",className:"size-5 text-white-400/50"}),(0,l.jsxs)("div",{className:"flex gap-1 text-sm text-white-400/60 truncate",children:[(0,l.jsx)("span",{className:s?"text-white-400 font-medium":"",children:t.entry_count}),(0,l.jsx)("span",{className:"truncate",children:(0,a._6)(t.entry_count,"submission","submissions")})]})]})}},12257:function(e,t,s){"use strict";s.d(t,{A:function(){return i}});var l=s(7590),n=s(59869),a=s(71604),r=s(7922);let i=e=>{let{name:t,description:s,duration:i,prize:c}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-3 min-h-0",children:[(0,l.jsx)(a.e,{children:(0,l.jsxs)(l.Fragment,{children:[t&&(0,l.jsx)(n.l,{label:"Title",content:t}),s&&(0,l.jsx)(n.l,{label:"Description",content:s}),(0,l.jsx)(n.l,{label:"Duration",content:i,hideBorder:!0})]})}),(0,l.jsx)(a.e,{children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.l,{label:"Criteria",content:"Most upvotes"}),(0,l.jsx)(n.l,{label:"Winners",content:"1",hideBorder:!0})]})}),c&&(0,l.jsx)(a.e,{children:(0,l.jsx)(n.l,{label:"Prize",hideBorder:!0,content:(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{children:(0,r.pw)(c.token_amount)}),(0,l.jsx)("span",{children:c.ticker})]})})})]})}},59869:function(e,t,s){"use strict";s.d(t,{l:function(){return a}});var l=s(7590),n=s(62247);let a=e=>{let{label:t,content:s,p:a="p-3",hideBorder:r=!1}=e;return(0,l.jsxs)("div",{className:(0,n.cn)(a,"w-full h-auto min-h-12","flex items-center",r?"":"border-b border-b-white-400/5"),children:[(0,l.jsx)("div",{className:"flex-[2] text-white-400/50 text-sm font-medium",children:t}),(0,l.jsx)("div",{className:"flex-[3] text-white-400 text-sm",children:s})]})}},71604:function(e,t,s){"use strict";s.d(t,{e:function(){return n}});var l=s(7590);let n=e=>{let{children:t}=e;return(0,l.jsx)("div",{className:"rounded-lg bg-white-400/5 border border-white-400/5",children:t})}},90366:function(e,t,s){"use strict";s.d(t,{DeckPageLayout:function(){return eH}});var l=s(7590),n=s(82581),a=s(25689),r=s(27613),i=s(89666),c=s(61594),d=s(4763),o=s(55256),u=s(3333),m=s(69212),x=s(62247);let h=e=>{let{dataKey:t,limit:s,isHorizontal:n}=e,{deckId:a}=(0,m.w)(),{currentData:r,isLoading:h}=(0,u.X)(a);if(h)return n?(0,l.jsx)("div",{className:"min-w-full w-full max-w-full px-3 py-1 flex justify-start",children:[1,2,3,5,6,7].map(e=>(0,l.jsx)("div",{className:(0,x.cn)("size-10 rounded-full bg-[#1A1A1A] border-2 border-black-0",e>1&&"-ml-3")},"skeleton-avatar-".concat(e)))}):(0,l.jsx)("div",{className:"flex flex-col gap-1",children:[1,2,3].map(e=>(0,l.jsxs)("div",{style:{height:"60px"},className:"flex items-center gap-3 px-4 py-2 text-sm",children:[(0,l.jsx)("div",{className:"bg-white-400/10 size-10 rounded-full"}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col gap-2",children:[(0,l.jsx)("div",{className:"bg-white-400/10 h-4 w-1/2 rounded-md"}),(0,l.jsx)("div",{className:"bg-white-400/5 h-3 w-1/4 rounded-md"})]})]},"skeleton-avatar-".concat(e)))});if(!r)return null;let f=r[t];return 0===f.length?(0,l.jsx)("p",{className:"px-4 text-sm text-white-400/50 leading-normal line-clamp-3",children:"No posters yet"}):n?(0,l.jsx)("div",{className:"w-full pl-5 pr-4 py-1",children:(0,l.jsx)(i._,{max:s,children:f.slice(0,s).map(e=>(0,l.jsx)(d.default,{href:"/u/".concat(e.handle),"aria-label":"View @".concat(e.handle,"'s profile"),className:"hover:bg-white-400/10 rounded-md",children:(0,l.jsx)(c.h,{src:e.avatar,name:e.name,size:"md",className:"border-2 border-black-0"},e.handle)},e.handle))})}):(0,l.jsx)("div",{className:"flex flex-col gap-1",children:f.slice(0,s).map(e=>(0,l.jsx)(d.default,{href:"/u/".concat(e.handle),"aria-label":"View @".concat(e.handle,"'s profile"),className:"hover:bg-white-400/10 rounded-md",children:(0,l.jsx)(o.W,{avatarSrc:e.avatar,badgeSrc:e.badge_image_url,screenName:e.name,userHandle:e.handle})},e.handle))})};var f=s(81750),p=s(22595),g=s(50695),j=s(64064),v=s(21990);let w=e=>{let{title:t,count:s,body:n,isOpen:a,onClose:r}=e;return(0,l.jsx)(f.R,{isOpen:a,onOpenChange:r,children:(0,l.jsxs)(p.A,{className:"pb-4",children:[(0,l.jsxs)(g.k,{className:"flex items-center gap-3 px-6",children:[(0,l.jsx)("h3",{children:t}),s?(0,l.jsx)(j.z,{size:"sm",variant:"flat",children:(0,l.jsx)("span",{className:"font-medium",children:s})}):(0,l.jsx)("div",{})]}),(0,l.jsx)(v.I,{className:"max-h-96 overflow-y-auto px-2 py-0",children:n})]})})},b=e=>{let{title:t,count:s,onClick:n}=e;return(0,l.jsxs)("div",{className:(0,x.cn)("flex items-center gap-3 mb-2 px-4 pt-4",n&&"cursor-pointer underline-title-on-hover"),onClick:n,children:[(0,l.jsx)("h2",{className:"flex items-center justify-between text-lg font-black",children:t}),s?(0,l.jsx)(j.z,{size:"sm",variant:"flat",children:(0,l.jsx)("span",{className:"font-medium no-underline!",children:s>99?"99+":s})}):(0,l.jsx)("div",{})]})};var A=s(67484),N=s(96616);let k=e=>{var t,s,a,r,i,c,o;let{matchingRules:m}=e,x=(0,u.iS)(),h=(0,n.useMemo)(()=>{var e;return null===(e=x.currentData)||void 0===e?void 0:e.studio_config},[null===(t=x.currentData)||void 0===t?void 0:t.studio_config]),f=(0,n.useMemo)(()=>{var e;return null!==(e=null==h?void 0:h.characters)&&void 0!==e?e:[]},[null==h?void 0:h.characters]),p=null!==(r=null===(s=m.characters)||void 0===s?void 0:s.map(e=>f.find(t=>t.id===e)).filter(Boolean))&&void 0!==r?r:[],g=(0,n.useMemo)(()=>{var e;return null!==(e=null==h?void 0:h.aesthetics)&&void 0!==e?e:[]},[null==h?void 0:h.aesthetics]),v=null!==(i=null===(a=m.styles)||void 0===a?void 0:a.map(e=>g.find(t=>t.id===e)).filter(Boolean))&&void 0!==i?i:[],w=null!==(o=(null!==(c=m.keywords)&&void 0!==c?c:"").replaceAll(" ","").split(",").filter(Boolean))&&void 0!==o?o:[];return(0,l.jsxs)("div",{className:"flex flex-col gap-3 w-full px-4 mt-4",children:[(0,l.jsx)(y,{title:"Character",children:0===p.length?x.isFetching?(0,l.jsx)("div",{className:"h-[27px] w-16 rounded-sm animate-pulse bg-gray-200"}):(0,l.jsx)(j.z,{size:"sm",radius:"sm",className:"select-none",variant:"flat",children:"Any"}):p.map(e=>{var t;return(0,l.jsx)(d.default,{href:(0,N.o4)(e.id),children:(0,l.jsx)(j.z,{size:"sm",radius:"sm",className:"gap-1 pl-2",variant:"flat",startContent:(0,l.jsx)(A.J,{className:"size-4 rounded-sm",alt:e.name,src:null!==(t=e.thumbnail)&&void 0!==t?t:""}),children:e.name})},e.id)})}),(0,l.jsx)(y,{title:"Keywords",children:0===w.length?(0,l.jsx)(j.z,{size:"sm",radius:"sm",className:"select-none",variant:"flat",children:"Any"}):w.map(e=>(0,l.jsx)(d.default,{href:"/trending?query=".concat(e,"&interval=week"),children:(0,l.jsx)(j.z,{size:"sm",radius:"sm",variant:"flat",children:e})},e))}),(0,l.jsx)(y,{title:"Style",children:0===v.length?(0,l.jsx)(j.z,{size:"sm",radius:"sm",className:"select-none",variant:"flat",children:"Any"}):v.map(e=>e?(0,l.jsx)(j.z,{size:"sm",radius:"sm",className:"select-none",variant:"flat",children:e.name},e.id):null)})]})},y=e=>{let{title:t,children:s}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("p",{className:"text-xs text-white-400/75 font-medium",children:t}),(0,l.jsx)("div",{className:"flex gap-1 flex-wrap",children:s})]})},C=e=>{let{id:t,text:s,maxCharacters:a=100}=e,[r,i]=(0,n.useState)(!1),{beginText:c,endText:d,itCanOverflow:o}=(0,n.useMemo)(()=>{let e=a-9;if(s.length<=e)return{beginText:s,endText:"",itCanOverflow:!1};let t=e;for(;t>0&&" "!==s[t];)t--;return{beginText:s.slice(0,t).trim(),endText:s.slice(t).trim(),itCanOverflow:!0}},[s,a]),u=(0,n.useCallback)(e=>{("Space"===e.code||"Enter"===e.code)&&i(e=>!e)},[]);return(0,l.jsxs)("span",{id:t,children:[c,o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:(0,x.cn)(r?"hidden":"",o?"mr-2":""),children:"..."}),(0,l.jsx)("span",{className:(0,x.cn)(r?"mr-2":"hidden"),"aria-hidden":!r,children:" ".concat(d)}),(0,l.jsx)("span",{className:"text-violet-400 font-semibold",role:"button",tabIndex:0,"aria-expanded":r,"aria-controls":t,onKeyDown:u,onClick:()=>i(e=>!e),children:r?"Show less":"Show more"})]})]})};var S=s(34804);let z=()=>{let{deckId:e,isAdminsModalOpen:t,setIsAdminsModalOpen:s,isPostersModalOpen:n,setIsPostersModalOpen:i}=(0,m.w)(),{currentData:c}=(0,u.X)(e),d=null==c?void 0:c.posters.length,o=null==c?void 0:c.admins.length;return(0,l.jsx)("aside",{className:(0,x.cn)("hidden flex-1 md:block","min-w-[220px] max-w-[220px] xl:min-w-[250px] xl:max-w-[250px]"),children:(0,l.jsxs)("div",{className:(0,x.cn)("sticky right-0 top-0 bottom-0","flex flex-col gap-6 py-3"),children:[(0,l.jsxs)("section",{className:"w-full",children:[(0,l.jsx)(b,{title:"About"}),c?(0,l.jsx)("p",{className:"px-4 text-sm text-white-400/50 leading-normal",children:(0,l.jsx)(C,{id:c.id+"-description",text:c.description?c.description:"No description",maxCharacters:140})}):(0,l.jsx)("div",{className:"mx-4 animate-pulse rounded bg-gray-200 h-[21px] w-28"}),c&&c.external_links&&c.external_links.length>0&&(0,l.jsx)("div",{className:"flex flex-col gap-2 w-full px-2 mt-4",children:c.external_links.map(e=>(0,l.jsxs)(a.O,{href:e,rel:"nofollow noreferrer",target:"_blank",isBlock:!0,showAnchorIcon:!0,color:"foreground",className:"w-full max-w-full truncate flex items-center",children:[(0,l.jsx)(r.default,{alt:"Link icon",src:(0,S.zN)(e),className:"size-4 min-w-4 opacity-75"}),(0,l.jsx)("span",{className:"flex-1 pl-2 pr-1 truncate text-sm text-white-400/75",children:(0,S.xM)(e)})]},e))})]}),(0,l.jsxs)("section",{className:"w-full",children:[(0,l.jsx)(b,{title:"Admins",count:o,onClick:()=>s(!0)}),(0,l.jsx)(h,{dataKey:"admins",limit:5}),(0,l.jsx)(w,{title:"Admins",count:o,body:(0,l.jsx)(h,{dataKey:"admins"}),isOpen:t,onClose:()=>s(!1)})]}),(0,l.jsxs)("section",{className:"w-full",children:[(0,l.jsx)(b,{title:"Posters",count:d,onClick:()=>i(!0)}),(0,l.jsx)(h,{dataKey:"posters",limit:7,isHorizontal:Number(d)>3}),(0,l.jsx)(w,{title:"Posters",count:d,body:(0,l.jsx)(h,{dataKey:"posters"}),isOpen:n,onClose:()=>i(!1)})]}),c&&c.matching_rules&&(0,l.jsxs)("section",{className:"w-full",children:[(0,l.jsx)(b,{title:"Rules"}),(0,l.jsx)(k,{matchingRules:c.matching_rules})]})]})})};var _=s(43662),E=s(89405);let D=()=>{let{deckId:e,setIsAdminsModalOpen:t}=(0,m.w)(),{currentData:s}=(0,u.X)(e);return s?(0,l.jsx)("div",{className:"md:hidden flex items-center flex-1 px-3 md:px-5",children:(0,l.jsx)(i._,{isBordered:!0,max:3,total:s.admins.length,renderCount:e=>{let t=e-3;return(0,l.jsx)("p",{className:"text-small text-foreground font-medium ms-2 truncate",children:t>0?"+".concat(t," ").concat((0,E._6)(t,"admin","admins")):"".concat(e," ").concat((0,E._6)(e,"admin","admins"))})},className:"hover:underline cursor-pointer",onClick:()=>t(!0),children:s.admins.map(e=>(0,l.jsx)(c.h,{src:e.avatar},e.id))})}):null},M=e=>{let{category:t}=e,{label:s,color:n}="character"===t?{color:"default",label:"Character"}:{color:"secondary",label:"Page"};return(0,l.jsx)(j.z,{variant:"dot",size:"sm",color:n,children:s})};var I=s(23143),R=s(71550),B=s(12571),U=s(21307),T=s(69622),O=s(70244),L=s(72655),P=s(81292),H=s(14688),W=s(60453),F=s(5897),K=s(47709),V=s(51124),q=s(45673);let G=new Date,X=new Date(G.getTime()+864e5),J=new Date(G.getTime()+2592e5),Q=X.toISOString(),Y=J.toISOString(),Z=(0,n.createContext)(void 0),$=e=>{let{contestId:t,children:s}=e,a=(0,n.useMemo)(()=>t.replace("contest:",""),[t]),[r,i]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[o,m]=(0,n.useState)({start:(0,V.Aj)(Q),end:(0,V.Aj)(Y)}),[x,h]=(0,n.useState)({chain_id:0,token_contract_address:"",token_amount:0,ticker:""}),[f]=(0,u.lm)(),{hasUnsavedChanges:p,queueUpdate:g}=(0,q.K)({sendUpdate:f}),j=(0,n.useCallback)(e=>g({id:a,...e}),[a,g]),v=(0,n.useCallback)(e=>{i(e),j({title:e})},[j]),w=(0,n.useCallback)(e=>{d(e),j({description:e})},[j]),b=(0,n.useCallback)(e=>{m(e);let t=e.start.toDate(),s=e.end.toDate();j({start_time:t.toISOString(),end_time:s.toISOString()})},[j]),A=(0,n.useCallback)(e=>{h(e),j({prize:e})},[j]);return(0,l.jsx)(Z.Provider,{value:{name:r,onChangeName:v,description:c,onChangeDescription:w,duration:o,onChangeDuration:b,prize:x,onChangePrize:A,hasUnsavedChanges:p},children:s})},ee=()=>{let e=(0,n.useContext)(Z);if(void 0===e)throw Error("useEditContest must be used within EditContestProvider");return e},et=()=>{let{name:e,onChangeName:t,description:s,onChangeDescription:n,duration:a,onChangeDuration:r}=ee(),{getDateRange:i}=(0,K.S)();return(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,l.jsx)(H.Y,{isRequired:!0,label:"Title",size:"lg",classNames:{inputWrapper:"bg-white-400/5"},value:e,onValueChange:t}),(0,l.jsx)(W.Y,{isRequired:!0,size:"sm",label:"Description",placeholder:"What type of memes should participants generate?",classNames:{inputWrapper:"bg-white-400/5"},value:s,onValueChange:n}),(0,l.jsxs)("div",{className:"w-full flex flex-col gap-y-2",children:[(0,l.jsx)(F.o,{label:"Duration",size:"sm",hideTimeZone:!0,classNames:{inputWrapper:"bg-white-400/5"},value:a,onChange:r}),(0,l.jsxs)("p",{className:"text-white-400/50 text-xs",children:["Selected date:"," ",(0,l.jsx)("span",{className:"font-medium",children:i(a)})]})]})]})};var es=s(33151),el=s(82187),en=s(7922);let ea=(e,t)=>{let s;switch(t){case 1:case 8453:s=/^0x[a-fA-F0-9]{40}$/;break;case 102:s=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/;break;default:return!1}return s.test(e)},er=[{value:102,label:"Solana",default_token_contract_address:"So11111111111111111111111111111111111111112",default_ticker:"SOL",default_amount:10},{value:1,label:"Ethereum",default_token_contract_address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",default_ticker:"ETH",default_amount:.5},{value:8453,label:"Base",default_token_contract_address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",default_ticker:"ETH",default_amount:.5}],ei=()=>{let{prize:e,onChangePrize:t}=ee();return(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,l.jsxs)("div",{className:"w-full flex gap-2",children:[(0,l.jsx)(es.g,{label:"Chain",size:"sm",className:"w-2/5 max-w-64 button-bg-white-400-05",value:e.chain_id.toString(),selectedKeys:[e.chain_id.toString()],onChange:s=>{let l=s.target.value.toString();if(!l)return;let n=er.find(e=>e.value===Number(l));n&&t({...e,chain_id:n.value,ticker:n.default_ticker,token_amount:n.default_amount,token_contract_address:n.default_token_contract_address})},children:er.map(e=>(0,l.jsx)(el.R,{value:e.value.toString(),children:e.label},e.value))}),(0,l.jsx)(H.Y,{isRequired:!0,label:"Token Contract address",size:"sm",classNames:{inputWrapper:"bg-white-400/5"},value:e.token_contract_address,validate:t=>!(t.length>0)||!!ea(t,e.chain_id)||"Invalid address",onValueChange:s=>{t({...e,token_contract_address:s})}})]}),(0,l.jsxs)("div",{className:"w-full flex gap-2",children:[(0,l.jsx)(H.Y,{isRequired:!0,label:"Token amount",size:"sm",classNames:{inputWrapper:"bg-white-400/5"},value:(0,en.pw)(e.token_amount),onValueChange:s=>{let l=Number(s.replaceAll(",",""));(l<0||isNaN(l))&&(l=0),t({...e,token_amount:l})}}),(0,l.jsx)(H.Y,{isRequired:!0,label:"Ticker",placeholder:"e.g. SOL",size:"sm",className:"w-2/5 max-w-64",classNames:{inputWrapper:"bg-white-400/5",input:"p-0"},validate:e=>!(e.length>12)||"Ticker is too long",startContent:(0,l.jsx)("div",{className:"flex items-center justify-center size-5",children:(0,l.jsx)(T.JO,{icon:"mdi:dollar",className:"text-white-400/50 size-4"})}),value:e.ticker,onValueChange:s=>{t({...e,ticker:s})}})]})]})};var ec=s(12257);let ed=()=>{let{name:e,description:t,duration:s,prize:n}=ee(),{getDateRange:a}=(0,K.S)();return(0,l.jsx)(ec.A,{name:e,description:t,duration:a(s),prize:n})};var eo=s(24879),eu=s(93741),em=s(20240),ex=s(83814);let eh=e=>{let{contestId:t,onClickClose:s}=e;return(0,l.jsx)(eo.D,{isOpen:!!t,onClickClose:s,children:t&&(0,l.jsx)($,{contestId:t,children:(0,l.jsx)(ef,{contestId:t,onClickClose:s})})})},ef=e=>{let{contestId:t,onClickClose:s}=e,{name:a,description:r,prize:i}=ee(),[c]=(0,u.lm)(),d=(0,n.useCallback)(e=>0===e?0===a.length||0===r.length:1===e&&(0===i.token_amount||0===i.token_contract_address.length||!i.chain_id||0===i.ticker.length),[r.length,a.length,i.chain_id,i.ticker.length,i.token_amount,i.token_contract_address.length]),o=(0,n.useCallback)(e=>{if(0===e)return s()},[s]),m=(0,n.useCallback)(async e=>{if(t&&2===e){if(!await c({id:t,status:"upcoming"}))throw Error();s()}},[t,s,c]);return(0,l.jsxs)(P.H2,{stepCount:3,isNextDisabled:d,onBack:o,onNext:m,children:[(0,l.jsxs)(P.Cj,{index:0,children:[(0,l.jsx)(ex.e,{title:"Contest Info",subtitle:"Engage the creativity of your followers with a contest."}),(0,l.jsx)(eu.d,{children:(0,l.jsx)(et,{})}),(0,l.jsx)(em.Y,{})]}),(0,l.jsxs)(P.Cj,{index:1,children:[(0,l.jsx)(ex.e,{title:"Prize",subtitle:"Set a reward to incentivize participation."}),(0,l.jsx)(eu.d,{children:(0,l.jsx)(ei,{})}),(0,l.jsx)(em.Y,{})]}),(0,l.jsxs)(P.Cj,{index:2,children:[(0,l.jsx)(ex.e,{title:"Summary",subtitle:"Note: Settings will be locked once the contest starts."}),(0,l.jsx)(eu.d,{children:(0,l.jsx)(ed,{})}),(0,l.jsx)(em.Y,{})]})]})},ep=(0,n.createContext)(void 0),eg=e=>{let{deckId:t,children:s}=e,a=(0,I.useSearchParams)(),r=(0,n.useMemo)(()=>a.get("newContestId"),[a]),[i,{isLoading:c}]=(0,u.e5)(),d=(0,n.useCallback)(async()=>{if(t)try{let{data:e}=await i({deck_id:t,prompt_hint_text:"",title:"",description:"",start_time:Q,end_time:Y});if(!e)throw Error();let s=e.id.replace("contest:",""),l=new URL(window.location.href);l.searchParams.delete("newContestId"),l.searchParams.set("newContestId",s),window.history.pushState({},"",l.toString())}catch(e){console.error(e),(0,L.yv)("Failed to create new contest",{variant:"error"})}},[i,t]),o=(0,n.useCallback)(()=>{let e=new URL(window.location.href);e.searchParams.delete("newContestId"),window.history.pushState({},"",e.toString())},[]);return(0,l.jsxs)(ep.Provider,{value:{isCreating:c,onClickStartContest:d},children:[s,(0,l.jsx)(eh,{contestId:r,onClickClose:o})]})},ej=()=>{let e=(0,n.useContext)(ep);if(void 0===e)throw Error("useStartContest must be used within StartContestProvider");return e},ev=()=>{let{isCreating:e,onClickStartContest:t}=ej();return(0,l.jsx)(O.A,{variant:"bordered",isLoading:e,startContent:(0,l.jsx)(T.JO,{icon:"material-symbols:trophy",className:"size-5"}),onClick:t,children:(0,l.jsx)("h4",{children:"Create Contest"})})};var ew=s(61784),eb=s(85183);let eA=()=>{let e=(0,I.useRouter)(),t=(0,eb.TL)(),{data:s}=(0,u.iS)(),{deckId:n}=(0,m.w)(),{currentData:a}=(0,u.X)(n);if(!a)return null;let r=s&&s.studio_config&&s.studio_config.characters.map(e=>e.id)||[],i=a.id.replace("deck:",""),c="?deck=".concat(i);return r.includes(i)&&(c+="&character=".concat(i)),(0,l.jsx)(eg,{deckId:a.id,children:(0,l.jsx)("div",{className:"flex justify-end gap-2 flex-1",children:a.is_admin?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(U.g,{deckId:a.id,size:"md",variant:"bordered",onDelete:()=>e.push("/trending")}),(0,l.jsx)(ev,{})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(B.F,{title:"Post",variant:"ghost",color:"default",queryParam:c,className:"w-auto rounded-xl min-w-[56px] lg:min-w-[100px]",iconSize:"size-5"}),(0,l.jsx)(R.g,{deck:a,onClickOverride:s?void 0:()=>t((0,ew.it)())})]})})})},eN=()=>{var e,t,s,n;let{deckId:a}=(0,m.w)(),{currentData:r}=(0,u.X)(a);return r?(0,l.jsxs)("div",{className:"flex gap-3 text-sm md:text-base",children:[(0,l.jsxs)("p",{className:"flex gap-1.5",children:[(0,l.jsx)("span",{className:"font-bold",children:null!==(e=r.total_posted)&&void 0!==e?e:0}),(0,l.jsx)("span",{className:"text-white-400/75",children:(0,E._6)(null!==(t=r.total_posted)&&void 0!==t?t:0,"meme","memes")})]}),(0,l.jsxs)("p",{className:"flex gap-1.5",children:[(0,l.jsx)("span",{className:"font-bold",children:null!==(s=r.follower_count)&&void 0!==s?s:0}),(0,l.jsx)("span",{className:"text-white-400/75",children:"".concat((0,E._6)(null!==(n=r.follower_count)&&void 0!==n?n:0,"follower","followers"))})]})]}):null},ek=()=>{var e;let{deckId:t}=(0,m.w)();console.log(t);let{currentData:s,isLoading:n}=(0,u.X)(t),{currentData:a,isLoading:r}=(0,u.TJ)(t);return!s&&n?(0,l.jsxs)("div",{className:"flex flex-col gap-3 pt-1 pb-3 px-3 md:px-5",children:[(0,l.jsx)("div",{className:"animate-pulse rounded-xl bg-gray-200 size-24 sm:size-28"}),(0,l.jsxs)("header",{className:"w-full flex flex-col gap-1",children:[(0,l.jsx)("div",{className:"animate-pulse rounded bg-gray-200 h-9 xl:h-10 w-40"}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("div",{className:"animate-pulse rounded bg-gray-200 h-6 w-28"}),(0,l.jsx)("div",{className:"animate-pulse rounded bg-gray-200 h-6 w-28"})]})]})]}):s?(0,l.jsxs)("div",{className:"flex flex-col gap-3 pt-1 pb-3",children:[(0,l.jsxs)("div",{className:"flex gap-3 items-end justify-between px-3 md:px-5",children:[(0,l.jsx)(c.h,{classNames:{base:"!size-24 min-w-24 sm:!size-28 sm:min-w-28 !rounded-xl"},alt:s.title,src:null!==(e=s.cover_photo)&&void 0!==e?e:"",className:"object-cover object-center shadow-lg select-none bg-white-400/10 border-1 border-white-400/10"}),(0,l.jsx)("span",{className:"flex xl:hidden",children:(0,l.jsx)(eA,{})})]}),(0,l.jsx)("header",{className:"w-full flex flex-col",children:(0,l.jsxs)("div",{className:"flex flex-1 flex-col gap-3",children:[(0,l.jsxs)("section",{className:"flex flex-col gap-1 px-3 md:px-5",children:[(0,l.jsxs)("div",{className:"w-full flex gap-3 justify-between xl:items-center",children:[(0,l.jsxs)("div",{className:"w-full flex gap-3 items-center truncate",children:[(0,l.jsxs)("h1",{className:"flex gap-3 items-center truncate text-2xl md:text-3xl",children:[(0,l.jsx)("span",{className:"text-white-400 font-bold truncate",children:s.title?s.title:"Untitled"}),s.rank&&(0,l.jsxs)("span",{className:"text-white-400/70 font-bold",children:["#",s.rank]})]}),(0,l.jsx)(M,{category:s.category})]}),(0,l.jsx)("span",{className:"hidden xl:flex",children:(0,l.jsx)(eA,{})})]}),(0,l.jsx)(eN,{})]}),(0,l.jsx)(D,{}),(0,l.jsx)("p",{className:"md:hidden text-sm text-white-400/60 leading-normal px-3 md:px-5",children:(0,l.jsx)(C,{id:s.id+"-description",text:s.description?s.description:"No description",maxCharacters:140})}),(0,l.jsx)(_.g,{contests:a,isLoading:r,allowEdit:!0})]})})]}):(0,l.jsxs)("div",{className:"flex flex-col gap-4 pt-1 pb-3 px-3 md:px-5",children:[(0,l.jsx)("div",{className:"rounded-xl size-28 bg-white-400/5 shadow-lg"}),(0,l.jsx)("header",{className:"w-full flex flex-col gap-3",children:(0,l.jsx)("h1",{className:"flex gap-3 items-end text-2xl md:text-3xl",children:(0,l.jsx)("span",{className:"text-white-400 font-bold",children:"Deck not found"})})})]})};var ey=s(8387),eC=s(47758),eS=s(51241),ez=s(17256),e_=s(4288),eE=s(23216),eD=s(43227),eM=s(36572);let eI={[eM.a.Hot]:"ph:fire",[eM.a.Recent]:"ph:clock"},eR=e=>{let{icon:t,label:s}=e;return(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[t&&(0,l.jsx)(T.JO,{icon:t,className:"min-w-5 size-5"}),s&&s.charAt(0).toUpperCase()+s.slice(1)]})},eB=e=>{let{sortBy:t,onSelect:s}=e;return(0,l.jsx)(es.g,{"aria-label":"Sort by",placeholder:"Sort by",size:"md",radius:"full",variant:"bordered",color:"primary",classNames:{trigger:"w-20 sm:w-[128px] px-3"},value:t,selectedKeys:[t],renderValue:()=>(0,l.jsx)(eR,{"aria-label":t,label:t,icon:eI[t]}),onChange:e=>{s(e.target.value)},children:Object.values(eM.a).map(e=>(0,l.jsx)(el.R,{"aria-label":e,children:(0,l.jsx)(eR,{label:e,icon:eI[e]})},e))})};var eU=s(55695),eT=s(58563),eO=s(50739);let eL=e=>{var t;let{deckId:s}=e,{goBack:a}=(0,eO.h)(),r=(0,eb.TL)(),{data:i}=(0,u.iS)(),c=(0,eb.CG)(ew.lf),d=(0,eb.CG)(ew.uJ),o=(0,eb.CG)(ew.dZ),m=(0,n.useCallback)(e=>{r((0,ew.TU)(e))},[r]),h=(0,n.useCallback)(e=>{r((0,ew.HN)(e))},[r]),{search:f,searchDebounced:p,onSearch:g}=(0,eT.U)(),{isFetching:j,currentData:v}=(0,eU.T)({search:p,interval:d,sort_by:o,deck_id:s}),w=p.length>0;return(0,l.jsx)("div",{className:"relative z-1 flex size-full flex-col gap-3",children:(0,l.jsxs)("div",{className:"flex size-full gap-3",children:[(0,l.jsxs)("main",{className:(0,x.cn)("min-h-full flex-1 pb-3 min-w-0","border-white-400/15 sm:border-x xs:border-0"),children:[(0,l.jsx)(ey.y,{title:"Deck",onGoBack:a}),(0,l.jsx)(ek,{}),(0,l.jsxs)("div",{className:"flex px-3 items-center justify-between border-t border-white-400/15 gap-2",children:[(0,l.jsx)(e_.E,{hideLogo:!0,className:"px-0",border:"",placeholder:"Search by keyword",value:f,onSearch:g}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(eD.m,{interval:d,onSelect:m}),(0,l.jsx)(eB,{sortBy:o,onSelect:h})]})]}),v&&w&&(0,l.jsx)(eS.d,{stats:v}),(0,l.jsx)(eC.o,{items:null!==(t=null==v?void 0:v.memes)&&void 0!==t?t:[],breakpoints:{default:3,1280:2,640:1},noResultsMessage:w?"":"No memes ".concat((0,E.qr)(d).toLowerCase()),isFetching:j,hasFetched:!!v,hasSearched:w,renderItem:(e,t)=>(0,l.jsx)(eE.P,{post:e,deckId:s,imageQuality:30,priorityLoadImage:t<10,onClick:i?void 0:()=>r((0,ew.it)())},"deck-item-".concat(t,"-").concat(e.id))}),c&&(0,l.jsx)(ez.c,{isOpen:c,onClose:()=>r((0,ew.Rs)())})]}),(0,l.jsx)(z,{})]})})};var eP=s(84187);let eH=e=>{let{params:t}=e,{deckId:s}=(0,eP.d)({params:t,key:"deckId",index:2});console.log(s);let a=(0,n.useMemo)(()=>s.replace("deck:",""),[s]);return(0,l.jsx)(eL,{deckId:a})}},21307:function(e,t,s){"use strict";s.d(t,{Z:function(){return n},g:function(){return g}});var l,n,a=s(7590),r=s(69622),i=s(21059),c=s(99395),d=s(15866),o=s(70244),u=s(42739),m=s(60997),x=s(23143),h=s(72655),f=s(82581),p=s(3333);(l=n||(n={})).Edit="edit",l.Delete="delete";let g=e=>{let{deckId:t,size:s="sm",variant:l="light",itemsToRender:n=["edit","delete"],isLoading:g,isDisabled:j,onEdit:v,onDelete:w}=e,b=(0,x.useRouter)(),[A]=(0,p.ez)(),[N,k]=(0,f.useState)(!1),y=(0,f.useCallback)(()=>{b.push("/deck-edit/".concat(t.replace("deck:",""))),null==v||v()},[b,t,v]),C=(0,f.useCallback)(async e=>{e.stopPropagation(),e.preventDefault();try{k(!0),A(t),null==w||w(),b.push("/home")}catch(e){console.error("Failed to delete deck",e),(0,h.yv)("Failed to delete deck",{variant:"error"})}finally{k(!1)}},[t,A,w,b]),S=(0,f.useMemo)(()=>[{key:"edit",label:"Edit",color:"default",startContent:(0,a.jsx)(r.JO,{className:"size-5",icon:"mdi:edit"}),onClick:y},{key:"delete",label:"Delete",color:"danger",startContent:(0,a.jsx)(r.JO,{className:"size-5",icon:"tabler:trash"}),onClick:C}],[y,C]);return(0,a.jsxs)(i.F,{classNames:{content:"min-w-0 w-auto"},children:[(0,a.jsx)(c.S,{children:N||g?(0,a.jsx)("div",{className:"flex items-center justify-center size-8",children:(0,a.jsx)(d.c,{size:"sm"})}):(0,a.jsx)(o.A,{isIconOnly:!0,size:s,variant:l,isDisabled:j,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,a.jsx)(r.JO,{className:"size-5",icon:"tabler:dots"})})}),(0,a.jsx)(u.a,{children:S.filter(e=>n.includes(e.key)).map(e=>(0,a.jsx)(m.W,{color:e.color,startContent:e.startContent,onClick:e.onClick,children:e.label},e.key))})]})}},24879:function(e,t,s){"use strict";s.d(t,{D:function(){return r}});var l=s(7590),n=s(81750),a=s(22595);let r=e=>{let{isOpen:t,onClickClose:s,children:r}=e;return(0,l.jsx)(n.R,{size:"lg",classNames:{base:"overflow-hidden",header:"px-4 sm:px-6",body:"px-4 sm:px-6 min-h-96 max-h-96 overflow-hidden",footer:"px-4 sm:px-6"},hideCloseButton:!0,isOpen:t,onOpenChange:s,children:(0,l.jsx)(a.A,{children:r})})}},93741:function(e,t,s){"use strict";s.d(t,{d:function(){return o}});var l=s(7590),n=s(21990),a=s(40774),r=s(10015),i=s(82581),c=s(81292);let d={enter:e=>({x:e>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:e=>({x:e<0?1e3:-1e3,opacity:0})},o=e=>{let{children:t}=e,{index:s}=(0,c.vT)(),[o,u]=(0,i.useState)(s),m=(0,i.useMemo)(()=>s>o?1:-1,[s,o]);return(0,i.useEffect)(()=>{u(s)},[s]),(0,l.jsx)(a.E.div,{className:"min-h-96",transition:{type:"spring",stiffness:300,damping:0},children:(0,l.jsx)(r.M,{initial:!1,custom:m,children:(0,l.jsx)(a.E.div,{custom:m,variants:d,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"absolute size-full",children:(0,l.jsx)(n.I,{children:t})},s)})})}},20240:function(e,t,s){"use strict";s.d(t,{Y:function(){return c}});var l=s(7590),n=s(89270),a=s(70244),r=s(82581),i=s(81292);let c=()=>{let{index:e,stepCount:t,isBackDisabled:s,isNextDisabled:c,goBack:d,goForward:o}=(0,i.vT)(),u=(0,r.useMemo)(()=>0===e,[e]),m=(0,r.useMemo)(()=>e===t-1,[e,t]),x=(0,r.useMemo)(()=>u?"Cancel":"Back",[u]),h=(0,r.useMemo)(()=>m?"Finish":"Next",[m]);return(0,l.jsx)(n.R,{children:(0,l.jsxs)("div",{className:"w-full flex items-center justify-end gap-3",children:[(0,l.jsx)(a.A,{variant:"flat",isDisabled:s,onClick:d,children:x}),(0,l.jsx)(a.A,{variant:"solid",color:"primary",isDisabled:c,onClick:o,children:h})]})})}},83814:function(e,t,s){"use strict";s.d(t,{e:function(){return c}});var l=s(7590),n=s(50695),a=s(81292);let r=e=>{let{text:t=""}=e;return(0,l.jsx)("h3",{className:"font-bold text-lg",children:t})},i=e=>{let{text:t=""}=e;return(0,l.jsx)("p",{className:"font-normal text-xs text-white-400/50",children:t})},c=e=>{let{title:t="",subtitle:s=""}=e,{index:c,stepCount:d}=(0,a.vT)();return(0,l.jsxs)(n.k,{className:"pt-6 flex flex-col gap-1",children:[(0,l.jsx)(r,{text:t}),(0,l.jsx)(i,{text:s}),(0,l.jsxs)("div",{className:"absolute top-1.5 right-2 text-white-400/25 text-sm leading-6 font-normal tracking-widest",children:[c+1,"/",d]})]})}},8387:function(e,t,s){"use strict";s.d(t,{y:function(){return i}});var l=s(7590),n=s(7219),a=s(50739),r={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/arrow.left.37648ed6.svg",height:46,width:57,blurWidth:0,blurHeight:0};let i=e=>{let{title:t,subtitle:s,border:i="border-b border-transparent",isLoading:c=!1,endContent:d,onGoBack:o}=e,{goBack:u}=(0,a.h)();return(0,l.jsxs)("div",{className:"flex h-16 w-full items-center ".concat(i),children:[(0,l.jsx)(n.O,{src:r,alt:"Back",onClick:null!=o?o:u}),c?(0,l.jsx)("h1",{className:"h-6 w-24 animate-pulse rounded bg-gray-200"}):(0,l.jsxs)("div",{className:"flex flex-col flex-1 truncate",children:[(0,l.jsx)("h1",{className:"flex-1 text-left text-lg font-bold truncate",children:t}),s]}),d]})}},7746:function(e,t,s){"use strict";s.d(t,{T:function(){return r}});var l=s(7590),n=s(70244),a=s(27613);let r=e=>{let{src:t,onClickShow:s}=e;return(0,l.jsxs)("div",{className:"absolute inset-0 bg-black/50 z-2 bg-white-400/10",onClick:e=>{e.stopPropagation(),e.preventDefault()},onMouseEnter:e=>{e.stopPropagation(),e.preventDefault()},children:[(0,l.jsx)(a.default,{src:t,alt:"NSFW",draggable:!1,className:"absolute z-0 inset-0 size-full object-cover blur-xl scale-[3]",width:640,height:640,sizes:"640px",quality:1,priority:!0}),(0,l.jsx)(n.A,{variant:"ghost",color:"danger",size:"sm",className:"p-1 font-medium z-3 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 backdrop-blur-sm",onClick:s,children:"Show"})]})}},17256:function(e,t,s){"use strict";s.d(t,{c:function(){return f}});var l=s(7590),n=s(70244),a=s(27613),r=s(4763),i=s(82581);let c=[{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/1.8823d877.png",height:400,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEUwECpnToZJLk5PFTY7EjBlS3FfM2guDykqDCU8HEBhHUa5V4+zLXNuRnW+RJBNM1txXoiQKWLIXah7T3KBKVJsT4lFK2NZN3f/bKwsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAP0lEQVR4nCXGSRKAIAwAwUECSdjE/f8/tSz71Kjizke2sdcIWlob9RRUSu5HBMxzTwYqvqbF4H7yn3CFOYPbC0QLAfmn2m20AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},color:"#2E102A"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/2.185f5c03.png",height:1198,width:1162,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAXVBMVEUgSH05V1qUgHw4VGq2hHFIYHpAWE5HNToZKy5APUUBHShDQlJlRkYfLTiQcWt3T04kP2N9dHlATGaiiH4pKjRASUNtT1UwLDULKz4vQzdcWmQnSXgpT3ijdXI2KjOJ1AnkAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAQklEQVR4nBXGRRLAMAwEsA3aDpe5/39mJjoJyt96cgBUpLJoAM4Q2R3A236yH4ZYbXlGWqoiM8wZcjrWDZ5DFuarA06dAn19AigzAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},color:"#21487D"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/3.43776601.png",height:880,width:880,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAS1BMVEUhGhFOSTrAvJ9yblw/OS3NxLo1MiwqIxrY1a/MyKdLTEtfW0x6cmDWzMTQzqehmI25s5Kjn4KRj3ivq45ZU0Ph3rqEg2+OnrTFwqOrsAGwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAP0lEQVR4nAXBhwHAIAzAMDOTsKHr/08rUUSA8pFFYqhkROL1WIA7VtU3bNSOqvcDt3WYLYfQbHmXaTP11NP8AUkWAiGbEG7EAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},color:"#D0CCA9"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/4.a25addea.png",height:400,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAclBMVEWxytHK0sjNycCCjIvtyKSrx9G61NrD0MzArqKfmI+4s8HPycliUkyuoak6NS4+QS+xlpVTdFibjpWIcWW9zcvX2M28x8E+JBOYk6tCWkDdtIyMgYt/cXtLlHD+1KfOrZLTspjKtKtMXkOej367tMKigGtkNwxvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARUlEQVR4nAXBhQGAMAADsI65G+76/4sk4BxCAEArJaU9kSCdDk6rBo1VM1PJwnjD9iu9GJf1OH0pcPFmT6gaw7TlHL/6A2CTA5qj0o+1AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},color:"#BDB9C3"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/5.622e0a3d.png",height:400,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAaVBMVEX+597hycD54tgDEQny3dQlMCdKTELq1MpXVkoTGxOMfnO1mH6ii2u0n5dGLxx8aVSwjnQqGxSRh3tBPSxXSTfGu6DSvLSLXjpyWDnJjoNVPydDIReaYDK1gUdlFg1tSSzdqH7x2bi2dVxKpx53AAAACXBIWXMAAAsTAAALEwEAmpwYAAAARElEQVR4nAXBBQLAIAwEsENbHOZu/3/kEkjBxlgCpFfOqQ7Q7NzQW4LkPIfIAkjL+Y6BoHU5njoRkFqO30rwbbvLftUfVrcDKlF8AaEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},color:"#AF7A43"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/6.b62b0cfc.png",height:400,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAflBMVEWMrsd2lqCKqLq4urBZhqeGloNuoseLm5y5rYp5m7Gaqaaam462pHTRrHVUiLaMhE7BwcXVwamnq6d2tM2wwMyOp8GsvMeEjpK8rrpXcoO6r6WRh22Alaa8sJ+ql3JYYkJqmrSbi2WgnHmLoK+Uq7fImE5ugZFqfnI6b7RCeLfQLl+CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARklEQVR4nAXBhQGAMAADsI654+7O/w+SgEvG9GkdwvfEyKHx3pf385ggcLepoQPWY19swwTMpPq20gmkojUleQppijIjAj+aCQP33BRGfAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},color:"#7197BD"}],d=e=>{let{index:t,avatar:s}=e;return(0,l.jsx)(a.default,{src:s.src,draggable:!1,priority:!0,quality:50,style:{background:s.color},alt:"avatar ".concat(t),className:"size-9 rounded-full border-2 border-white-400 ".concat(t>0?"-ml-1":""),width:38,height:38})};var o=s(62247);let u=e=>{let{children:t,isOpen:s,onClose:n}=e;return s?(0,l.jsx)("div",{className:(0,o.cn)("flex items-center justify-center","fixed inset-0 z-50","bg-white-100 size-full max-h-full min-h-0 overflow-y-auto overflow-x-hidden p-4"),onClick:n,children:(0,l.jsxs)("div",{className:"glow bg-black-400 relative flex w-full max-w-md flex-col items-center gap-6 rounded-lg px-6 pb-8 pt-6 shadow-lg",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("header",{className:"relative flex w-full items-center justify-between"}),(0,l.jsx)("div",{children:t})]})}):null};var m=s(12173),x=s(92782),h=s(57031);let f=e=>{let{isOpen:t,onClose:s}=e,o=(0,i.useMemo)(()=>{let e=(0,x.bd)();return"".concat((0,x.bR)(),"/v2/auth/twitter/login?redirect_url=").concat(e)},[]);return(0,l.jsx)(u,{isOpen:t,onClose:s,children:(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("h1",{className:"mb-6 text-center text-3xl font-bold",children:h.K7}),(0,l.jsx)("p",{className:"text-center text-lg text-white-400/75",children:h.vk}),(0,l.jsx)("div",{className:"relative my-6 flex items-center justify-center select-none",children:c.map((e,t)=>(0,l.jsx)(d,{index:t,avatar:e},t))}),(0,l.jsxs)(n.A,{as:r.default,className:"my-6 flex items-center justify-center gap-2 rounded-2xl bg-blue-500 px-5 py-1 text-sm",href:o,children:[(0,l.jsx)("p",{className:"text-lg",children:"Login with"}),(0,l.jsx)(a.default,{src:m.Z,alt:"x",className:"w-5"})]})]})})}},4288:function(e,t,s){"use strict";s.d(t,{E:function(){return u}});var l=s(7590),n=s(23143),a=s(82581),r=s(84394),i=s(39858),c=s(43227),d=s(36572);let o=()=>{var e,t,s;let l=(0,n.useSearchParams)();return{initialQuery:null!==(e=l.get("query"))&&void 0!==e?e:"",initialInterval:null!==(t=l.get("interval"))&&void 0!==t?t:d.u.Week,initialSortBy:null!==(s=l.get("sort_by"))&&void 0!==s?s:d.a.Hot}},u=e=>{let{value:t,autofocus:s,className:d="px-3",responsiveness:u="",border:m="border-b border-white-400/15",placeholder:x,hideLogo:h=!1,onSearch:f,searchInterval:p,onSelectInterval:g}=e,j=(0,n.useRouter)(),{initialQuery:v}=o(),w=(0,a.useMemo)(()=>t.length>0,[t.length]),b=(0,a.useCallback)(()=>{f||j.push("/trending")},[f,j]);return(0,l.jsxs)("div",{className:"sticky top-0 z-20 flex gap-3 h-16 w-full items-center justify-between bg-black-0 ".concat(d," ").concat(u," ").concat(m),onClick:b,children:[!h&&(0,l.jsx)("div",{className:"sm:hidden size-10 max-w-10",children:(0,l.jsx)(r.Ew,{})}),(0,l.jsx)(i.T,{value:t,autofocus:s,initialSearch:v,placeholder:x,onSearch:f}),w&&p&&g&&(0,l.jsx)(c.m,{interval:p,onSelect:g})]})}},39858:function(e,t,s){"use strict";s.d(t,{T:function(){return c}});var l=s(7590),n=s(14688),a=s(27613),r=s(82581),i=s(62300);let c=e=>{let{value:t,autofocus:s,initialSearch:c,placeholder:d="Search for memes. (i.e. pepe)",onFocus:o,onSearch:u}=e,m=(0,r.useRef)(null);return(0,l.jsx)(n.Y,{isClearable:!0,onClear:()=>{null==u||u("")},radius:"full",classNames:{base:"flex-1",input:"text-base placeholder:text-base placeholder:text-white-400/50"},startContent:(0,l.jsx)(a.default,{priority:!0,src:i.Z,alt:"Dropdown",onClick:e=>{var t;e.preventDefault(),null===(t=m.current)||void 0===t||t.focus()},className:"mr-1 size-5 cursor-text select-none opacity-75"}),ref:m,autoFocus:s,defaultValue:c,placeholder:d,className:"h-10 min-w-24 flex-1 rounded-full border border-white-400/5 bg-white-400/5 shadow-sm outline-none placeholder:text-xl placeholder:text-white-400/50",value:t,onFocus:o,onChange:e=>null==u?void 0:u(e.target.value)})}},23216:function(e,t,s){"use strict";s.d(t,{P:function(){return g}});var l=s(7590),n=s(81662),a=s(18386),r=s(27613),i=s(82581),c=s(95642),d=s(7746),o=s(60516),u=s(5852),m=s(3333),x=s(27391),h=s(62247),f=s(57031),p=s(89405);let g=e=>{var t,s;let{post:g,deckId:j,priorityLoadImage:v,imageQuality:w,onClick:b}=e,{data:A}=(0,m.iS)(),N=(0,i.useMemo)(()=>{var e;return null!==(e=null==A?void 0:A.id)&&void 0!==e?e:""},[A]),k=(0,u.u)(N,g.votes),[y]=(0,m.NU)(),[C]=(0,m.Rp)(),S=(0,i.useMemo)(()=>!1,[]),[z,_]=(0,i.useState)(S),{description:E,creator:D,url:M,width:I,height:R}=(0,f.zD)(null!=g?g:{}),{src:B,onError:U}=(0,o.f)(null!==(s=null!==(t=g.meme)&&void 0!==t?t:g.image)&&void 0!==s?s:{}),{onOpenPost:T}=(0,x.h)(),O=(0,i.useCallback)(()=>{if(b){b();return}T(g.id)},[b,T,g.id]);(0,i.useEffect)(()=>()=>{_(S)},[S]);let L=(0,i.useMemo)(()=>null!=w?w:50,[w]),P=(0,i.useMemo)(()=>L/100*(null!=I?I:200),[I,L]),H=(0,i.useMemo)(()=>L/100*(null!=R?R:200),[R,L]);return(0,l.jsx)("article",{className:"relative w-full cursor-pointer",onClick:O,children:(0,l.jsxs)(n.w,{isFooterBlurred:!0,className:"group overflow-hidden rounded-md",children:[(0,l.jsx)(r.default,{className:"z-0 size-full rounded-md bg-white-400/5 sm:transition-transform sm:group-hover:scale-104",src:B,quality:L,priority:v,alt:E,width:P,height:H,onError:U}),(0,l.jsx)(a.i,{className:(0,h.cn)("absolute bottom-1 ml-1 py-2 z-1","justify-between bg-black-400/30 border-1 border-zinc-600/40 overflow-hidden before:rounded-lg rounded-xl w-[calc(100%_-_8px)] shadow-small","transition-opacity opacity-0",k.hasUpvoted||k.hasDownvoted?"sm:opacity-100":"sm:group-hover:opacity-100"),children:(0,l.jsxs)("div",{className:"flex flex-1 items-center gap-2 w-full",children:[(0,l.jsxs)("div",{className:"flex flex-1 items-center gap-2 truncate text-sm font-semibold",children:[(0,l.jsx)(r.default,{src:g.by.avatar,alt:D,className:"rounded-full min-w-8",width:32,height:32,quality:50}),(0,l.jsxs)("div",{className:"flex flex-col flex-1 truncate",children:[(0,l.jsx)("span",{className:"truncate",children:g.by.handle}),g.created_at&&(0,l.jsx)("span",{className:"text-tiny font-normal text-white-400/70",children:(0,p.Po)(new Date(g.created_at))})]})]}),(0,l.jsx)(c.I,{postId:g.id,user:A,deckId:j,initialVotes:g.votes,postVoteApi:y,deleteVoteApi:C,onClickOverride:b,border:"border-zinc-400/50"})]})}),z&&(0,l.jsx)(d.T,{src:M,onClickShow:()=>_(!1)})]})})}},43227:function(e,t,s){"use strict";s.d(t,{m:function(){return i}});var l=s(7590),n=s(33151),a=s(82187),r=s(36572);let i=e=>{let{interval:t,onSelect:s}=e;return(0,l.jsx)(n.g,{size:"md","aria-label":"Interval",radius:"full",variant:"bordered",color:"primary",placeholder:"Sort by",classNames:{base:"w-auto",trigger:"w-20 sm:w-28",popoverContent:"w-28"},value:t,selectedKeys:[t],onChange:e=>{s(e.target.value)},children:Object.values(r.u).map(e=>(0,l.jsx)(a.R,{children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}},47709:function(e,t,s){"use strict";s.d(t,{S:function(){return a}});var l=s(54877),n=s(82581);function a(){let e=(0,l.a)({dateStyle:"long"});return{getDateRange:(0,n.useCallback)(t=>e.formatRange(t.start.toDate(),t.end.toDate()),[e])}}},55695:function(e,t,s){"use strict";s.d(t,{T:function(){return a}});var l=s(82581),n=s(3333);let a=e=>{let{search:t,...s}=e,[a,r]=(0,l.useState)(1),i=(0,n.t$)({...s,search:t,start:50*(a-1),limit:50}),c=(0,l.useCallback)(()=>{i.isFetching||i.isLoading||i.isError||r(e=>{var t,s;let l=!i.data||0===i.data.memes.length,n=(null!==(s=null===(t=i.data)||void 0===t?void 0:t.memes)&&void 0!==s?s:[]).length<50*e;return l||n?e:e+1})},[i.data,i.isError,i.isFetching,i.isLoading]),d=(0,l.useCallback)(async()=>{let e=window.innerHeight;document.body.offsetHeight-window.scrollY<3*e&&c()},[c]);return(0,l.useEffect)(()=>(window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}),[d]),i}},45673:function(e,t,s){"use strict";s.d(t,{K:function(){return a}});var l=s(82581),n=s(32701);let a=e=>{let{sendUpdate:t}=e,s=(0,l.useRef)({}),[a,r]=(0,l.useState)(!1),i=(0,l.useMemo)(()=>(0,n.k)(t,500),[t]);return{hasUnsavedChanges:a,queueUpdate:(0,l.useCallback)(e=>{s.current={...s.current,...e},r(!0),i(s.current).finally(()=>{s.current={},r(!1)})},[i])}}},58563:function(e,t,s){"use strict";s.d(t,{U:function(){return a}});var l=s(82581),n=s(32701);function a(){let[e,t]=(0,l.useState)(""),[s,a]=(0,l.useState)(""),r=(0,l.useMemo)(()=>(0,n.D)(a,500),[]);return{search:e,searchDebounced:s,onSearch:(0,l.useCallback)(e=>{t(e),r(e)},[r])}}},61784:function(e,t,s){"use strict";s.d(t,{HN:function(){return c},KS:function(){return g},Rs:function(){return u},TU:function(){return i},dZ:function(){return h},et:function(){return f},it:function(){return o},lf:function(){return p},rP:function(){return d},tK:function(){return r},uJ:function(){return x},yZ:function(){return m}});var l=s(4417),n=s(36572);let a={searchInterval:n.u.Week,searchSortBy:n.a.Hot,contestEntryIndex:0,isSignupModalOpen:!1,isHovering:!1},r=(0,l.oM)({name:"appSlice",initialState:a,reducers:e=>({setSearchInterval:e.reducer((e,t)=>{e.searchInterval=t.payload}),setSearchSortBy:e.reducer((e,t)=>{e.searchSortBy=t.payload}),setContestEntryIndex:e.reducer((e,t)=>{e.contestEntryIndex=t.payload}),openSignupModal:e.reducer(e=>{e.isSignupModalOpen=!0}),closeSignupModal:e.reducer(e=>{e.isSignupModalOpen=!1}),setIsHovering:e.reducer((e,t)=>{e.isHovering=t.payload})}),selectors:{selectSearchInterval:e=>e.searchInterval,selectSearchSortBy:e=>e.searchSortBy,selectContestEntryIndex:e=>e.contestEntryIndex,selectIsSignupModalOpen:e=>e.isSignupModalOpen,selectIsHovering:e=>e.isHovering}}),{setSearchInterval:i,setSearchSortBy:c,setContestEntryIndex:d,openSignupModal:o,closeSignupModal:u,setIsHovering:m}=r.actions,{selectSearchInterval:x,selectSearchSortBy:h,selectContestEntryIndex:f,selectIsSignupModalOpen:p,selectIsHovering:g}=r.selectors},85183:function(e,t,s){"use strict";s.d(t,{CG:function(){return a},TL:function(){return n}});var l=s(24580);let n=l.I0.withTypes(),a=l.v9.withTypes();l.oR.withTypes()},50739:function(e,t,s){"use strict";s.d(t,{AppHistoryProvider:function(){return c},h:function(){return d}});var l=s(7590),n=s(23143),a=s(72655),r=s(82581);let i=(0,r.createContext)({}),c=e=>{let{children:t}=e,s=(0,n.usePathname)(),c=(0,n.useRouter)(),[d,o]=(0,r.useState)([]),u=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/home",t=arguments.length>1?arguments[1]:void 0,s=e;d.length>1&&(s=d[d.length-2],void 0!==t&&s.includes(t)&&(s=e)),"string"!=typeof s&&(s="/home"),c.push(s,{scroll:!1})},[d,c]);return(0,r.useEffect)(()=>{o(e=>e[e.length-1]!==s?[...e,s]:e)},[s]),(0,l.jsxs)(i.Provider,{value:{goBack:u},children:[t,(0,l.jsx)(a.wT,{dense:!0,maxSnack:3})]})},d=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useFeed must be used within AppHistoryProvider");return e}},27391:function(e,t,s){"use strict";s.d(t,{PostModalProvider:function(){return o},h:function(){return u}});var l=s(7590),n=s(23143),a=s(82581),r=s(41612),i=s(86960),c=s(84187);let d=(0,a.createContext)({}),o=e=>{let{params:t,children:s}=e,{postId:a}=(0,c.d)({params:t,key:"postId"}),o=(0,n.useSearchParams)().get("postId"),u=a.length>0?a:o,{openLightBox:m,closeLightBox:x}=(0,i.e)();return(0,l.jsxs)(d.Provider,{value:{onOpenPost:e=>m({postId:e}),onClosePost:x},children:[s,u&&(0,l.jsx)(r.e,{postId:u,onClose:x})]})},u=()=>{let e=(0,a.useContext)(d);if(void 0===e)throw Error("usePostModal must be used within PostModalProvider");return e}},69212:function(e,t,s){"use strict";s.d(t,{G:function(){return r},w:function(){return i}});var l=s(7590),n=s(82581);let a=(0,n.createContext)(void 0),r=e=>{let{deckId:t,children:s}=e,[r,i]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1);return(0,l.jsx)(a.Provider,{value:{deckId:t,isAdminsModalOpen:r,setIsAdminsModalOpen:i,isPostersModalOpen:c,setIsPostersModalOpen:d},children:s})},i=()=>{let e=(0,n.useContext)(a);if(void 0===e)throw Error("useDeckViewer must be used within ViewDeckProvider");return e}},34804:function(e,t,s){"use strict";s.d(t,{xM:function(){return u},zN:function(){return o},jv:function(){return x}});var l={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/dexscreener.10175de8.svg",height:16,width:14,blurWidth:0,blurHeight:0},n={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/link.92f1c818.svg",height:16,width:16,blurWidth:0,blurHeight:0},a={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/telegram.43cbd001.svg",height:16,width:16,blurWidth:0,blurHeight:0},r={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/x.9521bae5.svg",height:16,width:16,blurWidth:0,blurHeight:0};let i=e=>e.includes("twitter.com")||e.includes("t.co")||e.includes("x.com"),c=e=>e.includes("telegram.org")||e.includes("t.me"),d=e=>e.includes("dexscreener.com");function o(e){return i(e)?r:c(e)?a:d(e)?l:n}function u(e){return i(e)?"@".concat(e.split("/")[3]):e.replace(/(https?:\/\/)?(www\.)?/,"")}let m=/^https?:\/\/([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.[a-zA-Z]{2,}(\/[a-zA-Z0-9-._~:/?#[\]@!$&'()*+,;=]*)?$/;function x(e){return m.test(e)}},7922:function(e,t,s){"use strict";function l(){return Math.floor(1e12*Math.random())}function n(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function a(e){let t=atob(e),s=t.length,l=new Uint8Array(new ArrayBuffer(s));for(let e=0;e<s;e++)l[e]=t.charCodeAt(e);return Array.from(l)}s.d(t,{RG:function(){return a},pw:function(){return n},qb:function(){return l}})},62300:function(e,t){"use strict";t.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/search.3dc28276.svg",height:18,width:18,blurWidth:0,blurHeight:0}},12173:function(e,t){"use strict";t.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/x.493d8304.png",height:45,width:41,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAALVBMVEVMaXH+/v79/f3+/v79/f38/Pz8/Pz8/Pz9/f39/f39/f36+vr4+Pj9/f38/PwKLxeaAAAAD3RSTlMAS48j05o6aYO9pxgSs1uR71/vAAAACXBIWXMAABYlAAAWJQFJUiTwAAAANElEQVR4nBXBiRHAIAwEsT0/2AbSf7sZJJYcfNGR94SgzaYAt9w89pmAmso8KJyezXK40g8cqQDpZl1e6QAAAABJRU5ErkJggg==",blurWidth:7,blurHeight:8}},22566:function(e,t){"use strict";t.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo-wide.572ec4d3.svg",height:256,width:702,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[8437,2138,244,116,7482,8236,9447,417,7847,2305,9101,774,4494,9738,7273,4483,6244,7832,7421,3051,8149,2073,3333,3585,3998,7814,1744],function(){return e(e.s=11284)}),_N_E=e.O()}]);