"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6506],{53495:function(e,t,n){n.d(t,{Y:function(){return u}});var r=n(62284),a=n(23405),i=n(2793),l=n(90241),o=n(15219),c=n(90028),s=n(14751);let u=e=>{var t,n,u,d,f,p;let{item:h,isSelected:m,showCreator:g=!1,onClick:w}=e,{data:v}=(0,o.iS)(),{onOpenImage:y}=(0,c.g)(),x=void 0!==h.post_type?(0,s.zD)(h):(0,s.sw)(h,v);return(0,r.jsx)("article",{className:(0,a.cn)("relative w-full cursor-pointer select-none overflow-hidden rounded-lg border-2",m?"border-blue-500":"border-transparent"),onClick:()=>w?w():y(h.id),children:(0,r.jsxs)("div",{className:"group flex w-full flex-col",children:["image"===x.source?(0,r.jsx)(l.g,{type:x.source,src:x.url,alt:h.id,canvasWidth:null!==(t=x.width)&&void 0!==t?t:1152,canvasHeight:null!==(n=x.height)&&void 0!==n?n:1152,imageWidth:null!==(u=x.width)&&void 0!==u?u:1152,imageHeight:null!==(d=x.height)&&void 0!==d?d:1152,topText:null,bottomText:null,centerText:null,className:"z-0 size-full bg-white-400/5"}):(0,r.jsx)(i.default,{className:"z-0 size-full bg-white-400/5",src:x.url,alt:h.id,width:null!==(f=x.width)&&void 0!==f?f:1152,height:null!==(p=x.height)&&void 0!==p?p:1152}),g&&(0,r.jsx)("div",{className:"absolute inset-0 z-1 flex select-none items-end px-1.5 py-1 opacity-0 transition-opacity group-hover:opacity-100",children:(0,r.jsx)("div",{className:"flex flex-1 items-center gap-2",children:(0,r.jsxs)("div",{className:"flex flex-1 items-center gap-2 truncate p-1 text-sm font-semibold drop-shadow-[0.5px_0.5px_1px_rgba(0,0,0,80)]",children:[(0,r.jsx)(i.default,{src:h.by.avatar,alt:h.by.handle,className:"rounded-full hover:scale-105",width:24,height:24}),h.by.handle]})})})]})})}},44376:function(e,t,n){n.d(t,{g:function(){return w}});var r,a,i=n(62284),l=n(46231),o=n(57591),c=n(66224),s=n(88938),u=n(35850),d=n(28403),f=n(59297);(r=a||(a={})).Generations="Generations",r.Uploads="Uploads";let p=e=>"Uploads"===e?"/library/uploads":"/library";var h=n(484),m=n(25845),g=n(82258);let w=()=>{let e=(0,d.useSearchParams)(),t=(0,d.usePathname)(),n=new URLSearchParams(e.toString()),[r,w]=(0,f.useState)(!1),{startUpload:v}=(0,h.V)(),y=async e=>{if(e&&0!==e.length&&!r){w(!0);for(let t=0;t<e.length;t++){let n=e[t];await v(n)}w(!1)}};return(0,i.jsxs)("div",{className:"w-full flex px-3 border-b border-divider",children:[(0,i.jsx)(o.n,{color:"primary",variant:"underlined","aria-label":"Library tabs",radius:"full",selectedKey:t,classNames:{base:"flex-1",tabList:"gap-4 w-full relative rounded-none p-0",cursor:"w-full bg-blue-500",tab:"max-w-fit px-0 !h-12 select-none outline-none",tabContent:"group-data-[selected=true]:text-blue-500 text-white-400/75 px-1 font-semibold text-base md:text-base lg:text-base tracking-wide mb-1"},children:Object.values(a).map(e=>{let t=p(e),r=(0,g.wS)(t,n);return(0,i.jsx)(c.r,{className:"!focus-visible:outline-none",title:(0,i.jsx)("h2",{children:e}),as:u.default,href:r},t)})}),(0,i.jsxs)(s.A,{size:"md",variant:"solid",color:"primary",disableRipple:!0,isLoading:r,startContent:!r&&(0,i.jsx)(l.JO,{icon:"material-symbols:upload",width:18}),children:["Upload",(0,i.jsx)("input",{type:"file",multiple:!0,accept:m.RL,className:"absolute inset-0 size-full cursor-pointer opacity-0",onChange:e=>y(e.target.files)})]})]})}},90241:function(e,t,n){n.d(t,{g:function(){return c}});var r=n(62284),a=n(23405),i=n(2793),l=n(59297),o=n(17179);let c=e=>{let{type:t,src:n,topText:c,bottomText:s,centerText:u,id:d="image-canvas",imageWidth:f=1152,imageHeight:p=1152,canvasWidth:h=1152,canvasHeight:m=1152,alt:g="Generated Image",progress:w=100,className:v=""}=e,y=(0,l.useRef)(new Image),x=(0,l.useRef)(null),b=(0,l.useMemo)(()=>w&&w<100&&w>0,[w]);return(0,l.useEffect)(()=>{let e=y.current,r=x.current;if(r){if(n||u)"image"===t||"faceswap"===t?(e.onload=()=>{(0,o.el)({image:e,canvas:r,topText:c,bottomText:s,centerText:null,canvasWidth:h,canvasHeight:m,imageWidth:f,imageHeight:p})},e.height=p,e.width=f,e.src=n):"text"===t&&(e.height=p,e.width=f,(0,o.el)({image:e,canvas:r,topText:null,bottomText:null,centerText:u,canvasWidth:h,canvasHeight:m,imageWidth:f,imageHeight:p}));else{(0,o.el)({image:e,canvas:r,topText:null,bottomText:null,centerText:null,canvasWidth:1152,canvasHeight:1152,imageWidth:1152,imageHeight:1152});return}}},[s,m,h,u,p,f,n,c,t]),(0,r.jsx)("div",{id:d,className:"size-full transition-all flex items-center justify-center",children:b?(0,r.jsx)(i.default,{draggable:!1,priority:!0,src:n,alt:g,style:{borderRadius:"0px",filter:w<100?"blur(".concat(70/w,"px)"):"none",transition:"filter 0.5s"},className:(0,a.cn)("transition-all object-cover","w-[".concat(f,"px] h-[").concat(p,"px]"),v),width:f,height:p}):(0,r.jsx)("canvas",{ref:x,className:(0,a.cn)("size-full object-cover",v)})})}},51670:function(e,t,n){n.d(t,{$:function(){return i}});var r=n(59297),a=n(15219);let i=e=>{let[t,n]=(0,r.useState)(1),i=(0,a.FK)({...e,start:50*(t-1),limit:50}),l=(0,r.useCallback)(()=>{i.isFetching||i.isLoading||i.isError||n(e=>{var t;let n=!i.data||0===i.data.length,r=(null!==(t=i.data)&&void 0!==t?t:[]).length<50*e;return n||r?e:e+1})},[i.data,i.isError,i.isFetching,i.isLoading]),o=(0,r.useCallback)(async()=>{let e=window.innerHeight;document.body.offsetHeight-window.scrollY<3*e&&l()},[l]);return(0,r.useEffect)(()=>(window.addEventListener("scroll",o),()=>{window.removeEventListener("scroll",o)}),[o]),i}},72488:function(e,t,n){n.d(t,{N:function(){return c},e:function(){return s}});var r=n(28403),a=n(92449),i=n(25845),l=n(82258);let o=["/home","/trending"],c=e=>o.some(t=>e.startsWith(t)),s=()=>{let e=(0,a.useRouter)(),t=(0,r.usePathname)(),n=(0,r.useSearchParams)(),s=e=>{let r=!!e.postId,a=r?e.postId:e.imageId;if(!a)return t;let c=encodeURIComponent((0,i.eC)(a));if(o.includes(t)){let e=new URLSearchParams(n.toString()),r="".concat(t,"/").concat(c);return(0,l.wS)(r,e)}{let e=new URLSearchParams(n.toString());return r?(e.set("postId",c),e.delete("imageId")):(e.set("imageId",c),e.delete("postId")),(0,l.wS)(t,e)}},u=()=>{let e=t;c(t)&&(e=t.split("/").slice(0,-1).join("/"));let r=new URLSearchParams(n.toString());return r.delete("postId"),r.delete("imageId"),(0,l.wS)(e,r)};return{getOpenHref:s,openLightBox:t=>{if(!t.postId&&!t.imageId)return;let n=s(t);e.push(n,{scroll:!1})},closeLightBox:()=>{let t=u();e.push(t,{scroll:!1})}}}},77606:function(e,t,n){n.d(t,{$4:function(){return u},KS:function(){return g},Rs:function(){return s},Xq:function(){return m},et:function(){return p},it:function(){return c},lf:function(){return h},rP:function(){return o},s6:function(){return d},tK:function(){return l},yZ:function(){return f}});var r=n(77971),a=n(72363);let i={searchInterval:a.u.Week,searchSortBy:a.a.Hot,contestEntryIndex:0,isSignupModalOpen:!1,isNotificationsTrayOpen:!1,isHovering:!1},l=(0,r.oM)({name:"appSlice",initialState:i,reducers:e=>({setContestEntryIndex:e.reducer((e,t)=>{e.contestEntryIndex=t.payload}),openSignupModal:e.reducer(e=>{e.isSignupModalOpen=!0}),closeSignupModal:e.reducer(e=>{e.isSignupModalOpen=!1}),openNotificationsTray:e.reducer(e=>{e.isNotificationsTrayOpen=!0}),closeNotificationsTray:e.reducer(e=>{e.isNotificationsTrayOpen=!1}),setIsHovering:e.reducer((e,t)=>{e.isHovering=t.payload})}),selectors:{selectContestEntryIndex:e=>e.contestEntryIndex,selectIsSignupModalOpen:e=>e.isSignupModalOpen,selectIsNotificationsTrayOpen:e=>e.isNotificationsTrayOpen,selectIsHovering:e=>e.isHovering}}),{setContestEntryIndex:o,openSignupModal:c,closeSignupModal:s,openNotificationsTray:u,closeNotificationsTray:d,setIsHovering:f}=l.actions,{selectContestEntryIndex:p,selectIsSignupModalOpen:h,selectIsNotificationsTrayOpen:m,selectIsHovering:g}=l.selectors},96245:function(e,t,n){n.d(t,{CG:function(){return i},TL:function(){return a}});var r=n(12563);let a=r.I0.withTypes(),i=r.v9.withTypes();r.oR.withTypes()},90028:function(e,t,n){n.d(t,{ImageModalProvider:function(){return u},g:function(){return d}});var r=n(62284),a=n(28403),i=n(59297),l=n(89895),o=n(72488),c=n(94548);let s=(0,i.createContext)({}),u=e=>{let{params:t,children:n}=e,{imageId:i}=(0,c.d)({params:t,key:"imageId"}),u=(0,a.useSearchParams)().get("imageId"),d=i.length>0?i:u,{openLightBox:f,closeLightBox:p}=(0,o.e)();return(0,r.jsxs)(s.Provider,{value:{onOpenImage:e=>f({imageId:e}),onCloseImage:p},children:[n,d&&(0,r.jsx)(l.e,{imageId:d,onClose:p})]})},d=()=>{let e=(0,i.useContext)(s);if(void 0===e)throw Error("useImageModal must be used within ImageModalProvider");return e}},484:function(e,t,n){n.d(t,{UploadProvider:function(){return w},V:function(){return v}});var r=n(62284),a=n(92449),i=n(66975),l=n(59297),o=n(12563),c=n(88938);let s=e=>{let{text:t,textButton:n,onClick:a}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[t,n&&a&&(0,r.jsx)(c.A,{variant:"solid",color:"success",size:"sm",className:"text-white-400",onClick:a,children:n})]})};var u=n(72488),d=n(77606),f=n(15219),p=n(81255);let h=e=>{let t=new FileReader;return new Promise((n,r)=>{t.onload=e=>{var t;let a=null===(t=e.target)||void 0===t?void 0:t.result;if(!a){r(Error("Failed to read file"));return}n(new Uint8Array(a))},t.onerror=()=>r(t.error),t.readAsArrayBuffer(e)})};var m=n(25845);let g=(0,l.createContext)({}),w=e=>{let{children:t}=e,n=(0,a.useRouter)(),{openLightBox:c}=(0,u.e)(),w=(0,o.I0)(),[v]=(0,f.V4)(),[y,x]=(0,l.useState)([]),[b,L]=(0,l.useState)(),[T,_]=(0,l.useState)(!1),S=(0,l.useCallback)(async e=>{try{(0,i.sy)();let t=e.name.slice(0,20),r=(0,i.yv)("Uploading ".concat(t),{variant:"info",persist:!0});L(r);let a=await h(e),l=Array.from(new Uint8Array(a)),o=(await v({filename:(0,m.Df)(e.name),filetype:e.type,bytes:l})).data;if(!o)throw Error("Failed to upload");o.id,(0,i.sy)(b),L(void 0),n.push("/library/uploads")}catch(e){L(void 0),(0,i.sy)(),(0,i.yv)("Failed to upload some memes",{variant:"error"})}},[b,v,n]),I=(0,l.useCallback)(async e=>{try{let t=(0,m.Df)(e),n=t.slice(0,20),a=(0,i.yv)("Uploading ".concat(n),{variant:"info",persist:!0});L(a);let l=(await v({filename:t,filetype:"image",source_url:e})).data;if(!l)throw Error("Failed to paste link");x(e=>[l,...e]),(0,i.sy)(b),L(void 0);let o=(0,i.yv)((0,r.jsx)(s,{text:"Successfully pasted link",textButton:"View",onClick:()=>{(0,i.sy)(o),c({postId:l.id})}}),{variant:"success",autoHideDuration:3e3})}catch(e){(0,i.yv)("Failed to paste link",{variant:"error"})}},[b,c,v]),k=(0,l.useMemo)(()=>(0,p.k)(S,1e3),[S]),j=(0,l.useCallback)(async e=>{if(void 0===b){if(e.size>33554432){(0,i.yv)("Please upload files 32MB or less",{variant:"error"});return}return k(e)}},[k,b]),C=(0,l.useCallback)(async e=>{if(e.clipboardData){let t=e.clipboardData.items;for(let e=0;e<t.length;e++){let n=t[e];if(n.type.includes("image")){let e=n.getAsFile();e&&await j(e)}}}},[j]);(0,l.useEffect)(()=>(window.addEventListener("paste",C),()=>{window.removeEventListener("paste",C)}),[C]);let N=(0,l.useCallback)(async e=>{if(!(e.dataTransfer.items.length>0)||!e.dataTransfer.items[0].type.includes("image"))return!1;e.preventDefault(),w((0,d.yZ)(!1)),_(!0);let t=e.dataTransfer.files;try{for(let e=0;e<t.length;e++){let n=t[e];n.type.includes("image")&&await j(n)}}catch(e){}finally{_(!1)}},[w,j]);return(0,r.jsx)(g.Provider,{value:{uploads:y,setUploads:x,startUpload:j,pasteImageLink:I,isBatchUploading:T},children:(0,r.jsx)("div",{className:"flex min-h-0 w-full min-w-0 flex-1",onDragOver:e=>{e.preventDefault(),e.dataTransfer.items.length>0&&e.dataTransfer.items[0].type.includes("image")&&(0,d.yZ)(!0)},onDragLeave:()=>(0,d.yZ)(!1),onDrop:N,children:t})})},v=()=>{let e=(0,l.useContext)(g);if(void 0===e)throw Error("useFeed must be used within UploadProvider");return e}},30778:function(e,t,n){n.d(t,{J2:function(){return l},WN:function(){return o},aN:function(){return c},i4:function(){return i}});var r=n(56845),a=n(96690);let i={[a.L.One]:1,[a.L.TwoHorizontal]:2,[a.L.TwoVertical]:2,[a.L.Four]:4},l={[a.L.One]:"grid-rows-1 h-fit w-fit",[a.L.TwoHorizontal]:"grid-cols-2 w-full h-fit",[a.L.TwoVertical]:"grid-rows-2 w-fit h-full",[a.L.Four]:"grid-cols-2 grid-rows-2"};a.L.One,a.L.TwoHorizontal,a.L.TwoVertical,a.L.Four;let o={[a.L.One]:"h-auto w-fit",[a.L.TwoHorizontal]:"w-full h-fit",[a.L.TwoVertical]:"w-fit h-full",[a.L.Four]:"h-auto w-fit"},c={[a.L.One]:r.t.Square,[a.L.TwoHorizontal]:r.t.Portrait,[a.L.TwoVertical]:r.t.Landscape,[a.L.Four]:r.t.Square}},56845:function(e,t,n){var r,a;n.d(t,{t:function(){return r}}),(a=r||(r={})).Square="square",a.Landscape="landscape",a.Portrait="portrait"},96690:function(e,t,n){var r,a;n.d(t,{L:function(){return r}}),(a=r||(r={})).One="one",a.TwoVertical="two-vertical",a.TwoHorizontal="two-horizontal",a.Four="four-square"},17179:function(e,t,n){n.d(t,{jt:function(){return w},el:function(){return h},mr:function(){return g}});var r=n(30778),a=n(96690);async function i(e){return await new Promise((t,n)=>{e.toBlob(e=>{if(!e){n(Error("Failed to create blob"));return}let r=new FileReader;r.onload=()=>{t(new Uint8Array(r.result))},r.readAsArrayBuffer(e)},"image/jpeg")})}var l=n(10469),o=n(99378);async function c(e){let{ctx:t,url:n,x:r,y:a,paneWidth:i,paneHeight:l}=e,c=new Image;c.crossOrigin="Anonymous",c.src=n,await new Promise((e,t)=>{c.onload=e,c.onerror=t}),await (0,o.h)({ctx:t,image:c,targetWidth:i,targetHeight:l,imageWidth:c.width,imageHeight:c.height,anchorX:r,anchorY:a})}var s=n(71987);async function u(e){let{ctx:t,content:n,placement:r,x:a,y:i,maxWidth:l}=e;return new Promise(e=>{for(var o=n.split(" "),c="",u=[],d=0;d<o.length;d++){var f=c+o[d]+" ";t.measureText(f).width>l&&d>0?(u.push({text:c,y:i}),c=o[d]+" ",i+=100):c=f}if(u.push({text:c.trim(),y:i}),"bottom"===r){let e=100*u.length;u=u.map(t=>({text:t.text,y:t.y-e+100}))}if("center"===r){let e=100*u.length;u=u.map(t=>({text:t.text,y:t.y-e/2+50}))}u.forEach(e=>{(0,s.Dt)()?(t.strokeText(e.text,a,e.y),t.fillText(e.text,a,e.y)):(t.fillText(e.text,a,e.y),t.strokeText(e.text,a,e.y))}),e()})}let d="bold ".concat(80,"px Impact");function f(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];e.font=d,e.fillStyle=t?"white":"black",e.strokeStyle=t?"black":"white",e.lineWidth=3,e.lineJoin="round",e.textAlign="center",(0,s.Dt)()&&(e.shadowColor=t?"black":"white",e.shadowBlur=6,e.shadowOffsetX=0,e.shadowOffsetY=0)}var p=n(82258);async function h(e){let{image:t,canvas:n,topText:r,bottomText:a,centerText:i,canvasWidth:l,canvasHeight:c,imageWidth:s,imageHeight:d}=e,p=n.getContext("2d");if(!p||(t.width=s,t.height=d,n.width=l,n.height=c,i?(p.fillStyle="white",p.fillRect(0,0,n.width,n.height)):await (0,o.h)({ctx:p,image:t,targetWidth:l,targetHeight:c,imageWidth:s,imageHeight:d}),!r&&!a&&!i))return;f(p,!i);let h=n.width-40,m=n.width/2,g=n.height/2,w=n.height-64;r&&await u({ctx:p,content:r,placement:"top",x:m,y:120,maxWidth:h}),i&&await u({ctx:p,content:i,placement:"center",x:m,y:g,maxWidth:h}),a&&await u({ctx:p,content:a,placement:"bottom",x:m,y:w,maxWidth:h})}async function m(e,t,n,r,a){return new Promise(i=>{e.fillStyle="black",e.fillRect(t,n,r,a),i()})}async function g(e){let{canvas:t,studioPanels:n,studioLayout:i,paneAspectRatio:o}=e,s=t.getContext("2d");if(!s)throw Error("Failed to create canvas context");let{paneWidth:d,paneHeight:h}=(0,l.rf)(i,o),g=(0,l.rf)(i,o),{canvasWidth:w,canvasHeight:v}=(0,l.GJ)(i,g);t.width=w,t.height=v;let y=Object.values(n),x=y.map(e=>"image"===e.panel_type||"faceswap"===e.panel_type?e:null).filter(Boolean),b=y.map(e=>"text"===e.panel_type?e:null).filter(Boolean);for(let e=0;e<Math.min(r.i4[i],x.length+b.length);e++){let t=x.find(t=>(null==t?void 0:t.idx)===e),n=b.find(t=>(null==t?void 0:t.idx)===e);if(!t&&!n)continue;let r=0,l=0;if(i===a.L.TwoHorizontal?(r=e%2==0?0:d,l=0):i===a.L.TwoVertical?(r=0,l=e%2==0?0:h):i===a.L.Four&&(r=e%2==0?0:d,l=e<2?0:h),t)try{var L,T;let e=(0,p.LA)(null==t?void 0:t.panel_config.image);"local"in t&&(e=t.local.src),await c({ctx:s,url:e,x:r,y:l,paneWidth:d,paneHeight:h}),f(s);let n=null===(L=t.panel_config.text_overlay)||void 0===L?void 0:L.top_text,a=null===(T=t.panel_config.text_overlay)||void 0===T?void 0:T.bottom_text,i=d-40,o=r+d/2,m=l+120,g=l+h-64;n&&await u({ctx:s,content:n,placement:"top",x:o,y:m,maxWidth:i}),a&&await u({ctx:s,content:a,placement:"bottom",x:o,y:g,maxWidth:i})}catch(e){}else if(n){s.fillStyle="white",s.fillRect(r,l,d,h),f(s,!1);let e=d-40,t=r+d/2,a=l+h/2;await u({ctx:s,content:n.panel_config.text,placement:"center",x:t,y:a,maxWidth:e})}}i===a.L.TwoHorizontal?await m(s,d,0,10,v):i===a.L.TwoVertical?await m(s,0,h,w,10):i===a.L.Four&&(await m(s,d,0,10,v),await m(s,0,h,w,10))}async function w(e,t,n){let r=document.createElement("canvas");return await g({canvas:r,studioPanels:e,studioLayout:t,paneAspectRatio:n}),i(r)}},10469:function(e,t,n){n.d(t,{GJ:function(){return o},rf:function(){return l},vO:function(){return c}});var r=n(56845),a=n(96690);let i={[r.t.Square]:[1152,1152],[r.t.Landscape]:[1152,896],[r.t.Portrait]:[896,1152]};function l(e,t){let n=0,r=0;if(e||(e=a.L.One),e===a.L.One){let e=i[t];n=e[0],r=e[1]}else if(e===a.L.TwoVertical)n=1152,r=896;else if(e===a.L.TwoHorizontal)n=896,r=1152;else if(e===a.L.Four)n=1152,r=1152;else throw Error("Unsupported panel layout, ");return{paneWidth:n,paneHeight:r}}function o(e,t){let n=0,r=0;if(e===a.L.One&&t)n=t.paneWidth,r=t.paneHeight;else if(e===a.L.TwoVertical)n=1152,r=1792;else if(e===a.L.TwoHorizontal)n=1792,r=1152;else if(e===a.L.Four)n=2304,r=2304;else throw Error("Unsupported panel layout");return{canvasWidth:n,canvasHeight:r}}function c(e,t){return 10>Math.abs(e-t)?r.t.Square:e>t?r.t.Landscape:r.t.Portrait}},81255:function(e,t,n){n.d(t,{D:function(){return r},k:function(){return a}});let r=(e,t)=>{let n=null;return function(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];n&&clearTimeout(n),n=setTimeout(()=>{n&&clearTimeout(n);let t=e(...a);return n=null,t},t)}},a=(e,t)=>{let n=null;return function(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return new Promise((r,i)=>{let l=async()=>{n&&clearTimeout(n);try{let t=await e(...a);r(t)}catch(e){i(e)}n=null};n&&clearTimeout(n),n=setTimeout(l,t)})}}},14751:function(e,t,n){n.d(t,{K7:function(){return i},VR:function(){return l},jG:function(){return a},sw:function(){return c},zD:function(){return s}});var r=n(71987);let a="MemeDeck",i="Meme With Frens",l="Create & discover memes with AI.";function o(e){return e.replace("ai_character:","").replace("_"," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function c(e,t){var n,r,a;let i=e.prompt,l="AI Meme",c=t&&"object"==typeof t?"".concat(t.name," (@").concat(t.handle,")"):"",s=c?"View the AI-generated meme by ".concat(c," on MemeDeck.xyz"):"View the AI-generated meme on MemeDeck.xyz",u=null!==(n=e.source)&&void 0!==n?n:"image",d=e.url_watermarked||e.source_url||e.url||"";i?(l=o(i.character),s=i.user_positive_prompt):s=e.caption;let f=c?"".concat(l," by ").concat(c):l;return{title:l,description:s,titleWithAttribution:f,source:u,creator:e.by.name,url:d,width:null!==(r=e.width)&&void 0!==r?r:1152,height:null!==(a=e.height)&&void 0!==a?a:1152}}function s(e){let t="AI Meme",n="".concat(e.by.name," (@").concat(e.by.handle,")"),r="View the AI-generated meme by ".concat(n," on MemeDeck.xyz"),a="",i=1152,l=1152;if("image"===e.post_type&&e.image)return c(e.image,e.by);if("meme"===e.post_type&&e.meme){var s,u,d,f,p,h,m,g,w;let c=Object.values(e.meme.panels),v=c.find(e=>"image"===e.panel_type&&e.panel_config.prompt),y=c.find(e=>"image"===e.panel_type&&e.panel_config.image),x=v?v.panel_config.prompt:null,b=y?y.panel_config.image:null,L=c.find(e=>"faceswap"===e.panel_type&&e.panel_config.faceswap),T=L?L.panel_config.faceswap:null;if(x)t=o(x.character),r=x.user_positive_prompt;else if(b){let e=null!==(m=b.extracted_text)&&void 0!==m?m:"";t=e.length>50?"".concat(e.slice(0,50),"..."):e,r=b.search_text}else T&&(t="Face Swap",r="View the face swap meme by ".concat(n," on MemeDeck.xyz"));a=(null===(s=e.meme)||void 0===s?void 0:s.url)||(null===(u=e.image)||void 0===u?void 0:u.url_watermarked)||(null===(d=e.image)||void 0===d?void 0:d.source_url)||(null===(f=e.image)||void 0===f?void 0:f.url)||"",i=null!==(g=null===(p=e.meme)||void 0===p?void 0:p.width)&&void 0!==g?g:1152,l=null!==(w=null===(h=e.meme)||void 0===h?void 0:h.height)&&void 0!==w?w:1152}let v="".concat(t," by ").concat(n);return{title:t,titleWithAttribution:v,description:r,source:"image",creator:n,url:a,width:i,height:l}}"".concat(a," â€“ ").concat(i),new URL(r.j7?"http://localhost:8080":"https://memedeck.xyz")},82258:function(e,t,n){n.d(t,{CU:function(){return o},GY:function(){return l},LA:function(){return s},eT:function(){return c},o4:function(){return i},wS:function(){return a}});var r=n(71987);function a(e,t){return t.toString().length?"".concat(e,"?").concat(t.toString()):e}function i(e,t){let n=new URLSearchParams;(null==t?void 0:t.sort_by)&&n.set("sort_by",t.sort_by);let r=n.toString()?"?".concat(n.toString()):"";return"/deck/".concat(e.replace("deck:","")).concat(r)}function l(e){return"/home/".concat(e.replace("post:",""))}function o(e){let t=e.deck_id.replace("deck:",""),n=e.id.replace("contest:","");return"/deck/".concat(t,"/contest/").concat(n)}function c(e){let t=e.id.replace("contest:",""),n="/studio?contestId=".concat(t);if(e.matching_rules){let t=e.matching_rules.characters[0];n+="&characterId=".concat(t)}return n}function s(e){if(e.url_watermarked)return e.url_watermarked;if(e.source_url){if(!r.j7)return e.source_url;e.url.startsWith("<!doctype")&&e.source_url}return e.url}}}]);