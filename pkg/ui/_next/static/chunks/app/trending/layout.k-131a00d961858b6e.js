(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2584],{47336:function(e,t,s){Promise.resolve().then(s.bind(s,13581)),Promise.resolve().then(s.bind(s,80746))},84394:function(e,t,s){"use strict";s.d(t,{Ud:function(){return h},hd:function(){return d},Ew:function(){return u},QB:function(){return m}});var l=s(7590),n=s(64064),r=s(27613),a=s(4763),i={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo.a86b8f2b.svg",height:256,width:256,blurWidth:0,blurHeight:0},c=s(22566),o=s(57031);let d=()=>(0,l.jsx)("div",{className:"flex h-16 min-h-16 select-none items-center justify-center lg:justify-start",children:(0,l.jsxs)(a.default,{href:"/home",children:[(0,l.jsxs)("div",{className:"hidden gap-3 items-center lg:flex",children:[(0,l.jsx)(m,{}),(0,l.jsx)(h,{})]}),(0,l.jsx)("div",{className:"lg:hidden",children:(0,l.jsx)(u,{})})]})}),u=()=>(0,l.jsx)(r.default,{src:i,alt:"".concat(o.jG," Icon"),"aria-label":"".concat(o.jG," - ").concat(o.vk),className:"h-10 min-w-10 w-full select-none"}),m=e=>{let{className:t="h-12 w-[120px] object-cover"}=e;return(0,l.jsx)(r.default,{priority:!0,src:c.Z,alt:"".concat(o.jG," Logo"),"aria-label":"".concat(o.jG," - ").concat(o.vk),className:t,draggable:!1})},h=()=>(0,l.jsx)(n.z,{size:"sm",color:"warning",classNames:{base:"mb-0.5 text-yellow-400 bg-yellow-50 border-1 border-yellow-400/10"},children:"Alpha"})},47758:function(e,t,s){"use strict";s.d(t,{o:function(){return i}});var l=s(7590),n=s(15866),r=s(57839);let a={default:3,1100:3,700:2,500:1},i=e=>{let{items:t,isFetching:s,hasFetched:i,hasSearched:c,noResultsMessage:o="No memes",className:d="relative overflow-hidden pl-3 pt-3",breakpoints:u=a,renderItem:m}=e;return(0,l.jsxs)("div",{className:d,children:[!s&&0===t.length&&(i||c)?(0,l.jsx)("div",{className:"text-sm text-white-400/50",children:o}):null,s&&(0===t.length||c)&&(0,l.jsx)("div",{className:"flex w-full justify-center p-3 ".concat(c?"absolute z-10":""),children:(0,l.jsx)(n.c,{})}),(0,l.jsx)(r.Z,{breakpointCols:u,className:"my-masonry-grid min-w-full max-w-full",columnClassName:"my-masonry-grid_column",children:t.map(m)}),s&&t.length>0&&(0,l.jsx)("div",{className:"flex w-full justify-center p-3",children:(0,l.jsx)(n.c,{})})]})}},51241:function(e,t,s){"use strict";s.d(t,{d:function(){return r}});var l=s(7590),n=s(89405);let r=e=>{let{stats:t}=e;return(0,l.jsxs)("span",{className:"px-3 text-white-400/50 text-tiny",children:[t.total_memes," ",(0,n._6)(t.total_memes,"meme","memes")," in"," ",t.time_ms&&"".concat(t.time_ms,"ms")]})}},88222:function(e,t,s){"use strict";s.d(t,{B:function(){return r}});var l=s(7590),n=s(62247);let r=e=>{let{bg:t="bg-black-400",trailColor:s="#8B5CF6",trailWidth:r=500,staticBorderColor:a,rounded:i="rounded-2xl",hideTrail:c=!1,children:o,onClick:d}=e;return(0,l.jsxs)(l.Fragment,{children:[c?null:(0,l.jsx)("div",{className:(0,n.cn)("size-full box-border","absolute inset-0","border-2 border-transparent",i),children:(0,l.jsx)("div",{className:"trail",style:{width:r,"--trail-color":s}})}),(0,l.jsx)("div",{className:(0,n.cn)("size-full min-h-full box-border z-10","overflow-hidden","border-2 border-transparent",i,null!=a?a:""),onClick:d,children:(0,l.jsx)("div",{className:(0,n.cn)("size-full flex flex-col gap-1",t,i),children:o})})]})}},857:function(e,t,s){"use strict";s.d(t,{b:function(){return c}});var l=s(7590),n=s(89666),r=s(61594),a=s(72728),i=s(82581);let c=e=>{let{contest:t}=e,s=(0,i.useMemo)(()=>[...t.judges,...t.contestants].filter((e,t,s)=>s.findIndex(t=>t.id===e.id)===t),[t.contestants,t.judges]),c=(0,i.useMemo)(()=>s.length-3,[s]);return(0,l.jsxs)("div",{className:"flex items-center justify-end",children:[(0,l.jsx)(n._,{size:"sm",children:s.slice(0,3).map(e=>(0,l.jsx)(r.h,{src:e.avatar,size:"sm",classNames:{base:"border-2 border-black-0"}},e.id))}),c>0?(0,l.jsxs)("div",{className:(0,a.cn)("flex items-center justify-center size-8","rounded-full bg-[#3F3F46] border-2 border-black-0 -ml-3 z-10","font-medium text-sm select-none"),children:["+",c]}):(0,l.jsx)("div",{})]})}},43662:function(e,t,s){"use strict";s.d(t,{g:function(){return A}});var l,n=s(7590),r=s(72728),a=s(82581),i=s(69622),c=s(81662),o=s(70244),d=s(23143),u=s(857),m=s(51124),h=s(47709);let x=e=>{let{contest:t}=e,{getDateRange:s}=(0,h.S)(),l=new Date(t.end_time).toLocaleDateString("en-US",{month:"short",day:"numeric"});return(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)(i.JO,{icon:"akar-icons:calendar",className:"size-4 text-white-400/50"}),(0,n.jsx)("p",{className:"text-sm text-white-400/60",children:(()=>{switch(t.status){case"active":return"Ends ".concat(l);case"ended":return"Ended ".concat(l);default:return s({start:(0,m.Aj)(t.start_time),end:(0,m.Aj)(t.end_time)})}})()})]})};var f=s(39659),p=s(66788),v=s(27613),j={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/winner.7c11c905.svg",height:33,width:33,blurWidth:0,blurHeight:0};let b=e=>{var t;let{contest:s}=e;return(null===(t=s.winner)||void 0===t?void 0:t.meme_url)?(0,n.jsx)("div",{className:"absolute right-3 top-3",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(v.default,{alt:"Winning meme",className:"size-[98px] rounded-xl object-cover",width:92,height:92,src:s.winner.meme_url}),(0,n.jsx)("div",{className:"absolute -bottom-3 -translate-x-1/2 left-1/2",children:(0,n.jsx)(v.default,{src:j,width:32,height:32,alt:"Winning meme icon",className:"size-8"})})]})}):null};var g=s(21059),w=s(99395),N=s(15866),k=s(42739),y=s(60997),C=s(72655),z=s(3333);(l||(l={})).Delete="delete";let _=e=>{let{contestId:t,size:s="sm",variant:l="light",itemsToRender:r=["delete"],isLoading:c,isDisabled:d}=e,[u,{isLoading:m}]=(0,z.k8)(),h=(0,a.useCallback)(async e=>{e.stopPropagation(),e.preventDefault();try{await u(t)}catch(e){console.error("Failed to delete contest",e),(0,C.yv)("Failed to delete contest",{variant:"error"})}},[t,u]),x=(0,a.useMemo)(()=>[{key:"delete",label:"Delete",color:"danger",startContent:(0,n.jsx)(i.JO,{className:"size-5",icon:"tabler:trash"}),onClick:h}],[h]);return(0,n.jsxs)(g.F,{classNames:{content:"min-w-0 w-auto"},children:[(0,n.jsx)(w.S,{children:m||c?(0,n.jsx)("div",{className:"flex items-center justify-center size-8",children:(0,n.jsx)(N.c,{size:"sm"})}):(0,n.jsx)(o.A,{isIconOnly:!0,size:s,variant:l,isDisabled:d,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,n.jsx)(i.JO,{className:"size-5",icon:"tabler:dots"})})}),(0,n.jsx)(k.a,{children:x.filter(e=>r.includes(e.key)).map(e=>(0,n.jsx)(y.W,{color:e.color,startContent:e.startContent,onClick:e.onClick,children:e.label},e.key))})]})};var S=s(88222),D=s(61784),P=s(85183),I=s(62247),E=s(96616);let M=e=>{var t;let{contest:s,allowEdit:l=!1}=e,r=(0,d.useRouter)(),{data:m}=(0,z.iS)(),h=(0,P.TL)(),[v,j]=(0,a.useState)(!1),g=s.judges.some(e=>e.id===(null==m?void 0:m.id)),w="upcoming"===s.status||"draft"===s.status,N="active"===s.status,k="ended"===s.status,y="ended"===s.status&&(null===(t=s.winner)||void 0===t?void 0:t.meme_url),C=(0,a.useCallback)(()=>{if(!m)return h((0,D.it)());j(!0),r.push((0,E.eT)(s))},[s,h,m,r]),M=(0,a.useCallback)(()=>{if(!m)return h((0,D.it)());r.push((0,E.CU)(s))},[s,h,m,r]);return(0,n.jsx)(c.w,{className:(0,I.cn)("min-h-0 min-w-96","rounded-lg cursor-pointer bg-black-400"),children:(0,n.jsxs)(S.B,{hideTrail:!N,staticBorderColor:"ended"===s.status?"border-yellow-400":"border-white-400/10",rounded:"rounded-lg",bg:"bg-black-400",onClick:M,children:[(0,n.jsxs)("header",{className:(0,I.cn)("w-full min-w-0 overflow-hidden flex items-start p-3 gap-3"),children:[(0,n.jsxs)("div",{className:"flex flex-col flex-1 gap-0.5 truncate",children:[(0,n.jsxs)("div",{className:"relative flex",children:[(0,n.jsx)("h3",{className:(0,I.cn)("flex-1 text-base font-extrabold truncate"),children:(0,n.jsx)("span",{className:"cursor-pointer hover:underline",children:s.title.length>0?s.title:"Untitled"})}),y&&(0,n.jsx)("div",{className:"h-full w-28"})]}),(0,n.jsxs)("div",{className:"relative flex items-center gap-3",children:[(0,n.jsx)(x,{contest:s}),(0,n.jsx)(p.I,{contest:s}),y&&(0,n.jsx)("div",{className:"h-full w-28"})]})]}),g&&l&&w?(0,n.jsx)(_,{contestId:s.id}):w?(0,n.jsx)(o.A,{size:"sm",radius:"full",variant:"faded",color:"default",isDisabled:!0,children:"Upcoming"}):N?(0,n.jsx)(o.A,{size:"sm",color:"primary",radius:"full",className:"bg-violet-500 min-w-16",endContent:(0,n.jsx)(i.JO,{icon:"mdi:arrow-right",className:"text-white-400"}),isDisabled:v,onClick:C,children:(0,n.jsx)("h4",{className:"text-sm",children:"Apply"})}):k?y?(0,n.jsx)(b,{contest:s}):(0,n.jsx)(o.A,{size:"sm",radius:"full",color:"default",isDisabled:!0,children:"Ended"}):(0,n.jsx)("div",{})]}),(0,n.jsxs)("footer",{className:"flex gap-1 items-center justify-between pr-3",children:[(0,n.jsx)(f.U,{contest:s,rounded:"rounded-tr-lg",p:"px-2 sm:px-3"}),!y&&(0,n.jsx)(u.b,{contest:s})]})]})})},F=()=>(0,n.jsx)(c.w,{className:(0,I.cn)("h-[126px] min-w-96","border-2 border-transparent","bg-black-400 rounded-lg"),children:(0,n.jsx)("header",{className:(0,I.cn)("w-full min-w-0 overflow-hidden flex items-start p-3 gap-3"),children:(0,n.jsx)("div",{className:"bg-white-400/5 h-5 w-3/4 rounded-sm"})})}),A=e=>{let{contests:t,isLoading:s,p:l="px-3 md:px-5",allowEdit:i=!1,showNoContestsText:c=!1}=e,o=(0,a.useMemo)(()=>(null!=t?t:[]).filter(e=>!!e.title&&!!e.description&&!!e.prize&&!!e.prize.token_amount).filter(e=>"draft"!==e.status),[t]);return s?(0,n.jsx)("section",{className:(0,r.cn)("w-full flex gap-3 overflow-x-scroll",l),children:[1,2,3].map(e=>(0,n.jsx)(F,{},e))}):0===o.length?c?(0,n.jsx)("p",{className:"px-3 text-sm text-white-400/50",children:"No contests found"}):null:(0,n.jsx)("section",{className:(0,r.cn)("w-full flex gap-3 overflow-x-scroll",l),children:o.map(e=>(0,n.jsx)(M,{contest:e,allowEdit:i},e.id))})}},39659:function(e,t,s){"use strict";s.d(t,{U:function(){return c}});var l=s(7590),n=s(69622),r=s(72728),a=s(61594),i=s(7922);let c=e=>{let{contest:t,h:s="h-12",p:c="p-3",rounded:o="rounded-2xl",isSmall:d=!0}=e,u="ended"===t.status,m=t.winner,h=u&&m;return(0,l.jsx)("div",{className:(0,r.cn)("flex relative truncate",s),children:(0,l.jsxs)("div",{className:(0,r.cn)("flex items-center gap-1.5 truncate",c,o,(()=>{switch(t.status){case"ended":return"bg-yellow-400";case"active":return"bg-violet-500";default:return"bg-black-300"}})()),children:[h?(0,l.jsx)(a.h,{src:m.contestant.avatar,size:"sm",classNames:{base:"border-2 border-black-0"}}):(0,l.jsx)(n.JO,{icon:"iconoir:coin",className:"size-5"}),t.prize?(0,l.jsxs)("div",{className:"flex flex-col truncate",children:[h&&(0,l.jsx)("span",{className:"text-white-400 font-bold leading-4 truncate",children:m.contestant.name}),(0,l.jsxs)("div",{className:(0,r.cn)("flex items-center gap-1 truncate"),children:[(0,l.jsxs)("span",{className:(0,r.cn)("text-white-400",h?"font-semibold":"font-bold",d?h?"text-sm":"text-base":"text-lg"),children:[h?"+":"",(0,i.pw)(t.prize.token_amount)]}),(0,l.jsx)("span",{className:(0,r.cn)("text-white-400/75 font-medium truncate",d?"text-sm":"text-base",d?"":"mt-[1px]"),children:t.prize.ticker})]})]}):(0,l.jsx)("p",{className:"font-bold",children:"TBD"})]})})}},66788:function(e,t,s){"use strict";s.d(t,{I:function(){return a}});var l=s(7590),n=s(69622),r=s(89405);let a=e=>{let{contest:t,highLightNumber:s}=e,a="draft"===t.status,i="upcoming"===t.status;return a||i?null:(0,l.jsxs)("div",{className:"flex items-center gap-1 truncate",children:[(0,l.jsx)(n.JO,{icon:"lets-icons:send-hor-light",className:"size-5 text-white-400/50"}),(0,l.jsxs)("div",{className:"flex gap-1 text-sm text-white-400/60 truncate",children:[(0,l.jsx)("span",{className:s?"text-white-400 font-medium":"",children:t.entry_count}),(0,l.jsx)("span",{className:"truncate",children:(0,r._6)(t.entry_count,"submission","submissions")})]})]})}},91620:function(e,t,s){"use strict";s.d(t,{B:function(){return d}});var l=s(7590),n=s(27613),r=s(4763),a=s(21307),i=s(62247),c=s(89405),o=s(96616);let d=e=>{let{deckId:t,thumbnail:s,name:d,rank:u,totalPosts:m,isAdmin:h,w:x="min-w-28 w-28 md:min-w-48 md:w-48"}=e;return(0,l.jsx)(r.default,{href:(0,o.o4)(t),className:"scale-img-on-hover select-none",children:(0,l.jsxs)("div",{className:(0,i.cn)(x,"relative cursor-pointer overflow-hidden flex flex-col justify-center","rounded-lg shadow-lg hover:shadow-2xl","bg-black-400 hover:bg-black-300"),children:[(0,l.jsx)("div",{className:"size-full aspect-square overflow-hidden bg-white-400/10",children:s&&(0,l.jsx)(n.default,{src:s,alt:d,width:256,height:256,className:"size-full object-cover object-center"})}),(0,l.jsxs)("footer",{className:"flex flex-col gap-1 pl-3 pr-1 py-3",children:[(0,l.jsxs)("div",{className:"flex gap-3 items-center justify-between truncate",children:[(0,l.jsxs)("h3",{className:"flex gap-2 text-sm md:text-base tracking-wide w-full truncate",children:[(0,l.jsx)("span",{className:"text-white-400 font-extrabold truncate",children:d}),u&&(0,l.jsxs)("span",{className:"text-white-400/70 font-semibold",children:["#",u]})]}),h&&(0,l.jsx)(a.g,{deckId:t,onDelete:()=>{window.location.reload()}})]}),(0,l.jsxs)("span",{className:"flex gap-1 text-sm",children:[(0,l.jsx)("span",{className:"text-white-400 font-medium",children:m}),(0,l.jsx)("span",{className:"text-white-400/75",children:(0,c._6)(m,"meme","memes")})]})]})]})})}},21307:function(e,t,s){"use strict";s.d(t,{Z:function(){return n},g:function(){return v}});var l,n,r=s(7590),a=s(69622),i=s(21059),c=s(99395),o=s(15866),d=s(70244),u=s(42739),m=s(60997),h=s(23143),x=s(72655),f=s(82581),p=s(3333);(l=n||(n={})).Edit="edit",l.Delete="delete";let v=e=>{let{deckId:t,size:s="sm",variant:l="light",itemsToRender:n=["edit","delete"],isLoading:v,isDisabled:j,onEdit:b,onDelete:g}=e,w=(0,h.useRouter)(),[N]=(0,p.ez)(),[k,y]=(0,f.useState)(!1),C=(0,f.useCallback)(()=>{w.push("/deck-edit/".concat(t.replace("deck:",""))),null==b||b()},[w,t,b]),z=(0,f.useCallback)(async e=>{e.stopPropagation(),e.preventDefault();try{y(!0),N(t),null==g||g(),w.push("/home")}catch(e){console.error("Failed to delete deck",e),(0,x.yv)("Failed to delete deck",{variant:"error"})}finally{y(!1)}},[t,N,g,w]),_=(0,f.useMemo)(()=>[{key:"edit",label:"Edit",color:"default",startContent:(0,r.jsx)(a.JO,{className:"size-5",icon:"mdi:edit"}),onClick:C},{key:"delete",label:"Delete",color:"danger",startContent:(0,r.jsx)(a.JO,{className:"size-5",icon:"tabler:trash"}),onClick:z}],[C,z]);return(0,r.jsxs)(i.F,{classNames:{content:"min-w-0 w-auto"},children:[(0,r.jsx)(c.S,{children:k||v?(0,r.jsx)("div",{className:"flex items-center justify-center size-8",children:(0,r.jsx)(o.c,{size:"sm"})}):(0,r.jsx)(d.A,{isIconOnly:!0,size:s,variant:l,isDisabled:j,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,r.jsx)(a.JO,{className:"size-5",icon:"tabler:dots"})})}),(0,r.jsx)(u.a,{children:_.filter(e=>n.includes(e.key)).map(e=>(0,r.jsx)(m.W,{color:e.color,startContent:e.startContent,onClick:e.onClick,children:e.label},e.key))})]})}},7746:function(e,t,s){"use strict";s.d(t,{T:function(){return a}});var l=s(7590),n=s(70244),r=s(27613);let a=e=>{let{src:t,onClickShow:s}=e;return(0,l.jsxs)("div",{className:"absolute inset-0 bg-black/50 z-2 bg-white-400/10",onClick:e=>{e.stopPropagation(),e.preventDefault()},onMouseEnter:e=>{e.stopPropagation(),e.preventDefault()},children:[(0,l.jsx)(r.default,{src:t,alt:"NSFW",draggable:!1,className:"absolute z-0 inset-0 size-full object-cover blur-xl scale-[3]",width:640,height:640,sizes:"640px",quality:1,priority:!0}),(0,l.jsx)(n.A,{variant:"ghost",color:"danger",size:"sm",className:"p-1 font-medium z-3 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 backdrop-blur-sm",onClick:s,children:"Show"})]})}},4288:function(e,t,s){"use strict";s.d(t,{E:function(){return u}});var l=s(7590),n=s(23143),r=s(82581),a=s(84394),i=s(39858),c=s(43227),o=s(36572);let d=()=>{var e,t,s;let l=(0,n.useSearchParams)();return{initialQuery:null!==(e=l.get("query"))&&void 0!==e?e:"",initialInterval:null!==(t=l.get("interval"))&&void 0!==t?t:o.u.Week,initialSortBy:null!==(s=l.get("sort_by"))&&void 0!==s?s:o.a.Hot}},u=e=>{let{value:t,autofocus:s,className:o="px-3",responsiveness:u="",border:m="border-b border-white-400/15",placeholder:h,hideLogo:x=!1,onSearch:f,searchInterval:p,onSelectInterval:v}=e,j=(0,n.useRouter)(),{initialQuery:b}=d(),g=(0,r.useMemo)(()=>t.length>0,[t.length]),w=(0,r.useCallback)(()=>{f||j.push("/trending")},[f,j]);return(0,l.jsxs)("div",{className:"sticky top-0 z-20 flex gap-3 h-16 w-full items-center justify-between bg-black-0 ".concat(o," ").concat(u," ").concat(m),onClick:w,children:[!x&&(0,l.jsx)("div",{className:"sm:hidden size-10 max-w-10",children:(0,l.jsx)(a.Ew,{})}),(0,l.jsx)(i.T,{value:t,autofocus:s,initialSearch:b,placeholder:h,onSearch:f}),g&&p&&v&&(0,l.jsx)(c.m,{interval:p,onSelect:v})]})}},39858:function(e,t,s){"use strict";s.d(t,{T:function(){return c}});var l=s(7590),n=s(14688),r=s(27613),a=s(82581),i=s(62300);let c=e=>{let{value:t,autofocus:s,initialSearch:c,placeholder:o="Search for memes. (i.e. pepe)",onFocus:d,onSearch:u}=e,m=(0,a.useRef)(null);return(0,l.jsx)(n.Y,{isClearable:!0,onClear:()=>{null==u||u("")},radius:"full",classNames:{base:"flex-1",input:"text-base placeholder:text-base placeholder:text-white-400/50"},startContent:(0,l.jsx)(r.default,{priority:!0,src:i.Z,alt:"Dropdown",onClick:e=>{var t;e.preventDefault(),null===(t=m.current)||void 0===t||t.focus()},className:"mr-1 size-5 cursor-text select-none opacity-75"}),ref:m,autoFocus:s,defaultValue:c,placeholder:o,className:"h-10 min-w-24 flex-1 rounded-full border border-white-400/5 bg-white-400/5 shadow-sm outline-none placeholder:text-xl placeholder:text-white-400/50",value:t,onFocus:d,onChange:e=>null==u?void 0:u(e.target.value)})}},23216:function(e,t,s){"use strict";s.d(t,{P:function(){return v}});var l=s(7590),n=s(81662),r=s(18386),a=s(27613),i=s(82581),c=s(95642),o=s(7746),d=s(60516),u=s(5852),m=s(3333),h=s(27391),x=s(62247),f=s(57031),p=s(89405);let v=e=>{var t,s;let{post:v,deckId:j,priorityLoadImage:b,imageQuality:g,onClick:w}=e,{data:N}=(0,m.iS)(),k=(0,i.useMemo)(()=>{var e;return null!==(e=null==N?void 0:N.id)&&void 0!==e?e:""},[N]),y=(0,u.u)(k,v.votes),[C]=(0,m.NU)(),[z]=(0,m.Rp)(),_=(0,i.useMemo)(()=>!1,[]),[S,D]=(0,i.useState)(_),{description:P,creator:I,url:E,width:M,height:F}=(0,f.zD)(null!=v?v:{}),{src:A,onError:O}=(0,d.f)(null!==(s=null!==(t=v.meme)&&void 0!==t?t:v.image)&&void 0!==s?s:{}),{onOpenPost:T}=(0,h.h)(),U=(0,i.useCallback)(()=>{if(w){w();return}T(v.id)},[w,T,v.id]);(0,i.useEffect)(()=>()=>{D(_)},[_]);let L=(0,i.useMemo)(()=>null!=g?g:50,[g]),B=(0,i.useMemo)(()=>L/100*(null!=M?M:200),[M,L]),J=(0,i.useMemo)(()=>L/100*(null!=F?F:200),[F,L]);return(0,l.jsx)("article",{className:"relative w-full cursor-pointer",onClick:U,children:(0,l.jsxs)(n.w,{isFooterBlurred:!0,className:"group overflow-hidden rounded-md",children:[(0,l.jsx)(a.default,{className:"z-0 size-full rounded-md bg-white-400/5 sm:transition-transform sm:group-hover:scale-104",src:A,quality:L,priority:b,alt:P,width:B,height:J,onError:O}),(0,l.jsx)(r.i,{className:(0,x.cn)("absolute bottom-1 ml-1 py-2 z-1","justify-between bg-black-400/30 border-1 border-zinc-600/40 overflow-hidden before:rounded-lg rounded-xl w-[calc(100%_-_8px)] shadow-small","transition-opacity opacity-0",y.hasUpvoted||y.hasDownvoted?"sm:opacity-100":"sm:group-hover:opacity-100"),children:(0,l.jsxs)("div",{className:"flex flex-1 items-center gap-2 w-full",children:[(0,l.jsxs)("div",{className:"flex flex-1 items-center gap-2 truncate text-sm font-semibold",children:[(0,l.jsx)(a.default,{src:v.by.avatar,alt:I,className:"rounded-full min-w-8",width:32,height:32,quality:50}),(0,l.jsxs)("div",{className:"flex flex-col flex-1 truncate",children:[(0,l.jsx)("span",{className:"truncate",children:v.by.handle}),v.created_at&&(0,l.jsx)("span",{className:"text-tiny font-normal text-white-400/70",children:(0,p.Po)(new Date(v.created_at))})]})]}),(0,l.jsx)(c.I,{postId:v.id,user:N,deckId:j,initialVotes:v.votes,postVoteApi:C,deleteVoteApi:z,onClickOverride:w,border:"border-zinc-400/50"})]})}),S&&(0,l.jsx)(o.T,{src:E,onClickShow:()=>D(!1)})]})})}},43227:function(e,t,s){"use strict";s.d(t,{m:function(){return i}});var l=s(7590),n=s(33151),r=s(82187),a=s(36572);let i=e=>{let{interval:t,onSelect:s}=e;return(0,l.jsx)(n.g,{size:"md","aria-label":"Interval",radius:"full",variant:"bordered",color:"primary",placeholder:"Sort by",classNames:{base:"w-auto",trigger:"w-20 sm:w-28",popoverContent:"w-28"},value:t,selectedKeys:[t],onChange:e=>{s(e.target.value)},children:Object.values(a.u).map(e=>(0,l.jsx)(r.R,{children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}},80746:function(e,t,s){"use strict";s.d(t,{TrendingPageContent:function(){return k}});var l=s(7590),n=s(82581),r=s(43662),a=s(47758),i=s(51241),c=s(17256),o=s(4288),d=s(23216),u=s(91620),m=s(61784),h=s(3333),x=s(85183);let f=()=>{let e=(0,x.CG)(m.uJ),{isFetching:t,data:s}=(0,h.oX)({limit:50,interval:e,category:"character"}),r=(0,n.useMemo)(()=>Object.values(null!=s?s:{}).filter(e=>"deck:feed"!==e.id).sort((e,t)=>e.rank-t.rank),[s]);return t?(0,l.jsx)("div",{className:"flex px-3 gap-3 w-full overflow-x-auto scrollbar-hide",children:[1,2,3,4,5,6,7,8,9].map(e=>(0,l.jsxs)("div",{className:"min-w-[112px] w-[112px] h-[152px] md:min-w-48 md:h-[264px] bg-black-400 rounded-lg shadow-lg hover:shadow-2xl overflow-hidden",children:[(0,l.jsx)("div",{className:"w-full aspect-square bg-black-100/25"}),(0,l.jsx)("div",{className:"w-full h-10 px-3 flex items-center",children:(0,l.jsx)("div",{className:"w-1/2 h-5 bg-black-100/50 rounded-md"})})]},e))}):(0,l.jsx)("div",{className:"flex px-3 gap-3 w-full overflow-x-auto scrollbar-hide",children:r.map((e,t)=>(0,l.jsx)(u.B,{deckId:e.id,rank:t+1,name:e.title,thumbnail:e.thumbnail,totalPosts:e.total_posted,isAdmin:!1},e.id))})};var p=s(43227);let v=e=>{let{interval:t,onSelectInterval:s}=e;return(0,l.jsx)("header",{className:"flex items-center justify-between p-3 gap-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("h1",{className:"text-white-400 font-bold text-3xl tracking-wide",children:"Trending"}),(0,l.jsx)(p.m,{interval:t,onSelect:s})]})})};var j=s(62247);let b=e=>{let{p:t="p-3",children:s}=e;return(0,l.jsx)("h4",{className:(0,j.cn)(t,"text-white-400/75 tracking-wide font-bold uppercase text-sm truncate"),children:s})};var g=s(55695),w=s(58563),N=s(89405);let k=()=>{var e;let t=(0,x.TL)(),s=(0,x.CG)(m.lf),u=(0,x.CG)(m.uJ),p=(0,x.CG)(m.dZ),{search:j,searchDebounced:k,onSearch:y}=(0,w.U)(),{data:C}=(0,h.iS)(),{currentData:z,isFetching:_}=(0,g.T)({search:k,interval:u,sort_by:p,nsfw:!1}),{currentData:S,isLoading:D}=(0,h.TJ)(),P=(0,n.useCallback)(e=>{t((0,m.TU)(e))},[t]),I=(0,n.useMemo)(()=>k.length>0,[k.length]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.E,{autofocus:!0,border:"border-b border-transparent",value:j,onSearch:y,searchInterval:u,onSelectInterval:()=>null}),!I&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v,{interval:u,onSelectInterval:P}),(0,l.jsxs)(b,{children:["Top Characters ",(0,N.qr)(u)]}),(0,l.jsx)(f,{}),(0,l.jsx)(b,{p:"p-3 pt-6",children:"Contests"}),(0,l.jsx)(r.g,{contests:S,isLoading:D,p:"px-3",showNoContestsText:!0}),(0,l.jsx)(b,{p:"px-3 pt-6 pb-0",children:"Trending Posts"})]}),I&&z&&(0,l.jsx)(i.d,{stats:z}),(0,l.jsx)(a.o,{items:null!==(e=null==z?void 0:z.memes)&&void 0!==e?e:[],noResultsMessage:I?"":"No memes ".concat((0,N.qr)(u).toLowerCase()),isFetching:_,hasFetched:!!z,hasSearched:I,renderItem:(e,s)=>(0,l.jsx)(d.P,{post:e,imageQuality:30,priorityLoadImage:s<10,onClick:C?void 0:()=>t((0,m.it)())},"".concat(s,"-").concat(e.id))}),s&&(0,l.jsx)(c.c,{isOpen:s,onClose:()=>t((0,m.Rs)())})]})}},47709:function(e,t,s){"use strict";s.d(t,{S:function(){return r}});var l=s(54877),n=s(82581);function r(){let e=(0,l.a)({dateStyle:"long"});return{getDateRange:(0,n.useCallback)(t=>e.formatRange(t.start.toDate(),t.end.toDate()),[e])}}},55695:function(e,t,s){"use strict";s.d(t,{T:function(){return r}});var l=s(82581),n=s(3333);let r=e=>{let{search:t,...s}=e,[r,a]=(0,l.useState)(1),i=(0,n.t$)({...s,search:t,start:50*(r-1),limit:50}),c=(0,l.useCallback)(()=>{i.isFetching||i.isLoading||i.isError||a(e=>{var t,s;let l=!i.data||0===i.data.memes.length,n=(null!==(s=null===(t=i.data)||void 0===t?void 0:t.memes)&&void 0!==s?s:[]).length<50*e;return l||n?e:e+1})},[i.data,i.isError,i.isFetching,i.isLoading]),o=(0,l.useCallback)(async()=>{let e=window.innerHeight;document.body.offsetHeight-window.scrollY<3*e&&c()},[c]);return(0,l.useEffect)(()=>(window.addEventListener("scroll",o),()=>{window.removeEventListener("scroll",o)}),[o]),i}},58563:function(e,t,s){"use strict";s.d(t,{U:function(){return r}});var l=s(82581),n=s(32701);function r(){let[e,t]=(0,l.useState)(""),[s,r]=(0,l.useState)(""),a=(0,l.useMemo)(()=>(0,n.D)(r,500),[]);return{search:e,searchDebounced:s,onSearch:(0,l.useCallback)(e=>{t(e),a(e)},[a])}}},27391:function(e,t,s){"use strict";s.d(t,{PostModalProvider:function(){return d},h:function(){return u}});var l=s(7590),n=s(23143),r=s(82581),a=s(41612),i=s(86960),c=s(84187);let o=(0,r.createContext)({}),d=e=>{let{params:t,children:s}=e,{postId:r}=(0,c.d)({params:t,key:"postId"}),d=(0,n.useSearchParams)().get("postId"),u=r.length>0?r:d,{openLightBox:m,closeLightBox:h}=(0,i.e)();return(0,l.jsxs)(o.Provider,{value:{onOpenPost:e=>m({postId:e}),onClosePost:h},children:[s,u&&(0,l.jsx)(a.e,{postId:u,onClose:h})]})},u=()=>{let e=(0,r.useContext)(o);if(void 0===e)throw Error("usePostModal must be used within PostModalProvider");return e}},7922:function(e,t,s){"use strict";function l(){return Math.floor(1e12*Math.random())}function n(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function r(e){let t=atob(e),s=t.length,l=new Uint8Array(new ArrayBuffer(s));for(let e=0;e<s;e++)l[e]=t.charCodeAt(e);return Array.from(l)}s.d(t,{RG:function(){return r},pw:function(){return n},qb:function(){return l}})},62300:function(e,t){"use strict";t.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/search.3dc28276.svg",height:18,width:18,blurWidth:0,blurHeight:0}},22566:function(e,t){"use strict";t.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo-wide.572ec4d3.svg",height:256,width:702,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[2138,244,116,7482,8236,9447,417,7847,2305,9101,774,4494,9738,7273,4483,4081,6244,7832,7421,164,3333,3585,3581,3998,7814,1744],function(){return e(e.s=47336)}),_N_E=e.O()}]);