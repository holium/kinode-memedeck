(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3798],{23276:function(e,t,n){Promise.resolve().then(n.bind(n,13581)),Promise.resolve().then(n.bind(n,28478))},8387:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(7590),l=n(7219),a=n(50739),i={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/arrow.left.37648ed6.svg",height:46,width:57,blurWidth:0,blurHeight:0};let s=e=>{let{title:t,subtitle:n,border:s="border-b border-transparent",isLoading:o=!1,endContent:c,onGoBack:u}=e,{goBack:d}=(0,a.h)();return(0,r.jsxs)("div",{className:"flex h-16 w-full items-center ".concat(s),children:[(0,r.jsx)(l.O,{src:i,alt:"Back",onClick:null!=u?u:d}),o?(0,r.jsx)("h1",{className:"h-6 w-24 animate-pulse rounded bg-gray-200"}):(0,r.jsxs)("div",{className:"flex flex-col flex-1 truncate",children:[(0,r.jsx)("h1",{className:"flex-1 text-left text-lg font-bold truncate",children:t}),n]}),c]})}},7219:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var r=n(7590),l=n(27613);let a=e=>{let{src:t,alt:n,id:a,margin:i="m-2",w:s="w-3.5",onClick:o}=e;return(0,r.jsx)("button",{id:a,className:"flex size-9 items-center justify-center rounded-full hover:bg-black-100 ".concat(i),onClick:o,children:(0,r.jsx)(l.default,{priority:!0,src:t,alt:n,className:"opacity-85 ".concat(s)})})}},28478:function(e,t,n){"use strict";n.d(t,{ProfileBaseLayout:function(){return I}});var r,l,a=n(7590),i=n(69622),s=n(70244),o=n(52124),c=n(67484),u=n(25689),d=n(86839),f=n(82581),m=n(8387),h=n(10961),p=n(36703),x=n(70380),v=n(4763),g=n(23143);(r=l||(l={})).Posts="Posts",r.Decks="Decks";let w=(e,t)=>{let n=t.toLowerCase();switch(e){case"Posts":return"/u/".concat(n);case"Decks":return"/u/".concat(n,"/decks");default:return""}};var b=n(52494);let y=e=>{let{handle:t,isSelf:n}=e,r=(0,g.usePathname)(),{isCreating:i,onClickNewDeck:o}=(0,b.W)();return(0,a.jsxs)("div",{className:"relative flex min-w-full max-w-full flex-row items-center justify-between gap-3 overflow-x-auto border-b-1 border-white-400/15 px-1.5",children:[(0,a.jsx)(p.n,{color:"primary",variant:"underlined","aria-label":"Profile tabs",radius:"full",selectedKey:r.toLowerCase(),classNames:{base:"w-full xs:mt-2 mt-1",tabList:"gap-4 w-full relative rounded-none p-0 border-b border-divider px-3 xs:justify-center md:justify-start border-none",cursor:"w-full bg-blue-500",tab:"max-w-fit px-0 !h-12 select-none outline-none",tabContent:"group-data-[selected=true]:text-blue-500 px-1 text-white-400/75 font-semibold tracking-wide mb-1 !text-base !font-semibold"},children:Object.values(l).map(e=>{let n=w(e,t);return(0,a.jsx)(x.r,{href:n,className:"!focus-visible:outline-none",title:(0,a.jsx)("h2",{children:e}),as:v.default},n)})}),n&&(0,a.jsx)(s.A,{variant:"bordered",isLoading:i,onClick:o,children:"New Deck"})]})},j=e=>{let{handle:t=""}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-12",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-3",children:[(0,a.jsx)("div",{className:"size-24 rounded-full bg-black-300"}),(0,a.jsx)("div",{className:"mb-2 flex flex-col gap-2",children:(0,a.jsxs)("h3",{className:"text-lg font-medium leading-4 text-white-400/70",children:["@",t]})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 px-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold leading-6",children:"This account doesnâ€™t exist"}),(0,a.jsx)("p",{className:"text-lg font-medium leading-4 text-white-400/70",children:"Try searching for another."})]})]})};var N=n(17256),k=n(84187),_=n(61784),L=n(3333),P=n(85183),C=n(50739),S=n(62247);let I=e=>{let{params:t,children:n}=e,{handle:r}=(0,k.d)({params:t,key:"handle"}),l=(0,P.TL)(),[p]=(0,L._y)(),[x]=(0,L.CZ)(),[v]=(0,L.iq)(),{data:g}=(0,L.iS)(),w=(0,P.CG)(_.lf),{goBack:b}=(0,C.h)(),[I,z]=(0,f.useState)(!0),[M,T]=(0,f.useState)(),A=(0,f.useMemo)(()=>(null==g?void 0:g.handle)===r,[r,g]),E=(0,f.useMemo)(()=>{var e;return null!==(e=null==M?void 0:M.avatar.replace("_normal",""))&&void 0!==e?e:""},[null==M?void 0:M.avatar]),O=(0,f.useCallback)(()=>{p().then(()=>{window.location.reload()})},[p]);return((0,f.useEffect)(()=>{g&&A?(T(g),z(!1)):v(r).then(e=>{e.data?T(e.data):T(null)}).catch(()=>T(null)).finally(()=>z(!1))},[v,r,A,g]),I)?(0,a.jsxs)("div",{className:"flex size-full flex-col gap-3",children:[(0,a.jsx)(m.y,{title:"",isLoading:!0}),(0,a.jsxs)("div",{className:"mb-2 flex items-center gap-3 px-3",children:[(0,a.jsx)("div",{className:"size-24 animate-pulse rounded-full bg-gray-200"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"h-6 w-48 animate-pulse rounded bg-gray-200"}),(0,a.jsx)("div",{className:"h-4 w-32 animate-pulse rounded bg-gray-200"})]})]}),(0,a.jsx)(y,{handle:"",isSelf:A})]}):M?(0,a.jsxs)("div",{className:"flex size-full flex-col gap-3",children:[(0,a.jsx)(m.y,{title:"Profile",onGoBack:()=>b("/home","/u/".concat(M.handle)),endContent:A?(0,a.jsx)(s.A,{isIconOnly:!0,variant:"flat",className:"flex md:hidden mr-3",onClick:O,children:(0,a.jsx)(i.JO,{icon:"iconamoon:exit",width:16})}):void 0}),(0,a.jsx)(o.z,{name:(0,a.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,a.jsx)("h2",{className:"text-2xl font-black truncate",children:M.name}),M.badge_image_url&&(0,a.jsx)(h.E,{content:"Kinode user",children:(0,a.jsx)(c.J,{src:M.badge_image_url,alt:"badge",className:"rounded-md",width:24,height:24})})]}),classNames:{base:(0,S.cn)("flex-col gap-2 mb-2 px-4 justify-start","sm:flex-row sm:gap-4"),wrapper:(0,S.cn)("flex items-center gap-1 items-center max-w-full","sm:items-start sm:gap-0.5"),name:"text-2xl font-bold max-w-full"},description:(0,a.jsxs)(u.O,{href:"https://x.com/".concat(M.handle),size:"sm",className:"flex items-center text-base font-normal text-white-400/50",isExternal:!0,children:["@".concat(M.handle),(0,a.jsx)(d.x,{})]}),avatarProps:{className:"!size-14 sm:!size-24 overflow-hidden rounded-full",src:E,alt:M.handle,onError:async()=>{console.log("Failed to load avatar. Refreshing X me.");let e=await x(M.handle);e.data&&T(t=>({...t,...e.data}))}}}),(0,a.jsx)(y,{handle:r,isSelf:A}),n,w&&(0,a.jsx)(N.c,{isOpen:w,onClose:()=>l((0,_.Rs)())})]}):(0,a.jsxs)("div",{className:"flex size-full flex-col gap-3",children:[(0,a.jsx)(m.y,{title:""}),(0,a.jsx)(j,{handle:r})]})}},41781:function(e,t,n){"use strict";n.d(t,{y:function(){return l}});var r=n(82581);let l=e=>{let{locked:t=!0}=e;(0,r.useEffect)(()=>{if(t){if(window.innerWidth>1024){let e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>document.body.style.overflow=e}{let e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>document.body.style.overflow=e}}},[t])}},86960:function(e,t,n){"use strict";n.d(t,{N:function(){return s},e:function(){return o}});var r=n(23143),l=n(89405),a=n(96616);let i=["/home","/trending"],s=e=>i.some(t=>e.startsWith(t)),o=()=>{let e=(0,r.useRouter)(),t=(0,r.usePathname)(),n=(0,r.useSearchParams)(),o=e=>{let r=!!e.postId,s=r?e.postId:e.imageId;if(!s)return t;let o=encodeURIComponent((0,l.eC)(s));if(i.includes(t)){let e=new URLSearchParams(n.toString()),r="".concat(t,"/").concat(o);return(0,a.wS)(r,e)}{let e=new URLSearchParams(n.toString());return r?(e.set("postId",o),e.delete("imageId")):(e.set("imageId",o),e.delete("postId")),(0,a.wS)(t,e)}},c=()=>{let e=t;s(t)&&(e=t.split("/").slice(0,-1).join("/"));let r=new URLSearchParams(n.toString());return r.delete("postId"),r.delete("imageId"),(0,a.wS)(e,r)};return{getOpenHref:o,openLightBox:t=>{if(!t.postId&&!t.imageId)return;let n=o(t);e.push(n,{scroll:!1})},closeLightBox:()=>{let t=c();e.push(t,{scroll:!1})}}}},84187:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(23143),l=n(82581),a=n(86960);let i=e=>{let{key:t,index:n,params:i}=e,s=(0,r.usePathname)(),o=(0,l.useMemo)(()=>{if("postId"===t&&!(0,a.N)(s))return i[t]||"";if("imageId"!==t){var e;let r=null!==(e=s&&s.split("/")[n||2])&&void 0!==e?e:"";return i[t]||r}},[n,t,i,s]);return{[t]:o?decodeURIComponent(o):""}}},50739:function(e,t,n){"use strict";n.d(t,{AppHistoryProvider:function(){return o},h:function(){return c}});var r=n(7590),l=n(23143),a=n(72655),i=n(82581);let s=(0,i.createContext)({}),o=e=>{let{children:t}=e,n=(0,l.usePathname)(),o=(0,l.useRouter)(),[c,u]=(0,i.useState)([]),d=(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/home",t=arguments.length>1?arguments[1]:void 0,n=e;c.length>1&&(n=c[c.length-2],void 0!==t&&n.includes(t)&&(n=e)),"string"!=typeof n&&(n="/home"),o.push(n,{scroll:!1})},[c,o]);return(0,i.useEffect)(()=>{u(e=>e[e.length-1]!==n?[...e,n]:e)},[n]),(0,r.jsxs)(s.Provider,{value:{goBack:d},children:[t,(0,r.jsx)(a.wT,{dense:!0,maxSnack:3})]})},c=()=>{let e=(0,i.useContext)(s);if(void 0===e)throw Error("useFeed must be used within AppHistoryProvider");return e}},97032:function(e,t,n){"use strict";var r,l;n.d(t,{t:function(){return r}}),(l=r||(r={})).Square="square",l.Landscape="landscape",l.Portrait="portrait"},79738:function(e,t,n){"use strict";var r,l;n.d(t,{L:function(){return r}}),(l=r||(r={})).One="one",l.TwoVertical="two-vertical",l.TwoHorizontal="two-horizontal",l.Four="four-square"},22890:function(e,t,n){"use strict";n.d(t,{GJ:function(){return s},rf:function(){return i},vO:function(){return o}});var r=n(97032),l=n(79738);let a={[r.t.Square]:[1152,1152],[r.t.Landscape]:[1152,896],[r.t.Portrait]:[896,1152]};function i(e,t){let n=0,r=0;if(e||(e=l.L.One),e===l.L.One){let e=a[t];n=e[0],r=e[1]}else if(e===l.L.TwoVertical)n=1152,r=896;else if(e===l.L.TwoHorizontal)n=896,r=1152;else if(e===l.L.Four)n=1152,r=1152;else throw console.log(e,t),Error("Unsupported panel layout, ");return{paneWidth:n,paneHeight:r}}function s(e,t){let n=0,r=0;if(e===l.L.One&&t)n=t.paneWidth,r=t.paneHeight;else if(e===l.L.TwoVertical)n=1152,r=1792;else if(e===l.L.TwoHorizontal)n=1792,r=1152;else if(e===l.L.Four)n=2304,r=2304;else throw Error("Unsupported panel layout");return{canvasWidth:n,canvasHeight:r}}function o(e,t){return 10>Math.abs(e-t)?r.t.Square:e>t?r.t.Landscape:r.t.Portrait}},80797:function(e,t,n){"use strict";async function r(e){let{ctx:t,image:n,targetWidth:r,targetHeight:l,imageWidth:a,imageHeight:i,anchorX:s=0,anchorY:o=0}=e;return new Promise(e=>{let c=Math.max(r/a,l/i),u=a*c,d=i*c;t.save(),t.beginPath(),t.rect(s,o,r,l),t.clip(),t.drawImage(n,s+(r-u)/2,o+(l-d)/2,u,d),t.restore(),e()})}n.d(t,{h:function(){return r}})},62247:function(e,t,n){"use strict";n.d(t,{cn:function(){return a}});var r=n(85701),l=n(85062);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,l.m6)((0,r.W)(t))}},32701:function(e,t,n){"use strict";n.d(t,{D:function(){return r},k:function(){return l}});let r=(e,t)=>{let n=null;return function(){for(var r=arguments.length,l=Array(r),a=0;a<r;a++)l[a]=arguments[a];n&&clearTimeout(n),n=setTimeout(()=>{n&&clearTimeout(n);let t=e(...l);return n=null,t},t)}},l=(e,t)=>{let n=null;return function(){for(var r=arguments.length,l=Array(r),a=0;a<r;a++)l[a]=arguments[a];return new Promise((r,a)=>{let i=async()=>{n&&clearTimeout(n);try{let t=await e(...l);r(t)}catch(e){a(e)}n=null};n&&clearTimeout(n),n=setTimeout(i,t)})}}},57031:function(e,t,n){"use strict";n.d(t,{K7:function(){return a},jG:function(){return l},sw:function(){return o},vk:function(){return i},w:function(){return s},zD:function(){return c}});var r=n(92782);let l="MemeDeck",a="Meme With Frens",i="Create & discover memes with AI.",s={title:"".concat(l," â€“ ").concat(a),description:i,metadataBase:new URL(r.j7?"http://localhost:8080":"https://memedeck.xyz"),openGraph:{images:"/opengraph-image.png"}};function o(e){return{title:"AI Meme",description:"View the AI-generated meme on MemeDeck.xyz",titleWithAttribution:"AI Meme by ".concat(e.by.name," (@").concat(e.by.handle,")"),source:e.source,creator:e.by.name,url:e.source_url||e.url,width:e.width,height:e.height}}function c(e){var t,n,r,l,a,i,s,o,c,u,d,f,m,h,p,x,v,g;let w="".concat(e.by.name," (@").concat(e.by.handle,")"),b="AI Meme",y="View the AI-generated meme by ".concat(w," on MemeDeck.xyz"),j="",N=1152,k=1152,_="image";if("image"===e.post_type)_=null!==(i=null===(t=e.image)||void 0===t?void 0:t.source)&&void 0!==i?i:"image",j=(null===(n=e.image)||void 0===n?void 0:n.source_url)||(null===(r=e.image)||void 0===r?void 0:r.url)||"",N=null!==(s=null===(l=e.image)||void 0===l?void 0:l.width)&&void 0!==s?s:1152,k=null!==(o=null===(a=e.image)||void 0===a?void 0:a.height)&&void 0!==o?o:1152;else if("meme"===e.post_type){let t=Object.values(null!==(p=null===(c=e.meme)||void 0===c?void 0:c.panels)&&void 0!==p?p:{}),n=t.find(e=>"image"===e.panel_type&&e.panel_config.prompt),r=t.find(e=>"image"===e.panel_type&&e.panel_config.image),l=n?n.panel_config.prompt:null,a=r?r.panel_config.image:null,i=t.find(e=>"faceswap"===e.panel_type&&e.panel_config.faceswap),s=i?i.panel_config.faceswap:null;if(l)b=l.character.replace("ai_character:","").replace("_"," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),y=l.user_positive_prompt;else if(a){let e=null!==(x=null==a?void 0:a.extracted_text)&&void 0!==x?x:"";b=e.length>50?"".concat(e.slice(0,50),"..."):e,y=a.search_text}else s&&(b="Face Swap",y="View the face swap meme by ".concat(w," on MemeDeck.xyz"));j=(null===(u=e.meme)||void 0===u?void 0:u.url)||(null===(d=e.image)||void 0===d?void 0:d.source_url)||(null===(f=e.image)||void 0===f?void 0:f.url)||"",N=null!==(v=null===(m=e.meme)||void 0===m?void 0:m.width)&&void 0!==v?v:1152,k=null!==(g=null===(h=e.meme)||void 0===h?void 0:h.height)&&void 0!==g?g:1152}let L="".concat(b," by ").concat(w);return{title:b,titleWithAttribution:L,description:y,source:_,creator:w,url:j,width:N,height:k}}},96616:function(e,t,n){"use strict";function r(e,t){return t.toString().length?"".concat(e,"?").concat(t.toString()):e}function l(e,t){let n=new URLSearchParams;return(null==t?void 0:t.sort_by)&&n.set("sort_by",t.sort_by),"/deck/".concat(e.replace("deck:",""),"?").concat(n.toString())}function a(e){return"/home/".concat(e.replace("meme:",""))}function i(e){let t=e.deck_id.replace("deck:",""),n=e.id.replace("contest:","");return"/deck/".concat(t,"/contest/").concat(n)}function s(e){let t=e.id.replace("contest:",""),n="/studio?contestId=".concat(t);if(e.matching_rules){let t=e.matching_rules.characters[0];n+="&characterId=".concat(t)}return n}n.d(t,{CU:function(){return i},Wi:function(){return a},eT:function(){return s},o4:function(){return l},wS:function(){return r}})},86839:function(e,t,n){"use strict";n.d(t,{x:function(){return l}});var r=n(7590),l=()=>(0,r.jsxs)("svg",{"aria-hidden":"true",className:"flex mx-1 text-current self-center",fill:"none",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",children:[(0,r.jsx)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),(0,r.jsx)("path",{d:"M15 3h6v6"}),(0,r.jsx)("path",{d:"M10 14L21 3"})]})},52124:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(79589),l=n(38197),a=n(61594),i=n(7590),s=(0,l.Gp)((e,t)=>{let{Component:n,name:l,slots:s,classNames:o,description:c,avatarProps:u,getUserProps:d}=(0,r.a)({...e,ref:t});return(0,i.jsxs)(n,{...d(),children:[(0,i.jsx)(a.h,{...u}),(0,i.jsxs)("div",{className:s.wrapper({class:null==o?void 0:o.wrapper}),children:[(0,i.jsx)("span",{className:s.name({class:null==o?void 0:o.name}),children:l}),(0,i.jsx)("span",{className:s.description({class:null==o?void 0:o.description}),children:c})]})]})});s.displayName="NextUI.User";var o=s},79589:function(e,t,n){"use strict";n.d(t,{a:function(){return m}});var r=n(82581),l=n(97811),a=n(42871),i=n(7493),s=(0,a.tv)({slots:{base:["inline-flex items-center justify-center gap-2 rounded-small outline-none",...i.Dh],wrapper:"inline-flex flex-col items-start",name:"text-small text-inherit",description:"text-tiny text-foreground-400"}}),o=n(46855),c=n(37630),u=n(96421),d=n(45899),f=n(31473);function m(e){let{as:t,ref:n,name:a,description:i,className:m,classNames:h,isFocusable:p=!1,avatarProps:x={},...v}=e,g={isFocusable:!1,name:"string"==typeof a?a:void 0,...x},w=t||"div",b="string"==typeof w,y=(0,d.gy)(n),{isFocusVisible:j,isFocused:N,focusProps:k}=(0,l.F)({}),_=(0,r.useMemo)(()=>p||"button"===t,[p,t]),L=(0,r.useMemo)(()=>s(),[]),P=(0,o.W)(null==h?void 0:h.base,m),C=(0,r.useCallback)(()=>({ref:y,tabIndex:_?0:-1,"data-focus-visible":(0,c.PB)(j),"data-focus":(0,c.PB)(N),className:L.base({class:P}),...(0,f.d)((0,u.z)(v,{enabled:b}),_?k:{})}),[_,L,P,k,v]);return{Component:w,className:m,slots:L,name:a,description:i,classNames:h,baseStyles:P,avatarProps:g,getUserProps:C}}},46718:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var r=n(82581),l=n(57496);let a=(0,r.createContext)(null);var i=n(72998);let s=e=>!e.isLayoutDirty&&e.willUpdate(!1),o=e=>!0===e,c=e=>o(!0===e)||"id"===e,u=({children:e,id:t,inherit:n=!0})=>{let u=(0,r.useContext)(l.p),d=(0,r.useContext)(a),[f,m]=(0,i.N)(),h=(0,r.useRef)(null),p=u.id||d;null===h.current&&(c(n)&&p&&(t=t?p+"-"+t:p),h.current={id:t,group:o(n)&&u.group||function(){let e=new Set,t=new WeakMap,n=()=>e.forEach(s);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);let l=t.get(r);l&&(l(),t.delete(r)),n()},dirty:n}}()});let x=(0,r.useMemo)(()=>({...h.current,forceRender:f}),[m]);return r.createElement(l.p.Provider,{value:x},e)}}},function(e){e.O(0,[2138,244,116,7482,8236,9447,417,7847,2305,9101,774,4494,9738,4483,4081,6244,7832,6676,3495,3051,3333,3581,6939,3998,7814,1744],function(){return e(e.s=23276)}),_N_E=e.O()}]);