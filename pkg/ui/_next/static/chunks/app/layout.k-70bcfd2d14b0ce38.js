(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1556],{65579:function(e,t,r){Promise.resolve().then(r.t.bind(r,40877,23)),Promise.resolve().then(r.bind(r,3946)),Promise.resolve().then(r.bind(r,19918)),Promise.resolve().then(r.bind(r,32770)),Promise.resolve().then(r.t.bind(r,8154,23)),Promise.resolve().then(r.t.bind(r,63798,23)),Promise.resolve().then(r.t.bind(r,58764,23)),Promise.resolve().then(r.t.bind(r,45688,23)),Promise.resolve().then(r.bind(r,48751)),Promise.resolve().then(r.bind(r,60402)),Promise.resolve().then(r.bind(r,4104)),Promise.resolve().then(r.bind(r,41116)),Promise.resolve().then(r.bind(r,65805)),Promise.resolve().then(r.bind(r,71668))},26645:function(e,t,r){"use strict";r.d(t,{Ud:function(){return f},hd:function(){return d},Ew:function(){return u},QB:function(){return m}});var l=r(91104),n=r(30027),s=r(83301),i={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo.a86b8f2b.svg",height:256,width:256,blurWidth:0,blurHeight:0},a=r(8748),o=r(51115),c=r(18159);let d=()=>(0,l.jsx)("div",{className:"flex h-16 select-none items-center justify-center lg:px-2 lg:text-left",children:(0,l.jsxs)(n.default,{href:"/home",children:[(0,l.jsxs)("div",{className:"hidden gap-1 items-center lg:flex",children:[(0,l.jsx)(m,{}),(0,l.jsx)(f,{})]}),(0,l.jsx)("div",{className:"lg:hidden",children:(0,l.jsx)(u,{})})]})}),u=()=>(0,l.jsx)(s.default,{src:i,alt:"".concat(o.jG," Icon"),"aria-label":"".concat(o.jG," - ").concat(o.vk),className:"h-10 w-full select-none"}),m=e=>{let{className:t="h-12 w-auto"}=e;return(0,l.jsx)(s.default,{priority:!0,src:a.Z,alt:"".concat(o.jG," Logo"),"aria-label":"".concat(o.jG," - ").concat(o.vk),className:t,draggable:!1})},f=()=>(0,l.jsx)(c.z,{size:"sm",color:"warning",classNames:{base:"mb-0.5 text-yellow-400 bg-yellow-50 border-1 border-yellow-400/10"},children:"Alpha"})},42891:function(e,t,r){"use strict";r.d(t,{F:function(){return c}});var l=r(91104),n=r(26816),s=r(83301),i=r(57826),a=r(41116),o=r(61281);let c=e=>{let{title:t="Generate",variant:r="shadow",color:c="primary",size:d="lg",queryParam:u="",className:m="mt-3 md:w-full min-w-[50px] rounded-full",innerClassName:f="lg:px-4"}=e,h=(0,n.useRouter)(),{profile:x,setIsSignupModalOpen:b}=(0,a.useProfile)();return(0,l.jsx)(i.A,{type:"button",variant:r,color:c,className:m,size:d,radius:"full",disableRipple:!0,isIconOnly:!0,onClick:()=>{if(!x){b(!0);return}h.push("/studio".concat(u))},children:(0,l.jsxs)("div",{className:"flex gap-2 items-center justify-center w-full ".concat(f),children:[(0,l.jsx)(s.default,{src:o.Z,alt:"Generate",className:"size-6"}),(0,l.jsx)("h1",{className:"hidden lg:block text-base truncate",children:t})]})})}},17817:function(e,t,r){"use strict";r.d(t,{D:function(){return s}});var l=r(91104),n=r(63137);let s=e=>{let{id:t,children:r,border:s="border border-white-400/10",bg:i="bg-black-300",padding:a="px-4",height:o="h-10",cursor:c="cursor-pointer",className:d,disabled:u,onClick:m,onClickOutside:f}=e;return(0,n.useEffect)(()=>{if(f){let e=e=>{e.target.id!==t&&f()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}},[t,f]),(0,l.jsx)("button",{id:t,className:"flex select-none items-center gap-2 rounded-full ".concat(o," ").concat(a," ").concat(s," ").concat(c," ").concat(i," ").concat(d),disabled:u,onClick:m,children:r})}},3946:function(e,t,r){"use strict";r.r(t),r.d(t,{MenuDesktop:function(){return v}});var l=r(91104),n=r(26816),s=r(32440),i=r(26645),a=r(41116),o=r(63137),c=r(83301),d=r(17817),u=r(33968);let m=e=>{let{items:t,position:r="absolute inset-x-0 -top-16",width:n="w-auto",itemPadding:s="px-2"}=e;return(0,l.jsx)("div",{id:"profile-dropdown",className:"border-white-400/10 bg-black-300 z-10 mb-2 flex cursor-default flex-col items-center rounded-lg border py-2 drop-shadow ".concat(r," ").concat(n),children:t.map((e,t)=>(0,l.jsx)("button",{className:"hover:bg-black-400 w-full cursor-pointer text-left text-sm font-semibold leading-10 ".concat(s),onClick:e.onClick,children:(0,l.jsx)("p",{className:"truncate ".concat("danger"===e.type?"text-red-500":""),children:e.label})},"dropdown-item-".concat(e.label,"-").concat(t)))})};var f={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/ellipsis.a4814300.svg",height:10,width:49,blurWidth:0,blurHeight:0};let h=e=>{let{profile:t}=e,[r,n]=(0,o.useState)(!1),s=t.twitter_profile,i=e=>{let t=e.target;t.closest("#profile-pill")||t.closest("#profile-dropdown")||n(!1)};return(0,l.jsxs)(d.D,{id:"profile-pill",padding:"px-2 lg:px-4",bg:"bg-none hover:bg-stone-900",border:"border-1 border-white-400/0 hover:border-white-400/10",className:"relative mb-4 h-12 max-w-52 justify-center gap-3 transition-all duration-300",onClick:()=>(n(!0),document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}),children:[(0,l.jsx)(c.default,{src:s.profile_image_url_https,alt:s.name,className:"rounded-full lg:-ml-2",width:32,height:32}),(0,l.jsx)("p",{className:"hidden flex-1 truncate text-sm font-medium lg:flex",children:s.name}),(0,l.jsx)(c.default,{src:f,alt:"Account",className:"hidden w-4 lg:flex"}),r&&(0,l.jsx)(m,{items:[{label:"Log out @".concat(s.screen_name),onClick:()=>{u.P.logout().then(()=>{window.location.reload()})}}]})]})};var x=r(42891),b=r(49566);let p=e=>{let{tab:t,pathname:r}=e,i=(0,n.useRouter)(),{profile:o,setIsSignupModalOpen:c}=(0,a.useProfile)(),d=(0,s.c1)(t,null==o?void 0:o.twitter_profile.screen_name),u=r.startsWith(d),m=(0,s.br)(t,u);return(0,l.jsx)("div",{className:"tab py-2 cursor-pointer",onClick:()=>{let e=(0,s.W1)(t);if(!o&&!e){c(!0);return}i.push(d)},children:(0,l.jsxs)("div",{className:"tab-pill inline-flex size-12 w-full items-center justify-center rounded-full lg:min-w-44 lg:justify-normal lg:px-4 ".concat(u?"active border border-blue-500 bg-blue-100":"border border-black-0"),children:[(0,l.jsx)("div",{className:"flex size-6 items-center justify-center",children:(0,l.jsx)(b.JO,{icon:m,color:u?"rgb(147 197 253)":"white",className:"flex size-6"})}),(0,l.jsx)("h2",{className:"mx-3 ".concat(u?"text-blue-300":"text-stone-200"," hidden text-md lg:block"),children:t})]})})},v=()=>{let e=(0,n.usePathname)(),{profile:t}=(0,a.useProfile)();return(0,l.jsx)("aside",{className:"relative hidden w-12 min-w-12 sm:flex lg:w-52 lg:min-w-52",children:(0,l.jsxs)("div",{className:"fixed inset-y-0 flex flex-col w-12 lg:w-auto",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)(i.hd,{}),(0,l.jsx)("div",{className:"relative mb-4 mt-2 flex flex-1 flex-col",children:Object.values(s.mQ).map(t=>(0,l.jsx)(p,{tab:t,pathname:e},t))}),(0,l.jsx)(x.F,{})]}),t&&(0,l.jsx)(h,{profile:t})]})})}},19918:function(e,t,r){"use strict";r.r(t),r.d(t,{MenuMobile:function(){return u}});var l=r(91104),n=r(26816),s=r(32440),i=r(45268),a=r(49566),o=r(41116);let c=e=>{let{tab:t,pathname:r}=e,c=(0,n.useRouter)(),{profile:d,setIsSignupModalOpen:u}=(0,o.useProfile)(),m=(0,s.c1)(t,null==d?void 0:d.twitter_profile.screen_name),f=r.startsWith(m),h=(0,s.br)(t,f),x=null;return x=t===s.mQ.Profile?(0,l.jsx)(i.h,{size:"sm",className:"!size-7 ".concat(f?"border-1.5 border-blue-500":""),src:null==d?void 0:d.twitter_profile.profile_image_url_https}):(0,l.jsx)(a.JO,{icon:h,color:f?"rgb(147 197 253)":"white",className:"flex size-6"}),(0,l.jsx)("button",{className:"flex flex-1 justify-center",onClick:()=>{let e=(0,s.W1)(t);if(!d&&!e){u(!0);return}c.push(m)},children:(0,l.jsx)("div",{className:"inline-flex h-16 items-center justify-center rounded-full",children:x})})};var d=r(42891);let u=()=>{let e=(0,n.usePathname)();return(0,l.jsxs)("nav",{className:"fixed inset-x-0 px-3 bottom-0 z-50 h-16 border-t border-white-400/10 bg-black-400 sm:hidden xs:fixed",children:[(0,l.jsx)("div",{className:"flex w-full items-center justify-center gap-3",children:Object.values(s.mQ).map(t=>(0,l.jsx)(c,{tab:t,pathname:e},t))}),(0,l.jsx)("div",{className:"fixed bottom-20 right-4 sm:right-6 block sm:hidden size-12",children:(0,l.jsx)(d.F,{className:"mt-0 size-16"})})]})}},32440:function(e,t,r){"use strict";var l,n;function s(e){return"Explore"===e}r.d(t,{W1:function(){return s},br:function(){return i},c1:function(){return a},mQ:function(){return l}}),(0,r(73147).Cb)("all"),(n=l||(l={})).Home="Home",n.Explore="Explore",n.Library="My Library",n.Profile="Profile";let i=(e,t)=>{switch(e){case"Home":return t?"fluent:home-24-filled":"fluent:home-24-regular";case"Explore":return"fluent:search-24-filled";case"My Library":return t?"fluent:emoji-meme-24-filled":"fluent:emoji-meme-24-regular";case"Profile":return t?"fluent:person-24-filled":"fluent:person-24-regular"}},a=(e,t)=>{switch(e){case"Home":return"/home";case"Explore":return"/explore";case"My Library":return"/library";case"Profile":return"/u/".concat(t)}}},65805:function(e,t,r){"use strict";r.r(t),r.d(t,{UIProvider:function(){return s}});var l=r(91104),n=r(35618);function s(e){let{children:t}=e;return(0,l.jsx)(n.w,{className:"flex min-h-0 w-full min-w-0 flex-1",children:t})}},71668:function(e,t,r){"use strict";r.r(t),r.d(t,{UploadProvider:function(){return p},useUpload:function(){return v}});var l=r(91104),n=r(36623),s=r(63137);let i=e=>{let t=new FileReader;return new Promise((r,l)=>{t.onload=e=>{var t;let n=null===(t=e.target)||void 0===t?void 0:t.result;if(!n){l(Error("Failed to read file"));return}r(new Uint8Array(n))},t.onerror=()=>l(t.error),t.readAsArrayBuffer(e)})};var a=r(57826);let o=e=>{let{text:t,textButton:r,onClick:n}=e;return(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[t,r&&n&&(0,l.jsx)(a.A,{variant:"solid",color:"success",size:"sm",className:"text-white-400",onClick:n,children:r})]})};var c=r(29125),d=r(41116),u=r(26816),m=r(60402),f=r(33968),h=r(4180),x=r(98127);let b=(0,s.createContext)({}),p=e=>{let{children:t}=e,r=(0,u.useRouter)(),{openMemeModal:a}=(0,x.T)(),{isPostingMemes:p,setIsHovering:v}=(0,d.useProfile)(),{onUploadMeme:g}=(0,m.useFeed)(),[w,j]=(0,s.useState)([]),[y,k]=(0,s.useState)(),[N,P]=(0,s.useState)(!1),_=(0,s.useCallback)(async(e,t)=>{try{(0,n.sy)();let r=e.name.slice(0,20),s=(0,n.yv)("Uploading ".concat(r),{variant:"info",persist:!0});k(s);let c=await i(e),d="";if(void 0!==t){let r=await f.P.postDeckSubmission({deckId:t,filename:(0,h.Df)(e.name),filetype:e.type,bytes:c});if(!r)throw Error("Failed to upload");d=r.meme_id}else{let t=await f.P.postMeme({filename:(0,h.Df)(e.name),filetype:e.type,bytes:c});if(!t)throw Error("Failed to upload");d=t.id;let r={...t,votes:{up:[],down:[]}};j(e=>[r,...e]),g(r)}(0,n.sy)(y),k(void 0);let u=(0,n.yv)((0,l.jsx)(o,{text:"Successfully uploaded",textButton:"View",onClick:()=>{(0,n.sy)(u),a(d)}}),{variant:"success",autoHideDuration:3e3})}catch(e){console.error(e),k(void 0),(0,n.sy)(),(0,n.yv)("Failed to upload some memes",{variant:"error"})}},[y,a,g,j]),C=(0,s.useCallback)(async e=>{try{let t=(0,h.Df)(e),r=t.slice(0,20),s=(0,n.yv)("Uploading ".concat(r),{variant:"info",persist:!0});k(s);let i=await f.P.postMeme({filename:t,filetype:"image",source_url:e});if(!i)throw Error("Failed to paste link");j(e=>[i,...e]),g(i),(0,n.sy)(y),k(void 0);let c=(0,n.yv)((0,l.jsx)(o,{text:"Successfully pasted link",textButton:"View",onClick:()=>{(0,n.sy)(c),a(i.id)}}),{variant:"success",autoHideDuration:3e3})}catch(e){console.error(e),(0,n.yv)("Failed to paste link",{variant:"error"})}},[y,a,g]),E=(0,s.useMemo)(()=>(0,c.k)(_,1e3),[_]),z=(0,s.useCallback)(async(e,t)=>{if(void 0===y){if(e.size>33554432){(0,n.yv)("Please upload files 32MB or less",{variant:"error"});return}return E(e,t)}},[E,y]),D=(0,s.useCallback)(async e=>{if(e.clipboardData){let t=e.clipboardData.items;for(let e=0;e<t.length;e++){let r=t[e];if(r.type.includes("image")){let e=r.getAsFile();e&&await z(e)}}}},[z]);(0,s.useEffect)(()=>(window.addEventListener("paste",D),()=>{window.removeEventListener("paste",D)}),[D]);let L=async e=>{if(!(e.dataTransfer.items.length>0)||!e.dataTransfer.items[0].type.includes("image"))return!1;e.preventDefault(),v(!1),P(!0);let t=e.dataTransfer.files;try{for(let e=0;e<t.length;e++){let r=t[e];r.type.includes("image")&&await z(r)}p||r.push("/library")}catch(e){console.error(e)}finally{P(!1)}};return(0,l.jsx)(b.Provider,{value:{uploads:w,setUploads:j,startUpload:z,pasteImageLink:C,isBatchUploading:N},children:(0,l.jsx)("div",{className:"flex min-h-0 w-full min-w-0 flex-1",onDragOver:e=>{e.preventDefault(),e.dataTransfer.items.length>0&&e.dataTransfer.items[0].type.includes("image")&&v(!0)},onDragLeave:()=>v(!1),onDrop:L,children:t})})},v=()=>(0,s.useContext)(b)},51115:function(e,t,r){"use strict";r.d(t,{K7:function(){return s},jG:function(){return n},vk:function(){return i}});var l=r(59458);let n="MemeDeck",s="Meme With Frens",i="Create & discover memes with AI.";"".concat(n," â€“ ").concat(s),new URL(l.j7?"http://localhost:8080":"https://memedeck.xyz")},40877:function(){},8748:function(e,t){"use strict";t.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo-wide.572ec4d3.svg",height:256,width:702,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[3107,6557,2376,7826,9749,5981,27,330,9566,6593,1397,9697,4237,3968,8933,3634,9514,5171,1744],function(){return e(e.s=65579)}),_N_E=e.O()}]);