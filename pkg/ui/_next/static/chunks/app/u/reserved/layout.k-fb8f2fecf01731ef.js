(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3798],{30258:function(e,t,s){Promise.resolve().then(s.bind(s,13108)),Promise.resolve().then(s.bind(s,47715))},13343:function(e,t,s){"use strict";s.d(t,{E:function(){return n}});var l=s(57348),r=s(81015),a=s(54167);let n=e=>{let{children:t,...s}=e;return a.BB||a.cm?(0,l.jsx)(r.e,{...s,children:t}):(0,l.jsx)(l.Fragment,{children:t})}},59602:function(e,t,s){"use strict";s.d(t,{y:function(){return i}});var l=s(57348),r=s(37824),a=s(13582),n={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/arrow.left.37648ed6.svg",height:46,width:57,blurWidth:0,blurHeight:0};let i=e=>{let{title:t,subtitle:s,border:i="border-b border-transparent",isLoading:c=!1,endContent:o,onGoBack:d}=e,{goBack:u}=(0,a.useAppHistory)();return(0,l.jsxs)("div",{className:"flex h-16 w-full items-center ".concat(i),children:[(0,l.jsx)(r.O,{src:n,alt:"Back",onClick:null!=d?d:u}),c?(0,l.jsx)("h1",{className:"h-6 w-24 animate-pulse rounded bg-gray-200"}):(0,l.jsxs)("div",{className:"flex flex-col flex-1 truncate",children:[(0,l.jsx)("h1",{className:"flex-1 text-left text-lg font-bold truncate",children:t}),s]}),o]})}},37824:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});var l=s(57348),r=s(45155);let a=e=>{let{src:t,alt:s,id:a,margin:n="m-2",w:i="w-3.5",onClick:c}=e;return(0,l.jsx)("button",{id:a,className:"flex size-9 items-center justify-center rounded-full hover:bg-black-100 ".concat(n),onClick:c,children:(0,l.jsx)(r.default,{priority:!0,src:t,alt:s,className:"opacity-85 ".concat(i)})})}},47715:function(e,t,s){"use strict";s.r(t),s.d(t,{ProfileBaseLayout:function(){return C}});var l,r,a=s(57348),n=s(53350),i=s(67425),c=s(90226),o=s(6526),d=s(53300),u=s(38028),x=s(15346),m=s(59602),f=s(13343),h=s(54144),p=s(20923),b=s(13881),g=s(16189),v=s(12465),j=s(35878);(l=r||(r={})).Memes="Memes",l.Decks="Decks",l.Bookmarks="Bookmarks";let w=(e,t)=>{let s=t.toLowerCase();switch(e){case"Memes":return"/u/".concat(s);case"Decks":return"/u/".concat(s,"/decks");case"Bookmarks":return"/u/".concat(s,"/bookmarks");default:return""}},k=e=>{let{handle:t,isSelf:s}=e,l=(0,g.useRouter)(),n=(0,g.usePathname)(),[c,o]=(0,x.useState)(!1),d=(0,x.useCallback)(async()=>{try{o(!0);let e=await j.P.createDeck({title:"",description:"",auto_post:!1,require_approval:!1,cover_photo:null,admins:null,matching_rules:null,post_ids:null});if(!e)throw Error("Failed to create new deck");l.push("/deck/".concat(e.id.replace("deck:",""),"/edit"))}catch(e){console.error(e),o(!1),(0,v.yv)("Failed to create new deck",{variant:"error"})}},[l]);return(0,a.jsxs)("div",{className:"relative flex min-w-full max-w-full flex-row items-center justify-between gap-3 overflow-x-auto border-b-1 border-white-400/15 px-1.5",children:[(0,a.jsx)(h.n,{color:"primary",variant:"underlined","aria-label":"Profile tabs",radius:"full",selectedKey:n.toLowerCase(),classNames:{base:"w-full xs:mt-2 mt-1",tabList:"gap-4 w-full relative rounded-none p-0 border-b border-divider px-3 xs:justify-center md:justify-start border-none",cursor:"w-full bg-blue-500",tab:"max-w-fit px-0 !h-12 select-none outline-none",tabContent:"group-data-[selected=true]:text-blue-500 px-1 text-white-400/75 font-semibold tracking-wide mb-1 !text-base !font-semibold"},children:Object.values(r).map(e=>{let s=w(e,t);return(0,a.jsx)(p.r,{className:"!focus-visible:outline-none",title:(0,a.jsx)("h2",{children:e}),as:b.default,href:s},s)})}),s&&(0,a.jsx)(i.A,{variant:"bordered",isLoading:c,onClick:d,children:"New Deck"})]})},N=e=>{let{handle:t=""}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-12",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-3",children:[(0,a.jsx)("div",{className:"size-24 rounded-full bg-black-300"}),(0,a.jsx)("div",{className:"mb-2 flex flex-col gap-2",children:(0,a.jsxs)("h3",{className:"text-lg font-medium leading-4 text-white-400/70",children:["@",t]})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 px-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold leading-6",children:"This account doesnâ€™t exist"}),(0,a.jsx)("p",{className:"text-lg font-medium leading-4 text-white-400/70",children:"Try searching for another."})]})]})};var y=s(95478),_=s(13582),P=s(71402);let C=e=>{let{params:t,children:s}=e,{handle:l}=(0,y.u)({params:t,key:"handle"}),{profile:r}=(0,P.useProfile)(),{goBack:h}=(0,_.useAppHistory)(),[p,b]=(0,x.useState)(null),[g,v]=(0,x.useState)(!0),[w,C]=(0,x.useState)(),z=(0,x.useMemo)(()=>(null==r?void 0:r.twitter_profile.screen_name)===l,[l,r]),E=(0,x.useMemo)(()=>{var e;return null!==(e=null==w?void 0:w.profile_image_url_https.replace("_normal",""))&&void 0!==e?e:""},[w]),B=(0,x.useCallback)(()=>{j.P.logout().then(()=>{window.location.reload()})},[]);return((0,x.useEffect)(()=>{r&&z?(C(r.twitter_profile),b(r.user.badge_image_url),v(!1)):j.P.getProfileByHandle(l).then(e=>{e?(C(e.twitter_profile),b(e.badge_image_url)):(C(null),b(null))}).catch(()=>C(null)).finally(()=>v(!1))},[z,l,r]),g)?(0,a.jsxs)("div",{className:"flex size-full flex-col gap-3",children:[(0,a.jsx)(m.y,{title:"",isLoading:!0}),(0,a.jsxs)("div",{className:"mb-2 flex items-center gap-3 px-3",children:[(0,a.jsx)("div",{className:"size-24 animate-pulse rounded-full bg-gray-200"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"h-6 w-48 animate-pulse rounded bg-gray-200"}),(0,a.jsx)("div",{className:"h-4 w-32 animate-pulse rounded bg-gray-200"})]})]}),(0,a.jsx)(k,{handle:"",isSelf:z})]}):w?(0,a.jsxs)("div",{className:"flex size-full flex-col gap-3",children:[(0,a.jsx)(m.y,{title:"Profile",onGoBack:()=>h("/home","/u/".concat(w.screen_name)),endContent:z?(0,a.jsx)(i.A,{isIconOnly:!0,variant:"flat",className:"flex md:hidden mr-3",onClick:B,children:(0,a.jsx)(n.JO,{icon:"iconamoon:exit",width:16})}):void 0}),(0,a.jsx)(c.z,{name:(0,a.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,a.jsx)("h2",{className:"text-2xl font-black",children:w.name}),p&&(0,a.jsx)(f.E,{content:"Kinode user",children:(0,a.jsx)(o.J,{src:p,alt:"badge",className:"rounded-md",width:24,height:24})})]}),classNames:{base:"flex sm:flex-col mb-2 xs:mb-2 xs:flex-col md:flex-row lg:flex-row xs:gap-2 sm:gap-4 justify-start sm:px-4",wrapper:"flex xs:items-center xs:gap-1 sm:gap-1 md:gap-0.5 sm:items-center md:items-start",name:"text-2xl font-bold"},description:(0,a.jsxs)(d.O,{href:"https://twitter.com/".concat(w.screen_name),size:"sm",className:"flex items-center text-base font-normal text-white-400/50",isExternal:!0,children:["@".concat(w.screen_name),(0,a.jsx)(u.x,{})]}),avatarProps:{className:"!xs:size-14 !size-24 overflow-hidden rounded-full",src:E,alt:w.screen_name}}),(0,a.jsx)(k,{handle:l,isSelf:z}),s]}):(0,a.jsxs)("div",{className:"flex size-full flex-col gap-3",children:[(0,a.jsx)(m.y,{title:""}),(0,a.jsx)(N,{handle:l})]})}},95478:function(e,t,s){"use strict";s.d(t,{u:function(){return r}});var l=s(16189);let r=e=>{var t;let{key:s,index:r,params:a}=e,n=(0,l.usePathname)(),i=null!==(t=n&&n.split("/")[r||2])&&void 0!==t?t:"",c=a[s]||i;return{[s]:decodeURIComponent(c)}}},13582:function(e,t,s){"use strict";s.r(t),s.d(t,{AppHistoryProvider:function(){return c},useAppHistory:function(){return o}});var l=s(57348),r=s(16189),a=s(12465),n=s(15346);let i=(0,n.createContext)({}),c=e=>{let{children:t}=e,s=(0,r.usePathname)(),c=(0,r.useRouter)(),[o,d]=(0,n.useState)([]),u=(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/home",t=arguments.length>1?arguments[1]:void 0,s=e;o.length>1&&(s=o[o.length-2],void 0!==t&&s.includes(t)&&(s=e)),"string"!=typeof s&&(s="/home"),c.push(s,{scroll:!1})},[o,c]);return(0,n.useEffect)(()=>{d(e=>e[e.length-1]!==s?[...e,s]:e)},[s]),(0,l.jsxs)(i.Provider,{value:{goBack:u},children:[t,(0,l.jsx)(a.wT,{dense:!0,maxSnack:3})]})},o=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("useFeed must be used within AppHistoryProvider");return e}}},function(e){e.O(0,[7398,2221,4175,454,2872,3881,7686,1133,312,6378,9832,4461,5878,412,3108,937,7114,1744],function(){return e(e.s=30258)}),_N_E=e.O()}]);