(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3560],{79391:function(){},4660:function(e,t,s){Promise.resolve().then(s.bind(s,12297)),Promise.resolve().then(s.bind(s,44058)),Promise.resolve().then(s.bind(s,11735)),Promise.resolve().then(s.bind(s,98706))},12297:function(e,t,s){"use strict";s.d(t,{DeckPageClient:function(){return tb}});var n=s(62284),l=s(23405),i=s(59297),a=s(6064),r=s(25120),o=s(12890),c=s(99053),d=s(77606),u=s(15219),m=s(96245),x=s(20102),h=s(25845);let f=e=>{let{deckId:t,items:s,searchInterval:l,isFetching:a,isLoading:f,hasSearched:p}=e,v=(0,m.TL)(),{data:j}=(0,u.iS)(),{panels:g}=(0,x.C)(),b=(0,i.useMemo)(()=>g,[g]),w=(0,i.useMemo)(()=>null==b?void 0:b[0],[b]),y=(0,i.useMemo)(()=>null==w?void 0:w.local.isGenerating,[w]);return(0,n.jsx)(o.o,{items:y?[null,...s]:s,breakpoints:{default:3,1280:2,640:1},noResultsMessage:p?"":"No memes ".concat((0,h.qr)(l).toLowerCase()),isFetching:a,isLoading:f,hasFetched:!!s,hasSearched:p,renderItem:(e,s)=>0===s&&y?(0,n.jsx)(r.Y,{isInGrid:!0},"deck-item-".concat(s)):e?(0,n.jsx)(c.P,{post:e,deckPageId:t,imageQuality:30,priorityLoadImage:s<10,onClick:j?void 0:()=>v((0,d.it)())},"deck-item-".concat(s,"-").concat(e.id)):null})};var p=s(77781),v=s(57803),j=s(53498);let g=e=>{let{searchQuery:t,searchInterval:s,searchSortBy:l,setSearchInterval:i,setSearchSortBy:a,setSearchQuery:r}=e;return(0,n.jsxs)("div",{className:"flex px-3 pt-[9px] items-center justify-between border-t border-white-400/15 gap-2",children:[(0,n.jsx)(p.T,{isSmall:!0,value:t,autofocus:!1,placeholder:"Search by keyword",onSearch:r}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(v.m,{size:"sm",interval:s,onSelect:i}),(0,n.jsx)(j.a,{size:"sm",sortBy:l,onSelect:a})]})]})};var b=s(18521),w=s(91151),y=s(57837),N=s(72363);let k=e=>{let{deckId:t}=e,{searchQuery:s,searchQueryDebounced:l,searchInterval:r,searchSortBy:o,setSearchInterval:c,setSearchSortBy:d,setSearchQuery:u}=(0,y.K)(),{isFetching:m,isLoading:x,currentData:h}=(0,w.w)({search:l,interval:r,sort_by:o,deck_id:t,exclude_active_contest:o===N.a.Hot}),p=(0,i.useMemo)(()=>l.length>0,[l.length]),v=(0,i.useMemo)(()=>{var e;return null!==(e=null==h?void 0:h.memes)&&void 0!==e?e:[]},[null==h?void 0:h.memes]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"h-[3px]",children:m&&!x&&v.length>0&&(0,n.jsx)(a.W,{className:"w-full",size:"sm",isIndeterminate:!0,"aria-label":"Loading..."})}),(0,n.jsx)(g,{searchQuery:s,searchInterval:r,searchSortBy:o,setSearchInterval:c,setSearchSortBy:d,setSearchQuery:u}),h&&p&&(0,n.jsx)(b.d,{stats:h}),(0,n.jsx)(f,{deckId:t,items:v,searchInterval:r,isFetching:m,isLoading:x,hasSearched:p})]})};var C=s(65104),_=s(2793),S=s(7602);let z=e=>{let{title:t,count:s,onClick:i}=e;return(0,n.jsxs)("div",{className:(0,l.cn)("flex items-center gap-3 mb-2 px-4 pt-4",i&&"cursor-pointer underline-title-on-hover"),onClick:i,children:[(0,n.jsx)("h2",{className:"flex items-center justify-between text-lg font-black",children:t}),s?(0,n.jsx)(S.z,{size:"sm",variant:"flat",children:(0,n.jsx)("span",{className:"font-medium no-underline!",children:s>99?"99+":s})}):(0,n.jsx)("div",{})]})};var I=s(35850),O=s(49804);let A=e=>{let{endedContests:t}=e,s=(0,i.useMemo)(()=>t.reduce((e,t)=>{var s;let n=null===(s=t.winner)||void 0===s?void 0:s.contestant;if(n){let{id:t,handle:s,name:l,avatar:i}=n;e[s]||(e[s]={id:t,handle:s,name:l,avatar:i,winCount:0}),e[s].winCount+=1}return e},{}),[t]),l=(0,i.useMemo)(()=>Object.values(s),[s]);return 0===l.length?(0,n.jsx)("p",{className:"px-4 text-sm text-white-400/50 leading-normal line-clamp-3",children:"No winners yet"}):(0,n.jsx)("div",{className:"flex flex-col gap-1",children:l.sort((e,t)=>t.winCount-e.winCount).map(e=>(0,n.jsx)(I.default,{href:"/u/".concat(e.handle),"aria-label":"View @".concat(e.handle,"'s profile"),className:"hover:bg-white-400/10 rounded-md",children:(0,n.jsx)(O.W,{poster:e,winCount:e.winCount})},e.handle))})};var D=s(344),M=s(26649);let P=e=>{let{id:t,text:s,maxCharacters:a=100}=e,[r,o]=(0,i.useState)(!1),{beginText:c,endText:d,itCanOverflow:u}=(0,i.useMemo)(()=>{let e=a-9;if(s.length<=e)return{beginText:s,endText:"",itCanOverflow:!1};let t=e;for(;t>0&&" "!==s[t];)t--;return{beginText:s.slice(0,t).trim(),endText:s.slice(t).trim(),itCanOverflow:!0}},[s,a]),m=(0,i.useCallback)(e=>{("Space"===e.code||"Enter"===e.code)&&o(e=>!e)},[]);return(0,n.jsxs)("span",{id:t,children:[c,u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:(0,l.cn)(r?"hidden":"",u?"mr-2":""),children:"..."}),(0,n.jsx)("span",{className:(0,l.cn)(r?"mr-2":"hidden"),"aria-hidden":!r,children:" ".concat(d)}),(0,n.jsx)("span",{className:"text-violet-400 font-semibold",role:"button",tabIndex:0,"aria-expanded":r,"aria-controls":t,onKeyDown:m,onClick:()=>o(e=>!e),children:r?"Show less":"Show more"})]})]})};var T=s(37579),L=s(29530),E=s(85908),B=s(82258);let F=e=>{var t,s,l,i,a,r;let{matchingRules:o}=e,{characters:c,aesthetics:d,isLoading:u}=(0,E.Z)(),m=null!==(l=null===(t=o.characters)||void 0===t?void 0:t.map(e=>c.find(t=>t.id===e)).filter(Boolean))&&void 0!==l?l:[],x=null!==(i=null===(s=o.styles)||void 0===s?void 0:s.map(e=>d.find(t=>t.id===e)).filter(Boolean))&&void 0!==i?i:[],h=null!==(r=(null!==(a=o.keywords)&&void 0!==a?a:"").replaceAll(" ","").split(",").filter(Boolean))&&void 0!==r?r:[];return(0,n.jsxs)("div",{className:"flex flex-col gap-3 w-full px-4 mt-4",children:[(0,n.jsx)(R,{title:"Character",children:0===m.length?u?(0,n.jsx)("div",{className:"h-6 w-16 rounded-sm animate-pulse bg-white-400/10"}):(0,n.jsx)(S.z,{size:"sm",radius:"sm",className:"select-none",variant:"flat",children:"Any"}):m.map(e=>(0,n.jsx)(I.default,{href:(0,B.o4)(e.id),children:(0,n.jsx)(L.h,{character:e})},e.id))}),(0,n.jsx)(R,{title:"Keywords",children:0===h.length?(0,n.jsx)(S.z,{size:"sm",radius:"sm",className:"select-none",variant:"flat",children:"Any"}):h.map(e=>(0,n.jsx)(I.default,{href:"/trending?query=".concat(e,"&interval=week"),children:(0,n.jsx)(S.z,{size:"sm",radius:"sm",variant:"flat",children:e})},e))}),(0,n.jsx)(R,{title:"Style",children:0===x.length?(0,n.jsx)(S.z,{size:"sm",radius:"sm",className:"select-none",variant:"flat",children:"Any"}):x.map(e=>e?(0,n.jsx)(T.M,{aesthetic:e},e.id):null)})]})},R=e=>{let{title:t,children:s}=e;return(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("p",{className:"text-xs text-white-400/75 font-medium",children:t}),(0,n.jsx)("div",{className:"flex gap-1 flex-wrap",children:s})]})};var W=s(98706),V=s(78617);let U=e=>{let{endedContests:t}=e,{deckId:s,isAdminsModalOpen:a,setIsAdminsModalOpen:r,isPostersModalOpen:o,setIsPostersModalOpen:c}=(0,W.w)(),{currentData:d,isLoading:m}=(0,u.X)(s),x=(0,i.useMemo)(()=>{var e;return null!==(e=null==d?void 0:d.posters)&&void 0!==e?e:[]},[null==d?void 0:d.posters]),h=(0,i.useMemo)(()=>{var e;return null!==(e=null==d?void 0:d.admins)&&void 0!==e?e:[]},[null==d?void 0:d.admins]),f=(0,i.useMemo)(()=>null==x?void 0:x.length,[x]),p=(0,i.useMemo)(()=>null==h?void 0:h.length,[h]);return(0,n.jsx)("aside",{className:(0,l.cn)("hidden flex-1 md:block","min-w-[220px] max-w-[220px] xl:min-w-[250px] xl:max-w-[250px]"),children:(0,n.jsxs)("div",{className:(0,l.cn)("sticky right-0 top-0 bottom-0","flex flex-col gap-6 py-3"),children:[(0,n.jsxs)("section",{className:"w-full",children:[(0,n.jsx)(z,{title:"About"}),d?(0,n.jsx)("p",{className:"px-4 text-sm text-white-400/50 leading-normal",children:(0,n.jsx)(P,{id:d.id+"-description",text:d.description?d.description:"No description",maxCharacters:140})}):(0,n.jsx)("div",{className:"mx-4 animate-pulse rounded bg-white-400/10 h-[21px] w-28"}),d&&d.external_links&&d.external_links.length>0&&(0,n.jsx)("div",{className:"flex flex-col gap-2 w-full px-2 mt-4",children:d.external_links.map(e=>(0,n.jsxs)(C.O,{href:e,rel:"nofollow noreferrer",target:"_blank",isBlock:!0,showAnchorIcon:!0,color:"foreground",className:"w-full max-w-full truncate flex items-center",children:[(0,n.jsx)(_.default,{alt:"Link icon",src:(0,V.zN)(e),className:"size-4 min-w-4 opacity-75"}),(0,n.jsx)("span",{className:"flex-1 pl-2 pr-1 truncate text-sm text-white-400/75",children:(0,V.xM)(e)})]},e))})]}),(0,n.jsxs)("section",{className:"w-full",children:[(0,n.jsx)(z,{title:"Admins",count:p,onClick:()=>r(!0)}),(0,n.jsx)(M.A,{posters:h,isLoading:m,limit:5}),(0,n.jsx)(D.y,{title:"Admins",count:p,body:(0,n.jsx)(M.A,{posters:h,isLoading:m}),isOpen:a,onClose:()=>r(!1)})]}),(0,n.jsxs)("section",{className:"w-full",children:[(0,n.jsx)(z,{title:"Posters",count:f,onClick:()=>c(!0)}),(0,n.jsx)(M.A,{posters:x,isLoading:m,limit:7,isHorizontal:!0}),(0,n.jsx)(D.y,{title:"Posters",count:f,body:(0,n.jsx)(M.A,{posters:x,isLoading:m}),isOpen:o,onClose:()=>c(!1)})]}),(0,n.jsxs)("section",{className:"w-full",children:[(0,n.jsx)(z,{title:"Hall of Fame"}),(0,n.jsx)(A,{endedContests:t})]}),d&&d.matching_rules&&(0,n.jsxs)("section",{className:"w-full",children:[(0,n.jsx)(z,{title:"Rules"}),(0,n.jsx)(F,{matchingRules:d.matching_rules})]})]})})};var J=s(91475),H=s(46231),K=s(88938),Y=s(23628);let Z=e=>{var t;let{contest:s}=e;return(null===(t=s.winner)||void 0===t?void 0:t.post_url)?(0,n.jsx)("div",{className:"absolute right-3 top-3",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(_.default,{alt:"Winning meme",className:"size-[98px] rounded-xl object-cover",width:92,height:92,src:s.winner.post_url}),(0,n.jsx)("div",{className:"absolute -bottom-3 -translate-x-1/2 left-1/2",children:(0,n.jsx)(_.default,{src:Y.Z,width:32,height:32,alt:"Winning meme icon",className:"size-8"})})]})}):null};var q=s(81374),X=s(98314),G=s(68880),Q=s(33548),$=s(12967),ee=s(5522),et=s(65615),es=s(9067),en=s(15382),el=s(98335),ei=s(79083),ea=s(46686),er=s(66975),eo=s(18247);let ec=e=>{let{connected:t=!1}=e;return(0,n.jsx)(eo.a,{style:{backgroundColor:t?"hsl(var(--nextui-default) / 0.4)":"hsl(var(--nextui-primary))",borderRadius:"var(--nextui-radius-medium)",color:"hsl(var(--nextui-primary-foreground))",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"var(--nextui-font-size-small)",fontWeight:400,fontFamily:"inherit",lineHeight:"var(--nextui-line-height-small)",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:0,paddingBottom:0,height:"40px",width:"100%"}})};var ed=s(28403),eu=s(92271),em=s(78210),ex=s(15254),eh=s(44443),ef=s(47351),ep=s(48108),ev=s(380),ej=s(83494),eg=s(64702);let eb=new Date,ew=new Date(eb.getTime()+864e5),ey=new Date(eb.getTime()+2592e5),eN=ew.toISOString(),ek=ey.toISOString(),eC=(0,i.createContext)(void 0),e_=e=>{let{contestId:t,children:s}=e,l=(0,i.useMemo)(()=>t.replace("contest:",""),[t]),[a,r]=(0,i.useState)(""),[o,c]=(0,i.useState)(""),[d,m]=(0,i.useState)({start:(0,ev.Aj)(eN),end:(0,ev.Aj)(ek)}),[x,h]=(0,i.useState)(eg.eS),[f,p]=(0,i.useState)(null),[v,j]=(0,i.useState)(!1),[g]=(0,u.ns)(),[b]=(0,u.lm)(),{hasUnsavedChanges:w,queueUpdate:y}=(0,ej.K)({sendUpdate:b}),N=(0,i.useCallback)(e=>y({id:l,...e}),[l,y]),k=(0,i.useCallback)(e=>{r(e),N({title:e})},[N]),C=(0,i.useCallback)(e=>{c(e),N({description:e})},[N]),_=(0,i.useCallback)(e=>{m(e);let t=e.start.toDate(),s=e.end.toDate();N({start_time:t.toISOString(),end_time:s.toISOString()})},[N]),S=(0,i.useCallback)(e=>{h(e),N({prize:e})},[N]);return(0,i.useEffect)(()=>{g(l).then(e=>{let{data:t}=e;t&&(r(t.title),c(t.description),m({start:(0,ev.Aj)(t.start_time),end:(0,ev.Aj)(t.end_time)}),t.prize&&h(t.prize),"draft"!==t.status&&j(!0))})},[g,l]),(0,n.jsx)(eC.Provider,{value:{name:a,onChangeName:k,description:o,onChangeDescription:C,duration:d,onChangeDuration:_,prize:x,onChangePrize:S,txSignature:f,setTxSignature:p,isTxConfirmed:v,setIsTxConfirmed:j,hasUnsavedChanges:w,contestId:l},children:s})},eS=()=>{let e=(0,i.useContext)(eC);if(void 0===e)throw Error("useEditContest must be used within EditContestProvider");return e},ez=()=>{let{name:e,onChangeName:t,description:s,onChangeDescription:l,duration:i,onChangeDuration:a}=eS(),{getDateRange:r}=(0,ep.S)({timeStyle:"short"});return(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)(ex.Y,{isRequired:!0,label:"Title",size:"lg",classNames:{inputWrapper:"bg-white-400/5"},value:e,onValueChange:t}),(0,n.jsx)(eh.Y,{size:"sm",label:"Description",placeholder:"What type of memes do you want contestants to generate?",classNames:{inputWrapper:"bg-white-400/5"},value:s,onValueChange:l}),(0,n.jsxs)("div",{className:"w-full flex flex-col gap-3",children:[(0,n.jsx)(ef.o,{label:"Duration",size:"sm",hideTimeZone:!0,minValue:(0,em.zO)((0,em.iT)()),classNames:{inputWrapper:"bg-white-400/5"},value:i,onChange:e=>{e&&a(e)}}),(0,n.jsxs)("div",{className:"flex flex-col gap-2 pl-2",children:[(0,n.jsxs)("p",{className:"flex items-center gap-2 text-xs font-thin",children:[(0,n.jsx)(H.JO,{icon:"akar-icons:calendar",className:"size-5 text-white-400/50"}),(0,n.jsx)("span",{className:"font-medium text-white-400/75",children:r(i)})]}),(0,n.jsxs)("p",{className:"flex items-center gap-2 text-xs font-thin",children:[(0,n.jsx)(H.JO,{icon:"akar-icons:clock",className:"size-5 text-white-400/50"}),(0,n.jsx)("span",{className:"font-medium text-white-400/75",children:(0,em.iT)()})]})]})]})]})};var eI=s(86127),eO=s(15837),eA=s(63006),eD=s(82020),eM=s(21317);let eP=()=>{let{prize:e,onChangePrize:t,isTxConfirmed:s}=eS(),[l,a]=(0,i.useState)((0,eM._s)(e.token_amount)),r=(0,eD.w)(e.token_amount);return(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsxs)("div",{className:"w-full flex gap-2",children:[(0,n.jsx)(eI.g,{isDisabled:s,label:"Chain",size:"sm",className:"w-2/5 max-w-64 button-bg-white-400-05",value:e.chain_id.toString(),selectedKeys:[e.chain_id.toString()],onChange:e=>{let s=e.target.value.toString();if(!s)return;let n=eg.zG.find(e=>e.chain_id===Number(s));n&&t(n)},children:eg.zG.map(e=>(0,n.jsx)(eO.R,{value:e.chain_id.toString(),isDisabled:102!==e.chain_id,children:e.label},e.chain_id))}),(0,n.jsx)(eA.e,{content:"Custom token support coming soon!",children:(0,n.jsx)(ex.Y,{isReadOnly:!0,label:"Token Contract address",size:"sm",classNames:{inputWrapper:"bg-white-400/5"},value:e.token_contract_address,validate:t=>!(t.length>0)||!!(0,eg.q3)(t,e.chain_id)||"Invalid address",onValueChange:s=>{t({...e,token_contract_address:s})}})})]}),(0,n.jsxs)("div",{className:"w-full flex gap-2",children:[(0,n.jsx)(ex.Y,{isRequired:!0,isDisabled:s,label:"Token amount",size:"sm",type:"text",classNames:{inputWrapper:"bg-white-400/5"},description:r,value:l,validate:e=>!(0>Number(e))||"Invalid amount",onValueChange:s=>{a(s);let n=(0,eM.CG)(s);t({...e,token_amount:n})},onBlur:()=>{a((0,eM._s)(e.token_amount))}}),(0,n.jsx)(ex.Y,{isReadOnly:!0,label:"Ticker",placeholder:"e.g. SOL",size:"sm",className:"w-2/5 max-w-64",classNames:{inputWrapper:"bg-white-400/5",input:"p-0"},validate:e=>!(e.length>12)||"Ticker is too long",startContent:(0,n.jsx)("div",{className:"flex items-center justify-center size-5",children:(0,n.jsx)(H.JO,{icon:"mdi:dollar",className:"text-white-400/50 size-4"})}),value:e.ticker,onValueChange:s=>{t({...e,ticker:s})}})]})]})};var eT=s(44941),eL=s(76018),eE=s(68352),eB=s(27329),eF=s(71987);async function eR(e){let t=await fetch(eF.cd,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:"getBalance",jsonrpc:"2.0",id:1,params:[e]})});return(await t.json()).result.value/eB.LAMPORTS_PER_SOL}async function eW(e){let t=await fetch(eF.cd,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:"getTransaction",jsonrpc:"2.0",id:1,params:[e,{commitment:"confirmed"}]})});return(await t.json()).result}let eV=()=>{let{contestId:e,name:t,prize:s,txSignature:l,setTxSignature:a,isTxConfirmed:r,setIsTxConfirmed:o}=eS(),{connected:c,publicKey:d,wallet:u,signTransaction:m}=(0,ea.O)(),[x,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(0),v=(0,eD.w)(s.token_amount),j=(0,i.useMemo)(()=>f>=s.token_amount,[f,s.token_amount]),g=(0,i.useCallback)(async()=>{var e;let t=null==u?void 0:null===(e=u.adapter.publicKey)||void 0===e?void 0:e.toString();if(t)try{let e=await eR(t);p(e)}catch(e){}},[null==u?void 0:u.adapter.publicKey]),b=(0,i.useCallback)(async()=>{if(l)try{var e;let t=await eW(l);(null==t?void 0:null===(e=t.meta)||void 0===e?void 0:e.err)===null?o(!0):setTimeout(b,3e3)}catch(e){}},[o,l]);(0,i.useEffect)(()=>{g();let e=setInterval(g,1e4);return()=>{clearInterval(e)}},[g]);let w=(0,i.useCallback)(async()=>{if(d&&m){h(!0);try{let{tx:t,connection:n}=await (0,eg.l7)(e,s,d),l=await m(t),i=await n.sendEncodedTransaction(l.serialize().toString("base64"));a(i),(0,er.yv)("Transaction sent",{variant:"info"})}catch(e){(0,er.yv)("Error signing transaction",{variant:"error"}),a(null)}finally{h(!1)}}},[e,s,d,a,m]);return(0,i.useEffect)(()=>{l&&!r&&b()},[r,b,l]),(0,i.useEffect)(()=>{d&&(0,eg.gf)(e,s).then(e=>{o(e)})},[e,s,d,o]),(0,n.jsxs)("div",{className:"flex flex-col gap-6 items-center",children:[(0,n.jsxs)(eE.e,{className:"w-full",children:[t&&(0,n.jsx)(eL.l,{label:"Contest",content:t}),(0,n.jsx)(eL.l,{label:"Criteria",content:"Most upvotes (1 winner)"}),(0,n.jsx)(eL.l,{label:"Prize",hideBorder:!0,content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{className:"font-bold md:text-lg text-md",children:[(0,eM._s)(s.token_amount)," ",s.ticker]}),(0,n.jsx)("span",{className:"font-normal text-tiny text-white-400/40",children:v})]})})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-2 items-center w-full",children:[(0,n.jsx)(ec,{connected:c}),(0,n.jsxs)("div",{className:"flex gap-1.5 items-center text-sm",children:[(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)("span",{className:"font-semibold text-white-400/50",children:"Network:"}),(0,n.jsx)("span",{children:eg.gv})]}),(0,n.jsx)("div",{className:"text-white-400/25 text-xs",children:"•"}),(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)("span",{className:"font-semibold text-white-400/50",children:"Cluster:"}),(0,n.jsx)("span",{children:(0,eg.X6)()})]}),(0,n.jsx)("div",{className:"text-white-400/25 text-xs",children:"•"}),(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)("span",{className:"font-semibold text-white-400/50",children:"Balance:"}),(0,n.jsx)("span",{children:c?"".concat((0,eM._s)(f)," SOL"):"-"})]})]})]}),(0,n.jsx)(eU,{connected:c,txSignature:l,isSigning:x,publicKey:d,isTxConfirmed:r,hasEnoughBalance:j,signContract:w})]})},eU=e=>{let{connected:t=!1,txSignature:s=null,isSigning:l=!1,publicKey:i=null,isTxConfirmed:a=!1,hasEnoughBalance:r=!1,signContract:o}=e;if(t)return null!==s||a?null===s?(0,n.jsx)(K.A,{fullWidth:!0,variant:"bordered",color:"success",isLoading:l,startContent:(0,n.jsx)(H.JO,{icon:"tabler:check"}),children:"Signed"}):(0,n.jsx)(K.A,{as:"a",href:(0,eg.Dr)(s),target:"_blank",fullWidth:!0,variant:"bordered",color:a?"success":"primary",startContent:a?null:(0,n.jsx)(G.c,{size:"sm"}),endContent:(0,n.jsx)(eT.x,{}),children:(0,n.jsx)("span",{className:"truncate flex-1",children:s})}):(0,n.jsx)(K.A,{fullWidth:!0,variant:"solid",color:r?"primary":"warning",isLoading:l,isDisabled:!t||!i||a||!r,onClick:o,children:r?"Sign Transaction for Contest":"Insufficient Balance"})};var eJ=s(81788);let eH=()=>{let{name:e,description:t,duration:s,prize:l}=eS(),{getDateRange:i}=(0,ep.S)({timeStyle:"short"});return(0,n.jsx)(eJ.A,{name:e,description:t,duration:"".concat(i(s)," (").concat((0,em.iT)(),")"),prize:l})};var eK=s(23175),eY=s(17652),eZ=s(68619),eq=s(54681);let eX=e=>{let{contestId:t,onClickClose:s}=e;return(0,n.jsx)(eK.D,{isOpen:!!t,children:t&&(0,n.jsx)(e_,{contestId:t,children:(0,n.jsx)(eG,{contestId:t,onClickClose:s})})})},eG=e=>{let{contestId:t,onClickClose:s}=e,{name:l,prize:a,isTxConfirmed:r}=eS(),{connected:o}=(0,ea.O)(),[c]=(0,u.lm)(),d=(0,i.useCallback)(e=>0===e?0===l.length:1===e?0===a.token_amount||0===a.token_contract_address.length||!a.chain_id||0===a.ticker.length:2===e&&(!o||!r),[o,r,l.length,a.chain_id,a.ticker.length,a.token_amount,a.token_contract_address.length]),m=(0,i.useCallback)(e=>{if(0===e)return s()},[s]),x=(0,i.useCallback)(async e=>{t&&(2===e?c({id:t,status:"upcoming"})||(0,er.yv)("Error finalizing contest",{variant:"error"}):3===e&&s())},[t,s,c]);return(0,n.jsxs)(eu.H2,{stepCount:4,isNextDisabled:d,onBack:m,onNext:x,children:[(0,n.jsxs)(eu.Cj,{index:0,children:[(0,n.jsx)(eq.e,{title:"Contest Info",subtitle:"Please provide a name and duration for your contest."}),(0,n.jsx)(eY.d,{children:(0,n.jsx)(ez,{})}),(0,n.jsx)(eZ.Y,{})]}),(0,n.jsxs)(eu.Cj,{index:1,children:[(0,n.jsx)(eq.e,{title:"Prize",subtitle:"You will be asked to sign the transaction with your wallet on the next step."}),(0,n.jsx)(eY.d,{children:(0,n.jsx)(eP,{})}),(0,n.jsx)(eZ.Y,{})]}),(0,n.jsxs)(eu.Cj,{index:2,children:[(0,n.jsx)(eq.e,{title:"Sign Transaction",subtitle:"Send the prize money to the contest escrow account."}),(0,n.jsx)(eY.d,{children:(0,n.jsx)(eV,{})}),(0,n.jsx)(eZ.Y,{})]}),(0,n.jsxs)(eu.Cj,{index:3,children:[(0,n.jsx)(eq.e,{title:"Summary",subtitle:"You will be able to edit or delete the contest up until it starts."}),(0,n.jsx)(eY.d,{children:(0,n.jsx)(eH,{})}),(0,n.jsx)(eZ.Y,{})]})]})},eQ=(0,i.createContext)(void 0),e$=e=>{let{deckId:t,children:s}=e,l=(0,ed.useSearchParams)(),a=(0,i.useMemo)(()=>l.get("newContestId"),[l]),[r,{isLoading:o}]=(0,u.e5)(),[c]=(0,u.qr)(),d=(0,i.useCallback)(e=>{let t=new URL(window.location.href);t.searchParams.delete("newContestId"),t.searchParams.set("newContestId",e),window.history.pushState({},"",t.toString())},[]),m=(0,i.useCallback)(async()=>{if(t)try{let{data:e}=await c(t),s=null==e?void 0:e.find(e=>"draft"===e.status);if(s){let e=s.id.replace("contest:","");return d(e)}{let{data:e}=await r({deck_id:"deck:"+t.replace("deck:",""),prompt_hint_text:"",title:"",description:"",start_time:eN,end_time:ek});if(!e)throw Error();let s=e.id.replace("contest:","");return d(s)}}catch(e){(0,er.yv)("Failed to create new contest",{variant:"error"})}},[r,t,c,d]),x=(0,i.useCallback)(()=>{let e=new URL(window.location.href);e.searchParams.delete("newContestId"),window.history.pushState({},"",e.toString())},[]);return(0,n.jsxs)(eQ.Provider,{value:{isCreating:o,openContestModal:d,onClickThrowContest:m},children:[s,(0,n.jsx)(eX,{contestId:a,onClickClose:x})]})},e0=()=>{let e=(0,i.useContext)(eQ);if(void 0===e)throw Error("useThrowContest must be used within ThrowContestProvider");return e},e1=e=>{let{contestId:t}=e,{connected:s,wallet:l}=(0,ea.O)(),{openContestModal:a}=e0(),[r,{isLoading:o}]=(0,u.k8)(),[c,d]=(0,i.useState)(!1),m=(0,i.useCallback)(async()=>{var e;let s=null==l?void 0:null===(e=l.adapter.publicKey)||void 0===e?void 0:e.toString();if(!s){(0,er.yv)("Please connect your wallet",{variant:"error"});return}try{await r({contest_id:t,refund_address:s})}catch(e){(0,er.yv)("Failed to delete contest",{variant:"error"})}},[t,r,null==l?void 0:l.adapter.publicKey]),x=(0,i.useCallback)(()=>{a(t)},[t,a]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(q.F,{"aria-label":"Edit Contest",classNames:{content:"min-w-0 w-auto"},children:[(0,n.jsx)(X.S,{children:o?(0,n.jsx)("div",{className:"flex items-center justify-center size-8",children:(0,n.jsx)(G.c,{size:"sm"})}):(0,n.jsx)(K.A,{variant:"light",isIconOnly:!0,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,n.jsx)(H.JO,{className:"size-5",icon:"tabler:dots"})})}),(0,n.jsx)(Q.a,{className:"min-w-32",children:(0,n.jsxs)($.d,{title:"Contest Actions",children:[(0,n.jsx)(ee.W,{"aria-label":"Edit",textValue:"Edit",startContent:(0,n.jsx)(H.JO,{className:"size-5",icon:"mdi:edit"}),onClick:x,children:"Edit"}),(0,n.jsx)(ee.W,{"aria-label":"Abort",textValue:"Abort",color:"danger",startContent:(0,n.jsx)(H.JO,{className:"size-5",icon:"material-symbols:stop"}),onClick:()=>d(!0),children:"Abort"})]})})]}),(0,n.jsx)(et.R,{isOpen:c,onClose:()=>d(!1),children:(0,n.jsxs)(es.A,{children:[(0,n.jsx)(en.k,{children:(0,n.jsx)("h3",{children:"Abort contest"})}),(0,n.jsxs)(el.I,{className:"pb-6",children:[(0,n.jsx)("p",{className:"text-white-400/75 text-sm",children:"To abort the contest you must connect a refund wallet address for the contest prize to be refunded to."}),(0,n.jsx)(ec,{connected:s})]}),(0,n.jsxs)(ei.R,{children:[(0,n.jsx)(K.A,{size:"sm",onClick:()=>d(!1),children:"Cancel"}),(0,n.jsx)(K.A,{size:"sm",color:"danger",isDisabled:!s,onClick:s?()=>m():void 0,children:"Abort"})]})]})})]})};var e2=s(91250);let e4=e=>{let{contest:t,allowEdit:s}=e,{isAdmin:l,isApplying:i,isUpcoming:a,isActive:r,isEnded:o,hasWinner:c,onClickApply:d}=(0,e2.Y)(t);return l&&s&&a?(0,n.jsx)(e1,{contestId:t.id}):a?(0,n.jsx)(K.A,{size:"sm",radius:"full",variant:"faded",color:"default",isDisabled:!0,children:"Upcoming"}):r?(0,n.jsx)(K.A,{size:"sm",color:"secondary",radius:"full",className:"bg-violet-500 min-w-16",endContent:(0,n.jsx)(H.JO,{icon:"mdi:arrow-right",className:"text-white-400"}),isDisabled:i,onClick:d,children:(0,n.jsx)("h4",{className:"text-xs",children:"Studio"})}):o&&c?(0,n.jsx)(Z,{contest:t}):o?(0,n.jsx)(K.A,{size:"sm",radius:"full",color:"default",isDisabled:!0,children:"Ended"}):(0,n.jsx)("div",{})};var e5=s(69734),e3=s(91098),e6=s(14464),e8=s(12010),e7=s(36991),e9=s(42773);let te=e=>{let{contest:t}=e;(0,e8.h)({contest:t,refreshPageWhenFinished:!0});let{goBack:s}=(0,e7.h)(),{isActive:i,onClickOpenContestInfo:a}=(0,e2.Y)(t);return(0,n.jsxs)("div",{className:(0,l.cn)("h-16 w-full min-w-0 mb-3 truncate pr-3","flex items-center justify-between","border-b",i?"border-violet-500 bg-violet-900/25":"border-white-400/15"),children:[(0,n.jsxs)("div",{className:"flex items-center flex-1 truncate",children:[(0,n.jsx)(e6.O,{src:e9.Z,alt:"Back",onClick:s}),(0,n.jsxs)(C.O,{isBlock:!0,color:i?"secondary":"foreground",className:(0,l.cn)("flex flex-col items-start px-2","truncate","cursor-pointer"),onClick:a,children:[(0,n.jsx)("h3",{className:(0,l.cn)("flex-1 text-base font-extrabold truncate"),children:(0,n.jsx)("span",{className:"flex items-center text-white-400 truncate",children:t.title.length>0?t.title:"Untitled contest"})}),(0,n.jsxs)("div",{className:"flex gap-1 items-center max-w-full truncate",children:[t.prize&&(0,n.jsx)(e5.E,{prize:t.prize,hideIcon:!0}),i&&(0,n.jsxs)("span",{className:"hidden sm:flex items-center gap-1",children:[(0,n.jsx)("div",{className:"text-white-400/50 text-[10px] leading-4",children:"•"}),(0,n.jsx)(e3.I,{contest:t,hideIcon:!0})]}),(0,n.jsx)("div",{className:"text-white-400/50 text-[10px] leading-4",children:"•"}),(0,n.jsx)(J.N,{contest:t,hideIcon:!0})]})]})]}),(0,n.jsx)(e4,{allowEdit:!0,contest:t})]})};var tt=s(8836),ts=s(27217);let tn=()=>{let{deckId:e,setIsAdminsModalOpen:t}=(0,W.w)(),{currentData:s}=(0,u.X)(e);return s?(0,n.jsx)("div",{className:"md:hidden flex items-center flex-1 px-3",children:(0,n.jsx)(ts._,{isBordered:!0,max:3,total:s.admins.length,renderCount:e=>{let t=e-3;return(0,n.jsx)("p",{className:"text-small text-foreground font-medium ms-2 truncate",children:t>0?"+".concat(t," ").concat((0,h._6)(t,"admin","admins")):"".concat(e," ").concat((0,h._6)(e,"admin","admins"))})},className:"hover:underline cursor-pointer",onClick:()=>t(!0),children:s.admins.map(e=>(0,n.jsx)(tt.h,{src:e.avatar},e.id))})}):null};var tl=s(92449),ti=s(8059),ta=s(12972);let tr=e=>{let{text:t,deck:s,contest:l}=e,a=(0,i.useMemo)(()=>(0,B.o4)(s.id),[s.id]),r=(0,i.useMemo)(()=>l?(0,B.CU)(l):null,[l]),o=(0,i.useCallback)(()=>{let e=encodeURIComponent("".concat((0,eF.L)()).concat(a));window.open("https://x.com/intent/tweet?text=".concat(e),"_blank")},[a]),c=(0,i.useCallback)(()=>{navigator.clipboard.writeText("".concat((0,eF.L)()).concat(a)),(0,er.yv)("Link copied to clipboard",{variant:"success",autoHideDuration:1500})},[a]),d=(0,i.useCallback)(()=>{r&&(navigator.clipboard.writeText("".concat((0,eF.L)()).concat(r)),(0,er.yv)("Link copied to clipboard",{variant:"success",autoHideDuration:1500}))},[r]);return(0,n.jsxs)(q.F,{"aria-label":"Share actions",children:[(0,n.jsx)(X.S,{children:(0,n.jsxs)(K.A,{isIconOnly:!t,variant:"bordered",children:[(0,n.jsx)(H.JO,{icon:"mdi:share",className:"size-5"}),t]})}),(0,n.jsx)(Q.a,{children:(0,n.jsxs)($.d,{title:"Share",children:[(0,n.jsx)(ee.W,{startContent:(0,n.jsx)(_.default,{src:ta.Z,alt:"X",className:"w-4"}),onClick:o,children:"Post on Twitter"}),(0,n.jsx)(ee.W,{startContent:(0,n.jsx)(H.JO,{icon:"mdi:content-copy",className:"size-4"}),onClick:c,children:"Copy Deck URL"}),(0,n.jsx)(ee.W,{startContent:(0,n.jsx)(H.JO,{icon:"mdi:content-copy",className:"size-4"}),isDisabled:!r,onClick:d,children:"Copy Contest URL"})]})},"share-deck-".concat(s.id))]})};var to=s(93684);let tc=()=>{let{isCreating:e,onClickThrowContest:t}=e0();return(0,n.jsx)(K.A,{variant:"bordered",startContent:e?null:(0,n.jsx)(H.JO,{icon:"bxs:party",className:"size-5 text-violet-300"}),isLoading:e,className:"bg-violet-50/5",onClick:t,children:(0,n.jsx)("h4",{className:"text-violet-400",children:"Throw Contest"})})},td=e=>{let{contest:t}=e,s=(0,tl.useRouter)(),l=(0,m.TL)(),{data:i}=(0,u.iS)(),{deckId:a}=(0,W.w)(),{currentData:r}=(0,u.X)(a);return r?(0,n.jsx)("div",{className:"flex justify-end gap-2 flex-1",children:r.is_admin?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(to.g,{deckId:r.id,size:"md",variant:"bordered",onDelete:()=>s.push("/trending")}),(0,n.jsx)(tr,{deck:r,contest:t,text:t?(0,n.jsx)("h4",{children:"Share"}):void 0}),!t&&(0,n.jsx)(tc,{})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tr,{deck:r,contest:t}),(0,n.jsx)(ti.g,{deck:r,onClickOverride:i?void 0:()=>l((0,d.it)())})]})}):null},tu=()=>{var e,t,s,l;let{deckId:i}=(0,W.w)(),{currentData:a}=(0,u.X)(i);return a?(0,n.jsxs)("div",{className:"flex gap-3 text-sm md:text-base",children:[(0,n.jsxs)("p",{className:"flex gap-1.5",children:[(0,n.jsx)("span",{className:"font-bold",children:(0,eM.CZ)(null!==(e=a.total_posted)&&void 0!==e?e:0)}),(0,n.jsx)("span",{className:"text-white-400/75",children:(0,h._6)(null!==(t=a.total_posted)&&void 0!==t?t:0,"meme","memes")})]}),(0,n.jsxs)("p",{className:"flex gap-1.5",children:[(0,n.jsx)("span",{className:"font-bold",children:(0,eM.CZ)(null!==(s=a.follower_count)&&void 0!==s?s:0)}),(0,n.jsx)("span",{className:"text-white-400/75",children:"".concat((0,h._6)(null!==(l=a.follower_count)&&void 0!==l?l:0,"follower","followers"))})]})]}):null};var tm=s(55578);let tx=e=>{var t;let{contest:s}=e,{deckId:i}=(0,W.w)(),{currentData:a,isLoading:r}=(0,u.X)(i),{isActive:o,onClickOpenContestInfo:c}=(0,e2.Y)(s);return!a&&r?(0,n.jsxs)("div",{className:"flex flex-col gap-3 pt-1 pb-3 px-3",children:[(0,n.jsx)("div",{className:"animate-pulse rounded-xl bg-white-400/10 size-24 sm:size-28"}),(0,n.jsxs)("header",{className:"w-full flex flex-col gap-1",children:[(0,n.jsx)("div",{className:"animate-pulse rounded bg-white-400/10 h-9 xl:h-10 w-40"}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("div",{className:"animate-pulse rounded bg-white-400/10 h-6 w-28"}),(0,n.jsx)("div",{className:"animate-pulse rounded bg-white-400/10 h-6 w-28"})]})]})]}):a?(0,n.jsxs)("div",{className:"flex flex-col gap-3 pt-1 pb-3",children:[(0,n.jsxs)("div",{className:"flex gap-3 items-end justify-between px-3",children:[(0,n.jsx)("div",{className:"relative !size-24 min-w-24 sm:!size-28 sm:min-w-28 rounded-xl overflow-hidden",children:(0,n.jsx)(tm.B,{staticBorderColor:o?"violet-500":"transparent",hideTrail:!o,children:(0,n.jsx)(tt.h,{classNames:{base:(0,l.cn)("!size-full !rounded-[14px]","object-cover object-center shadow-lg select-none bg-white-400/10 border-1",o?"border-violet-500":"border-white-400/10",o?"cursor-pointer":"cursor-default")},alt:a.title,src:null!==(t=a.cover_photo)&&void 0!==t?t:"",onClick:o?c:void 0})})}),(0,n.jsx)("span",{className:"flex xl:hidden",children:(0,n.jsx)(td,{contest:s})})]}),(0,n.jsx)("header",{className:"w-full flex flex-col",children:(0,n.jsxs)("div",{className:"flex flex-1 flex-col gap-3",children:[(0,n.jsxs)("section",{className:"flex flex-col gap-1 px-3",children:[(0,n.jsxs)("div",{className:"w-full flex gap-3 justify-between xl:items-center",children:[(0,n.jsxs)("h1",{className:"flex gap-3 items-center truncate text-2xl md:text-3xl",children:[(0,n.jsx)("span",{className:"text-white-400 font-bold truncate",children:a.title?a.title:"Untitled"}),a.rank&&(0,n.jsxs)("span",{className:"text-white-400/70 font-bold",children:["#",a.rank]})]}),(0,n.jsx)("span",{className:"hidden xl:flex",children:(0,n.jsx)(td,{contest:s})})]}),(0,n.jsx)(tu,{})]}),(0,n.jsx)(tn,{}),(0,n.jsx)("p",{className:"md:hidden text-sm text-white-400/60 leading-normal px-3",children:(0,n.jsx)(P,{id:a.id+"-description",text:a.description?a.description:"No description",maxCharacters:140})})]})})]}):(0,n.jsxs)("div",{className:"flex flex-col gap-4 pt-1 pb-3 px-3",children:[(0,n.jsx)("div",{className:"rounded-xl size-28 bg-white-400/5 shadow-lg"}),(0,n.jsx)("header",{className:"w-full flex flex-col gap-3",children:(0,n.jsx)("h1",{className:"flex gap-3 items-end text-2xl md:text-3xl",children:(0,n.jsx)("span",{className:"text-white-400 font-bold",children:"Deck not found"})})})]})};var th=s(32420),tf=s(60719),tp=s(76967),tv=s(85248),tj=s(20520),tg=s(94548);let tb=e=>{var t;let{params:s}=e,{deckId:a}=(0,tg.d)({params:s,key:"deckId",index:2}),r=(0,i.useMemo)(()=>a.replace("deck:",""),[a]),o=(0,m.TL)(),c=(0,m.CG)(d.lf),{data:x}=(0,u.iS)(),{currentData:h}=(0,u.X)(r),{currentData:f}=(0,u.TJ)(r),p=(0,tj.Z)()(r,f),{isActive:v}=(0,e2.Y)(p),{goBack:j}=(0,e7.h)(),g=(0,i.useMemo)(()=>{var e;return null!==(e=null==f?void 0:f.filter(e=>"ended"===e.status))&&void 0!==e?e:[]},[f]);return(0,n.jsx)("div",{className:"relative z-1 flex size-full flex-col gap-3",children:(0,n.jsxs)("div",{className:"flex size-full gap-3",children:[(0,n.jsx)("main",{className:(0,l.cn)("relative","min-h-full flex-1 pb-3 min-w-0","border-white-400/15 sm:border-x xs:border-0"),children:(0,n.jsxs)(e$,{deckId:r,children:[p?(0,n.jsx)(te,{contest:p}):(0,n.jsx)(th.y,{title:"Deck",onGoBack:j,endContent:(null==h?void 0:h.is_admin)&&(0,n.jsx)(tf.m,{className:"mr-3"})}),(0,n.jsx)(tx,{contest:p}),x?(0,n.jsx)(tv.MiniStudio,{deckId:r,contest:p,rules:null!==(t=null==h?void 0:h.matching_rules)&&void 0!==t?t:void 0,children:(0,n.jsx)(k,{deckId:r})},null==p?void 0:p.id):(0,n.jsx)(k,{deckId:r}),c&&(0,n.jsx)(tp.c,{isOpen:c,onClose:()=>o((0,d.Rs)())})]})}),(0,n.jsx)(U,{endedContests:g})]})})}},12890:function(e,t,s){"use strict";s.d(t,{o:function(){return o}});var n=s(62284),l=s(68880),i=s(44593),a=s(91151);let r={default:3,1100:3,700:2,500:1},o=e=>{let{items:t,isLoading:s,isFetching:o,hasFetched:c,hasSearched:d,noResultsMessage:u="No memes",className:m="relative overflow-hidden pl-3 pt-3",breakpoints:x=r,renderItem:h}=e;return(0,n.jsxs)("div",{className:m,children:[!o&&0===t.length&&(c||d)?(0,n.jsx)("div",{className:"text-sm text-white-400/50",children:u}):null,s?(0,n.jsx)("div",{className:"flex w-full justify-center p-3",children:(0,n.jsx)(l.c,{})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{breakpointCols:x,className:"my-masonry-grid min-w-full max-w-full",columnClassName:"my-masonry-grid_column",children:t.map(h)}),o&&t.length>=a.I&&(0,n.jsx)("div",{className:"flex w-full justify-center p-3",children:(0,n.jsx)(l.c,{})})]})]})}},18521:function(e,t,s){"use strict";s.d(t,{d:function(){return a}});var n=s(62284),l=s(21317),i=s(25845);let a=e=>{let{stats:t}=e;return(0,n.jsxs)("span",{className:"px-3 text-white-400/50 text-tiny",children:[(0,l.CZ)(t.total_memes)," ",(0,i._6)(t.total_memes,"meme","memes"),t.time_ms&&" in ".concat(t.time_ms,"ms")]})}},55578:function(e,t,s){"use strict";s.d(t,{B:function(){return i}});var n=s(62284),l=s(23405);let i=e=>{let{bg:t="bg-black-400",trailColor:s="#8B5CF6",trailWidth:i=500,staticBorderColor:a,rounded:r="rounded-2xl",hideTrail:o=!1,children:c,onClick:d}=e;return(0,n.jsxs)(n.Fragment,{children:[o?null:(0,n.jsx)("div",{className:(0,l.cn)("size-full box-border","absolute inset-0","border-2 border-transparent",r),children:(0,n.jsx)("div",{className:"trail",style:{width:i,"--trail-color":s}})}),(0,n.jsx)("div",{className:(0,l.cn)("size-full min-h-full box-border z-10","overflow-hidden","border-2 border-transparent",r,null!=a?a:""),onClick:d,children:(0,n.jsx)("div",{className:(0,l.cn)("size-full flex flex-col gap-1",t,r),children:c})})]})}},60521:function(e,t,s){"use strict";s.d(t,{s:function(){return o}});var n=s(62284),l=s(23405),i=s(55578),a=s(12010);function r(e){return e.toString().padStart(2,"0")}let o=e=>{let{contest:t,startContent:s,flex:o="flex",h:d="h-full",w:u="w-auto",p:m="px-2 sm:px-3 md:px-4",bg:x="bg-black-300",rounded:h="rounded-2xl",hideTrail:f=!1}=e,{timeLeft:p}=(0,a.h)({contest:t}),{days:v,hours:j,minutes:g,seconds:b}=p;return"ended"===t.status?null:(0,n.jsx)("div",{className:(0,l.cn)("relative overflow-hidden","flex items-center justify-center h-full",x,h,"h-full","min-h-full"),children:(0,n.jsx)(i.B,{staticBorderColor:f?"border-transparent":"border-white-400/10",trailWidth:220,trailColor:"active"===t.status?"#8B5CF6":"#006FEE",rounded:h,hideTrail:f,bg:x,children:(0,n.jsxs)("div",{className:(0,l.cn)("size-full items-center justify-between",o,s?"justify-between":"justify-center",m,d,u),children:[s,(0,n.jsxs)("div",{className:"flex-1 flex items-center justify-center gap-3",children:[(0,n.jsx)(c,{number:r(v),label:"day"}),(0,n.jsx)(c,{number:r(j),label:"hour"}),(0,n.jsx)(c,{number:r(g),label:"min"}),(0,n.jsx)(c,{number:r(b),label:"sec"})]})]})})})},c=e=>{let{number:t,label:s}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center gap-0.5 text-center min-w-5",children:[(0,n.jsx)("p",{className:(0,l.cn)("w-6 text-center","font-semibold leading-5 md:leading-6 tracking-wide text-sm md:text-base","text-white-400 bg-black-400 rounded-md"),children:t}),(0,n.jsx)("p",{className:"text-white-400/60 font-normal leading-3 uppercase text-[10px] tracking-tight",children:(0,n.jsx)("span",{children:s})})]})}},91098:function(e,t,s){"use strict";s.d(t,{I:function(){return o}});var n=s(62284),l=s(46231),i=s(23405),a=s(21317),r=s(25845);let o=e=>{var t;let{contest:s,textSize:o="text-[12px] leading-4",textColor:c="text-white-400/75",iconSize:d="size-4 min-w-4",iconColor:u="text-white-400/75",hideIcon:m=!1}=e,x="draft"===s.status,h="upcoming"===s.status;return x||h?null:(0,n.jsxs)("div",{className:"flex items-center gap-1 truncate",children:[!m&&(0,n.jsx)(l.JO,{icon:"basil:send-solid",className:(0,i.cn)(d,u)}),(0,n.jsxs)("div",{className:(0,i.cn)("flex gap-1 text-left truncate",o,c),children:[(0,n.jsx)("span",{children:(0,a.CZ)(null!==(t=s.entry_count)&&void 0!==t?t:0)}),(0,n.jsx)("span",{className:"truncate",children:(0,r._6)(s.entry_count,"submission","submissions")})]})]})}},81788:function(e,t,s){"use strict";s.d(t,{A:function(){return o}});var n=s(62284),l=s(76018),i=s(68352),a=s(82020),r=s(21317);let o=e=>{var t;let{name:s,description:o,duration:c,prize:d}=e,u=(0,a.w)(null!==(t=null==d?void 0:d.token_amount)&&void 0!==t?t:0);return(0,n.jsxs)("div",{className:"flex flex-col gap-3 min-h-0",children:[(0,n.jsx)(i.e,{children:(0,n.jsxs)(n.Fragment,{children:[s&&(0,n.jsx)(l.l,{label:"Title",content:s}),o&&(0,n.jsx)(l.l,{label:"Description",content:o}),(0,n.jsx)(l.l,{label:"Duration",content:c,hideBorder:!0})]})}),(0,n.jsx)(i.e,{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.l,{label:"Criteria",content:"Most upvotes"}),(0,n.jsx)(l.l,{label:"Winners",content:"1",hideBorder:!0})]})}),d&&(0,n.jsx)(i.e,{children:(0,n.jsx)(l.l,{label:"Prize",hideBorder:!0,content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{className:"font-bold md:text-lg text-md",children:[(0,r._s)(d.token_amount)," ",d.ticker]}),(0,n.jsx)("span",{className:"font-normal text-tiny text-white-400/40",children:u})]})})})]})}},76018:function(e,t,s){"use strict";s.d(t,{l:function(){return i}});var n=s(62284),l=s(23405);let i=e=>{let{label:t,content:s,p:i="p-3",hideBorder:a=!1}=e;return(0,n.jsxs)("div",{className:(0,l.cn)(i,"w-full h-auto min-h-12","flex items-center",a?"":"border-b border-b-white-400/5"),children:[(0,n.jsx)("div",{className:"flex-[2] text-white-400/50 text-sm font-medium",children:t}),(0,n.jsx)("div",{className:"flex-[3] text-white-400 text-sm",children:s})]})}},68352:function(e,t,s){"use strict";s.d(t,{e:function(){return i}});var n=s(62284),l=s(23405);let i=e=>{let{className:t,children:s}=e;return(0,n.jsx)("div",{className:(0,l.cn)("rounded-lg bg-white-400/5 border border-white-400/5",t),children:s})}},23175:function(e,t,s){"use strict";s.d(t,{D:function(){return a}});var n=s(62284),l=s(65615),i=s(9067);let a=e=>{let{isOpen:t,children:s,onClickClose:a}=e;return(0,n.jsx)(l.R,{size:"lg",classNames:{base:"overflow-hidden",header:"px-4 sm:px-6",body:"px-4 sm:px-6 min-h-96 max-h-96 overflow-hidden",footer:"px-4 sm:px-6"},hideCloseButton:!0,shouldCloseOnInteractOutside:e=>!e.classList.contains("wallet-adapter-modal-container"),isOpen:t,onClose:a,onOpenChange:a,children:(0,n.jsx)(i.A,{children:s})})}},17652:function(e,t,s){"use strict";s.d(t,{d:function(){return d}});var n=s(62284),l=s(98335),i=s(77618),a=s(64392),r=s(59297),o=s(92271);let c={enter:e=>({x:e>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:e=>({x:e<0?1e3:-1e3,opacity:0})},d=e=>{let{children:t}=e,{index:s}=(0,o.vT)(),[d,u]=(0,r.useState)(s),m=(0,r.useMemo)(()=>s>d?1:-1,[s,d]);return(0,r.useEffect)(()=>{u(s)},[s]),(0,n.jsx)(i.E.div,{className:"min-h-96",transition:{type:"spring",stiffness:300,damping:0},children:(0,n.jsx)(a.M,{initial:!1,custom:m,children:(0,n.jsx)(i.E.div,{custom:m,variants:c,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"absolute size-full",children:(0,n.jsx)(l.I,{children:t})},s)})})}},68619:function(e,t,s){"use strict";s.d(t,{Y:function(){return o}});var n=s(62284),l=s(79083),i=s(88938),a=s(59297),r=s(92271);let o=()=>{let{index:e,stepCount:t,isBackDisabled:s,isNextDisabled:o,goBack:c,goForward:d}=(0,r.vT)(),u=(0,a.useMemo)(()=>0===e,[e]),m=(0,a.useMemo)(()=>e===t-1,[e,t]),x=(0,a.useMemo)(()=>u?"Cancel":"Back",[u]),h=(0,a.useMemo)(()=>m?"Finish":"Next",[m]);return(0,n.jsx)(l.R,{children:(0,n.jsxs)("div",{className:"w-full flex items-center justify-end gap-3",children:[(0,n.jsx)(i.A,{type:"button",variant:"flat",isDisabled:s,onClick:c,children:x}),(0,n.jsx)(i.A,{type:"button",variant:"solid",color:"primary",isDisabled:o,onClick:d,children:h})]})})}},54681:function(e,t,s){"use strict";s.d(t,{e:function(){return o}});var n=s(62284),l=s(15382),i=s(92271);let a=e=>{let{text:t=""}=e;return(0,n.jsx)("h3",{className:"font-bold text-lg",children:t})},r=e=>{let{text:t=""}=e;return(0,n.jsx)("p",{className:"font-normal text-xs text-white-400/50",children:t})},o=e=>{let{title:t="",subtitle:s=""}=e,{index:o,stepCount:c}=(0,i.vT)();return(0,n.jsxs)(l.k,{className:"pt-6 flex flex-col gap-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(a,{text:t}),(0,n.jsxs)("div",{className:"text-white-400/25 text-sm leading-7 font-normal tracking-widest",children:[o+1,"/",c]})]}),(0,n.jsx)(r,{text:s})]})}},32420:function(e,t,s){"use strict";s.d(t,{y:function(){return o}});var n=s(62284),l=s(23405),i=s(14464),a=s(36991),r=s(42773);let o=e=>{let{title:t,subtitle:s,border:o="border-b border-transparent",isLoading:c=!1,endContent:d,onGoBack:u}=e,{goBack:m}=(0,a.h)();return(0,n.jsxs)("div",{className:(0,l.cn)("flex h-16 mb-3 w-full items-center",o),children:[(0,n.jsx)(i.O,{src:r.Z,alt:"Back",onClick:null!=u?u:m}),c?(0,n.jsx)("h1",{className:"h-6 w-24 animate-pulse rounded bg-white-400/10"}):(0,n.jsxs)("div",{className:"flex flex-col flex-1 truncate",children:[(0,n.jsx)("h1",{className:"flex-1 text-left text-lg font-bold truncate",children:t}),s]}),d]})}},49804:function(e,t,s){"use strict";s.d(t,{W:function(){return c},y:function(){return d}});var n=s(62284),l=s(46231),i=s(23405),a=s(63006),r=s(2793),o=s(76971);let c=e=>{let{poster:t,winCount:s=0,p:c="px-4 py-2"}=e;return(0,n.jsxs)("div",{className:(0,i.cn)("flex items-center gap-3 text-sm select-none",c),children:[(0,n.jsx)("div",{className:(0,i.cn)("relative size-8 rounded-full",s>0?"bg-yellow-400":"bg-black-400"),children:(0,n.jsx)(r.default,{className:"rounded-full",src:t.avatar,alt:"@".concat(t.handle),width:40,height:40})}),(0,n.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center gap-1 truncate",children:[(0,n.jsx)(o.a,{poster:t,children:(0,n.jsx)("div",{className:"max-w-48 truncate text-md font-semibold leading-tight hover:underline",children:t.name})}),(0,n.jsx)("div",{className:"flex items-center",children:Array.from({length:s}).map((e,t)=>(0,n.jsx)(l.JO,{icon:"mdi:star",className:"-mt-0.5 text-yellow-400 size-4 shadow-small"},t))}),t.badge_image_url&&(0,n.jsx)(a.e,{content:"Kinode user",children:(0,n.jsx)(r.default,{src:t.badge_image_url,alt:"Kinode badge",className:"rounded-sm",width:14,height:14})})]}),(0,n.jsxs)("div",{className:"text-white-400/50 text-sm",children:["@",t.handle]})]})]})},d=()=>(0,n.jsxs)("div",{className:"flex items-center gap-3 text-sm select-none px-4 py-2 w-full",children:[(0,n.jsx)("div",{className:"bg-white-400/10 size-8 rounded-full"}),(0,n.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,n.jsx)("div",{className:"bg-white-400/10 w-24 h-[18px] rounded-md"}),(0,n.jsx)("div",{className:"bg-white-400/5 w-20 h-[20px] rounded-md"})]})]})},95279:function(e,t,s){"use strict";s.d(t,{d:function(){return m}});var n=s(62284),l=s(46231),i=s(12863),a=s(23405),r=s(88938),o=s(15837),c=s(59297),d=s(35976),u=s(15219);let m=e=>{var t;let{aestheticId:s,onSelect:m,hideDescription:x=!1,isMobile:h=!1,isSmall:f=!1,isDisabled:p=!1}=e,v=(0,u.iS)(),j=(0,c.useMemo)(()=>{var e;return null===(e=v.currentData)||void 0===e?void 0:e.studio_config},[null===(t=v.currentData)||void 0===t?void 0:t.studio_config]),g=(0,c.useMemo)(()=>j?j.aesthetics.find(e=>e.id===s):null,[s,j]),b=(0,c.useMemo)(()=>{var e;return x?null:null!==(e=null==g?void 0:g.description)&&void 0!==e?e:"Applies a style to the prompt"},[x,null==g?void 0:g.description]),[w,y]=(0,c.useState)(!1),[N,k]=(0,c.useState)("No style");(0,d.y)({locked:w});let C=(0,c.useCallback)(e=>{if(e||m(null),!j)return;let t=j.aesthetics.find(t=>t.id===e);m(null!=t?t:null)},[j,m]);return j?(0,n.jsx)(i.d,{"aria-label":"Aesthetic",label:f?null:"Style",placeholder:N,description:b,classNames:{base:f?"flex-1":"w-full",popoverContent:(0,a.cn)("absolute transform xs:left-1/2 xs:-translate-x-1/2","bg-[#0F0F0F] border-1 border-black-100 min-w-72 sm:min-w-[340px]"),listboxWrapper:"min-h-80 sm:min-h-[400px]"},inputProps:{classNames:{input:f?"!text-xs truncate":"",inputWrapper:f?"bg-black-300":"",description:"truncate"}},selectedKey:s,size:f?"sm":"md",radius:f?"full":"md",onFocus:e=>{h&&e.preventDefault()},onOpenChange:e=>{y(e),e?k("Type to filter"):k("No style")},className:"z-0",isClearable:!1,isDisabled:p,endContent:g&&!p?(0,n.jsx)(r.A,{size:"sm",isIconOnly:!0,variant:"flat",className:f?"bg-black-300":"",onClick:()=>C(null),children:(0,n.jsx)(l.JO,{icon:"material-symbols-light:close",className:"size-4 text-white-400"})}):null,onSelectionChange:C,children:j.aesthetics.map(e=>(0,n.jsx)(o.R,{"aria-label":e.name,textValue:e.name,className:"flex flex-column justify-center gap-2",children:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-base font-semibold truncate",children:e.name}),(0,n.jsx)("span",{className:"text-xs text-white-400/50 truncate",children:e.description})]})},e.id))}):null}},25854:function(e,t,s){"use strict";s.d(t,{z:function(){return h}});var n=s(62284),l=s(46231),i=s(86127),a=s(88938),r=s(8836),o=s(15837),c=s(23405),d=s(59297),u=s(35976),m=s(85908);let x=e=>{let t="",s=[];for(let n of e)n.grouping!==t&&(s.push({id:Math.random().toString(),grouping:n.grouping,isDivider:!0}),t=n.grouping),s.push(n);return s},h=e=>{let{characterId:t,onSelect:s,isMiniStudio:h,showClearButton:f=!0,isDisabled:p=!1}=e,{characters:v}=(0,m.Z)(),[j,g]=(0,d.useState)(!1);(0,u.y)({locked:j});let b=(0,d.useMemo)(()=>v.reduce((e,t)=>{let s=t.grouping;return e[s]||(e[s]=0),e[s]++,e},{}),[v]),w=(0,d.useMemo)(()=>x(v.slice().filter(e=>e.enabled).filter(Boolean).sort((e,t)=>"normal"===e.id?1:"normal"===t.id?-1:0).map(e=>{var s;return{...e,avatar:null!==(s=e.thumbnail)&&void 0!==s?s:"",isSelected:t===e.id,isDivider:!1}}).sort((e,t)=>{let s=e.grouping.toUpperCase(),n=t.grouping.toUpperCase();return"ELECTION"===s||s<n?-1:s>n?1:0})),[v,t]),y=(0,d.useCallback)(e=>{let t=v.find(t=>t.id===e);t&&s(t)},[v,s]),N=(0,d.useMemo)(()=>[t.replace("ai_character:","")].filter(Boolean),[t]);return(0,n.jsx)(i.g,{items:w,isOpen:j,onOpenChange:g,placeholder:"Select a character","aria-label":"Character",disabled:p,classNames:{base:h?"flex-1":"w-full",trigger:h?"min-h-0 h-8 px-1 bg-black-300":"h-[80px]",popoverContent:"bg-[#0F0F0F] border-1 border-black-100 min-w-72 sm:min-w-[340px]",listbox:"h-fit selector-list-box",listboxWrapper:"min-h-80 sm:min-h-[400px]"},radius:h?"full":"md",isDisabled:p,defaultSelectedKeys:["pepe"],selectedKeys:N,onChange:e=>y(e.target.value),endContent:t&&f&&(0,n.jsx)(a.A,{size:"sm",isIconOnly:!0,variant:"flat",onClick:()=>s(null),children:(0,n.jsx)(l.JO,{icon:"material-symbols-light:close",className:"size-4 text-white-400"})}),renderValue:e=>e.map(e=>{var t,s,l,i,a;return(null===(t=e.data)||void 0===t?void 0:t.isDivider)?null:(0,n.jsxs)("div",{className:(0,c.cn)("flex items-center",h?"gap-2":"gap-4"),children:[(0,n.jsx)(r.h,{alt:(null===(s=e.data)||void 0===s?void 0:s.id)+"-avatar",className:(0,c.cn)("shrink-0",h?"size-4 max-w-6 max-h-6":""),radius:h?"full":"md",size:h?"sm":"lg",src:null===(l=e.data)||void 0===l?void 0:l.avatar}),h?(0,n.jsx)("div",{className:"font-semibold text-xs truncate",children:null===(i=e.data)||void 0===i?void 0:i.name}):(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-tiny text-default-600",children:"Character"}),(0,n.jsx)("h3",{className:"text-xl font-semibold",children:null===(a=e.data)||void 0===a?void 0:a.name})]})]},e.key)}),children:e=>e.isDivider?(0,n.jsx)(o.R,{textValue:e.grouping,hideSelectedIcon:!0,isReadOnly:!0,"aria-disabled":!0,className:"col-span-full",classNames:{base:"bg-transparent hover:!bg-transparent cursor-default"},children:(0,n.jsxs)("div",{className:"flex w-full items-center gap-2",children:[(0,n.jsx)("h3",{className:"uppercase text-xs tracking-wide font-medium text-white-400/50 select-none",children:e.grouping}),(0,n.jsx)("div",{className:"text-xs font-normal text-white-400/70 bg-white-400/10 rounded-full px-1 py-0.5 min-w-[20px] text-center",children:b[e.grouping]}),(0,n.jsx)("hr",{className:"flex-1 opacity-10"},"divider-".concat(Math.random()))]})},null==e?void 0:e.id):(0,n.jsx)(o.R,{"aria-label":null==e?void 0:e.name,color:e.isSelected?"primary":"default",variant:"solid","data-hover":!0,hideSelectedIcon:!0,classNames:{base:"flex-1 flex flex-col gap-0 ".concat(e.isSelected?"bg-primary-400":""),wrapper:"flex flex-col"},children:(0,n.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[(0,n.jsx)(r.h,{alt:(null==e?void 0:e.id)+"-avatar",radius:"md",size:"lg",src:null==e?void 0:e.avatar}),(0,n.jsx)("div",{className:"flex items-center gap-1",children:(0,n.jsx)("span",{className:"text-sm font-semibold",children:null==e?void 0:e.name})})]})},null==e?void 0:e.id)})}},77781:function(e,t,s){"use strict";s.d(t,{T:function(){return c}});var n=s(62284),l=s(15254),i=s(23405),a=s(2793),r=s(59297),o=s(96934);let c=e=>{let{value:t,autofocus:s,initialSearch:c,placeholder:d="Search for memes. (i.e. pepe)",isSmall:u=!1,onFocus:m,onSearch:x}=e,h=(0,r.useRef)(null);return(0,n.jsx)(l.Y,{size:u?"sm":"md",isClearable:!0,onClear:()=>{null==x||x("")},variant:u?"bordered":"flat",radius:"full",classNames:{base:"flex-1",input:"text-base placeholder:text-base placeholder:text-white-400/50"},startContent:(0,n.jsx)(a.default,{priority:!0,src:o.Z,alt:"Dropdown",onClick:e=>{var t;e.preventDefault(),null===(t=h.current)||void 0===t||t.focus()},className:"mr-1 size-5 cursor-text select-none opacity-75"}),ref:h,autoFocus:s,defaultValue:c,placeholder:d,className:(0,i.cn)("min-w-24 flex-1 rounded-full border border-white-400/5 shadow-sm outline-none placeholder:text-xl placeholder:text-white-400/50",u?"h-8":"h-10 bg-white-400/5"),value:t,onFocus:m,onChange:e=>null==x?void 0:x(e.target.value)})}},99053:function(e,t,s){"use strict";s.d(t,{P:function(){return y}});var n=s(62284),l=s(46231),i=s(46902),a=s(37630),r=s(88938),o=s(87335),c=s(23405),d=s(2793),u=s(59297),m=s(57204),x=s(45780),h=s(14903),f=s(56984),p=s(15219),v=s(74651),j=s(20102),g=s(14751),b=s(25845),w=s(82258);let y=e=>{var t,s;let{post:y,deckPageId:N,profilePageHandle:k,priorityLoadImage:C,imageQuality:_,onClick:S}=e,{data:z}=(0,p.iS)(),I=(0,u.useMemo)(()=>{var e;return null!==(e=null==z?void 0:z.id)&&void 0!==e?e:""},[z]),O=(0,f.u)(I,y.votes),[A]=(0,p.NU)(),[D]=(0,p.Rp)(),{description:M,titleWithAttribution:P,creator:T,url:L,width:E,height:B}=(0,g.zD)(y),F=(0,u.useMemo)(()=>{var e;return null!==(e=y.image)&&void 0!==e?e:y.meme},[y]),R=(0,u.useMemo)(()=>y.by.id===I,[y.by.id,I]),W=(0,u.useMemo)(()=>null==F?void 0:F.is_nsfw,[null==F?void 0:F.is_nsfw]),[V,U]=(0,u.useState)(W),{previousPostId:J,rawSrc:H}=(0,j.C)(),K=(0,u.useMemo)(()=>y.id===J?H:void 0,[y.id,J,H]),Y=(0,u.useMemo)(()=>F?(0,w.LA)(F):"",[F]),{onOpenPost:Z}=(0,v.h)(),q=(0,u.useCallback)(()=>{if(S){S();return}Z(y.id)},[S,Z,y.id]);(0,u.useEffect)(()=>()=>{U(W)},[W]);let X=(0,u.useMemo)(()=>null!=_?_:50,[_]),G=(0,u.useMemo)(()=>X/100*(null!=E?E:200),[E,X]),Q=(0,u.useMemo)(()=>X/100*(null!=B?B:200),[B,X]),$=(0,u.useMemo)(()=>{var e,t;return(null===(t=y.meme)||void 0===t?void 0:null===(e=t.contest)||void 0===e?void 0:e.status)==="active"},[null===(s=y.meme)||void 0===s?void 0:null===(t=s.contest)||void 0===t?void 0:t.status]);return F?(0,n.jsx)("article",{className:(0,c.cn)("relative w-full cursor-pointer overflow-hidden rounded-md",$?"border border-violet-500":"",y.is_contest_winner?"border border-yellow-400":""),onClick:q,children:(0,n.jsxs)(i.w,{isFooterBlurred:!0,radius:"none",className:"group",children:[R&&(0,n.jsx)(a.u,{className:(0,c.cn)("absolute top-0 inset-x-0 p-1 z-10","flex justify-end","transition-opacity opacity-0","sm:group-hover:opacity-100"),children:(0,n.jsx)(r.A,{size:"sm",color:"default",isIconOnly:!0,className:(0,c.cn)("shadow-small","bg-black-400/30 border-1 border-zinc-600/40 backdrop-blur-sm"),children:(0,n.jsx)(m.F,{post:y})})}),(0,n.jsx)(d.default,{className:"z-0 size-full bg-white-400/5 sm:transition-transform sm:group-hover:scale-104",src:Y,placeholder:K,quality:X,priority:C,alt:M||P,width:G,height:Q}),y.is_contest_winner&&(0,n.jsx)(l.JO,{icon:"mdi:prize",className:"absolute top-1 right-1 text-yellow-400 size-7"}),(0,n.jsx)(o.i,{className:(0,c.cn)("absolute bottom-1 inset-x-1 px-1 py-2 z-1 w-[calc(100%_-_8px)]","flex justify-between rounded-md shadow-small overflow-hidden","border-1 border-zinc-600/40 bg-black-400/30","transition-opacity opacity-0",O.hasUpvoted||O.hasDownvoted?"sm:opacity-100":"sm:group-hover:opacity-100"),children:(0,n.jsxs)("div",{className:"flex flex-1 items-center gap-2 w-full",children:[(0,n.jsxs)("div",{className:"flex flex-1 items-center gap-2 truncate font-semibold",children:[$?(0,n.jsx)("div",{className:"size-8 flex items-center justify-center bg-white-400/10 rounded-full",children:(0,n.jsx)(l.JO,{icon:"ooui:user-anonymous",className:"size-5"})}):(0,n.jsx)(d.default,{src:y.by.avatar,alt:T,className:"rounded-full min-w-8",width:32,height:32,quality:50}),(0,n.jsxs)("div",{className:"flex flex-col flex-1 truncate",children:[(0,n.jsx)("span",{className:"truncate text-xs",children:$?"Contestant":y.by.handle}),y.created_at&&(0,n.jsx)("span",{className:"text-tiny font-normal text-white-400/70 truncate",children:(0,b.Po)(new Date(y.created_at))})]})]}),(0,n.jsx)(x.I,{postId:y.id,user:z,deckPageId:N,profilePageHandle:k,initialVotes:y.votes,postVoteApi:A,deleteVoteApi:D,onClickOverride:S,border:"border-zinc-400/50",isActiveContest:$})]})}),V&&(0,n.jsx)(h.T,{src:L,onClickShow:()=>U(!1)})]})}):null}},57803:function(e,t,s){"use strict";s.d(t,{m:function(){return r}});var n=s(62284),l=s(86127),i=s(15837),a=s(72363);let r=e=>{let{size:t="md",className:s="min-w-20 sm:min-w-28",interval:r,onSelect:o}=e;return(0,n.jsx)(l.g,{size:t,"aria-label":"Interval",radius:"full",variant:"bordered",color:"primary",placeholder:"Sort by",classNames:{base:"w-auto",trigger:s,popoverContent:"w-28"},value:r,selectedKeys:[r],onChange:e=>{o(e.target.value)},children:Object.values(a.u).map(e=>(0,n.jsx)(i.R,{children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}},53498:function(e,t,s){"use strict";s.d(t,{a:function(){return d}});var n=s(62284),l=s(46231),i=s(86127),a=s(15837),r=s(72363);let o={[r.a.Hot]:"ph:fire",[r.a.Recent]:"ph:clock",[r.a.Contest]:"ph:star",[r.a.Top]:"ph:trophy"},c=e=>{let{icon:t,label:s}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[t&&(0,n.jsx)(l.JO,{icon:t,className:"min-w-5 size-5"}),s&&s.charAt(0).toUpperCase()+s.slice(1)]})},d=e=>{let{size:t="md",sortBy:s,onSelect:l}=e;return(0,n.jsx)(i.g,{"aria-label":"Sort by",placeholder:"Sort by",size:t,radius:"full",variant:"bordered",color:"primary",classNames:{trigger:"w-20 sm:w-[138px] px-3"},value:s,selectedKeys:[s],defaultSelectedKeys:[r.a.Hot],renderValue:()=>(0,n.jsx)(c,{"aria-label":s,label:s,icon:o[s]}),onChange:e=>{l(e.target.value)},children:Object.values(r.a).filter(e=>e!==r.a.Top).map(e=>(0,n.jsx)(a.R,{"aria-label":e,value:e,textValue:e,children:(0,n.jsx)(c,{label:e,icon:o[e]})},e))})}},85908:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var n=s(59297),l=s(15219);function i(){let{data:e,isLoading:t}=(0,l.iS)(),s=(0,n.useMemo)(()=>null==e?void 0:e.studio_config,[null==e?void 0:e.studio_config]),i=(0,n.useMemo)(()=>{var e;return null!==(e=null==s?void 0:s.characters)&&void 0!==e?e:[]},[null==s?void 0:s.characters]),a=(0,n.useMemo)(()=>{var e;return null!==(e=null==s?void 0:s.aesthetics)&&void 0!==e?e:[]},[null==s?void 0:s.aesthetics]);return{me:e,config:s,isLoading:t,characters:i,aesthetics:a}}},91151:function(e,t,s){"use strict";s.d(t,{I:function(){return i},w:function(){return a}});var n=s(59297),l=s(15219);let i=50,a=e=>{var t;let{search:s,...a}=e,[r,o]=(0,n.useState)(1),c=(0,l.t$)({...a,search:s,start:i*(r-1),limit:i}),d=(0,n.useCallback)(e=>{var t,s;return(null!==(s=null===(t=c.data)||void 0===t?void 0:t.memes)&&void 0!==s?s:[]).length<e*i},[null===(t=c.data)||void 0===t?void 0:t.memes]),u=(0,n.useCallback)(()=>{c.isFetching||c.isLoading||c.isError||o(e=>!c.data||0===c.data.memes.length||d(e)?e:e+1)},[d,c.data,c.isError,c.isFetching,c.isLoading]),m=(0,n.useCallback)(async()=>{let e=window.innerHeight;document.body.offsetHeight-window.scrollY<3*e&&u()},[u]);return(0,n.useEffect)(()=>(window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}),[m]),c}},57837:function(e,t,s){"use strict";s.d(t,{K:function(){return o}});var n=s(28403),l=s(92449),i=s(59297),a=s(75635),r=s(72363);let o=()=>{var e,t,s;let o=(0,l.useRouter)(),c=(0,n.usePathname)(),d=(0,n.useSearchParams)(),{search:u,searchDebounced:m,onSearch:x}=(0,a.U)(null!==(e=d.get("query"))&&void 0!==e?e:""),[h,f]=(0,i.useState)(null!==(t=d.get("interval"))&&void 0!==t?t:r.u.Week),[p,v]=(0,i.useState)(null!==(s=d.get("sort_by"))&&void 0!==s?s:r.a.Hot),j=(0,i.useCallback)((e,t)=>{let s=new URLSearchParams(d.toString());s.set(t,e),o.push(c+"?"+s.toString(),{scroll:!1})},[c,o,d]);return{searchQuery:u,searchQueryDebounced:m,searchInterval:h,searchSortBy:p,setSearchQuery:(0,i.useCallback)(e=>{x(e),j(e,"query")},[x,j]),setSearchInterval:(0,i.useCallback)(e=>{f(e),j(e,"interval")},[j]),setSearchSortBy:(0,i.useCallback)(e=>{v(e),j(e,"sort_by")},[j])}}},83494:function(e,t,s){"use strict";s.d(t,{K:function(){return i}});var n=s(59297),l=s(81255);let i=e=>{let{sendUpdate:t}=e,s=(0,n.useRef)({}),[i,a]=(0,n.useState)(!1),r=(0,n.useMemo)(()=>(0,l.k)(t,500),[t]);return{hasUnsavedChanges:i,queueUpdate:(0,n.useCallback)(e=>{s.current={...s.current,...e},a(!0),r(s.current).finally(()=>{s.current={},a(!1)})},[r])}}},75635:function(e,t,s){"use strict";s.d(t,{U:function(){return i}});var n=s(59297),l=s(81255);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[t,s]=(0,n.useState)(e),[i,a]=(0,n.useState)(e),r=(0,n.useMemo)(()=>(0,l.D)(a,500),[]);return{search:t,searchDebounced:i,onSearch:(0,n.useCallback)(e=>{s(e),r(e)},[r])}}},82020:function(e,t,s){"use strict";s.d(t,{w:function(){return i}});var n=s(59297),l=s(58127);function i(e){let{data:t}=(0,l.r)({chain:"solana"});return(0,n.useMemo)(()=>t?"$"+(e*t.solana.usd).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" USD":"--- USD",[t,e])}},58127:function(e,t,s){"use strict";s.d(t,{n:function(){return i},r:function(){return a}});var n=s(16219),l=s(22640);let i=(0,n.LC)({reducerPath:"coingeckoApi",tagTypes:[],baseQuery:(0,l.ni)({baseUrl:"https://api.coingecko.com/api/v3"}),endpoints:e=>({getTokenUsdValue:e.query({query:e=>{let t,{chain:s,customContractAddress:n}=e,l="solana";switch(s){case"solana":l="solana",t="/simple/price?ids=".concat(l,"&vs_currencies=usd&include_last_updated_at=true"),n&&(t="/simple/token_price/solana?contract_addresses=".concat(n,"&vs_currencies=usd&include_last_updated_at=true"));break;case"ethereum":l="ethereum",t="/simple/price?ids=".concat(l,"&vs_currencies=usd&include_last_updated_at=true"),n&&(t="/simple/token_price/ethereum?contract_addresses=".concat(n,"&vs_currencies=usd&include_last_updated_at=true"));break;default:throw Error("Unsupported chain")}return{url:t,method:"GET"}}})})}),{useGetTokenUsdValueQuery:a}=i},36991:function(e,t,s){"use strict";s.d(t,{AppHistoryProvider:function(){return c},h:function(){return d}});var n=s(62284),l=s(28403),i=s(92449),a=s(66975),r=s(59297);let o=(0,r.createContext)({}),c=e=>{let{children:t}=e,s=(0,l.usePathname)(),c=(0,i.useRouter)(),[d,u]=(0,r.useState)([]),m=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/home",t=arguments.length>1?arguments[1]:void 0,s=e;d.length>1&&(s=d[d.length-2],void 0!==t&&s.includes(t)&&(s=e)),"string"!=typeof s&&(s="/home"),c.push(s,{scroll:!1})},[d,c]);return(0,r.useEffect)(()=>{u(e=>e[e.length-1]!==s?[...e,s]:e)},[s]),(0,n.jsxs)(o.Provider,{value:{goBack:m},children:[t,(0,n.jsx)(a.wT,{dense:!0,maxSnack:3})]})},d=()=>{let e=(0,r.useContext)(o);if(void 0===e)throw Error("useFeed must be used within AppHistoryProvider");return e}},11735:function(e,t,s){"use strict";s.d(t,{ContestModalProvider:function(){return Y},v:function(){return Z}});var n=s(62284),l=s(28403),i=s(59297),a=s(23405),r=s(68880),o=s(46231),c=s(380),d=s(88938),u=s(27217),m=s(8836);let x=e=>{let{contest:t}=e,s=(0,i.useMemo)(()=>{var e;return[...null!==(e=t.judges)&&void 0!==e?e:[],...t.contestants].filter((e,t,s)=>s.findIndex(t=>t.id===e.id)===t)},[t.contestants,t.judges]),l=(0,i.useMemo)(()=>s.length-3,[s]);return(0,n.jsxs)("div",{className:"flex items-center justify-end",children:[(0,n.jsx)(u._,{size:"sm",children:s.slice(0,3).map(e=>(0,n.jsx)(m.h,{src:e.avatar,size:"sm",classNames:{base:"border-2 border-black-0"}},e.id))}),l>0?(0,n.jsxs)("div",{className:(0,a.cn)("flex items-center justify-center size-8","rounded-full bg-[#3F3F46] border-2 border-black-0 -ml-3 z-10","font-medium text-sm select-none"),children:["+",l]}):(0,n.jsx)("div",{})]})};var h=s(60521),f=s(91098),p=s(65615),v=s(9067),j=s(15382),g=s(98335),b=s(79083);let w=e=>{let{contest:t}=e,s=e=>new Date(e).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0});return(0,n.jsxs)("div",{className:"max-h-[60vh] overflow-y-auto scrollbar-thin scrollbar-thumb-rounded-full scrollbar-thumb-gray-700 text-sm leading-normal text-gray-300",children:[(0,n.jsxs)("p",{className:"mb-2",children:["By participating in the “",t.title,"” contest (the “Contest”), you agree to be bound by these terms and conditions."]}),(0,n.jsxs)("ol",{className:"list-decimal list-inside space-y-4",children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{className:"text-gray-100",children:"Eligibility:"})," The Contest is open to all registered users of the platform, subject to any restrictions imposed by applicable laws."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{className:"text-gray-100",children:"Contest Period:"})," The Contest begins on ",s(t.start_time)," and ends on"," ",s(t.end_time)," (“Contest Period”)."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{className:"text-gray-100",children:"How to Enter:"})," To participate, create and submit a meme related to the Contest theme during the Contest Period."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{className:"text-gray-100",children:"Voting:"})," Other users can vote on submitted memes. The meme(s) with the highest number of votes at the end of the Contest Period will be declared the winner(s)."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{className:"text-gray-100",children:"Prize:"})," The prize for this Contest is ",t.prize.token_amount," ",t.prize.ticker," on the"," ",t.prize.label," blockchain. ",t.num_of_winners," winner(s) will be selected."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{className:"text-gray-100",children:"Winner Selection:"})," The winner(s) will be determined based on the number of votes received. In case of a tie, the meme that was created last (i.e., closest to the end of the Contest Period) will be declared the winner. This rule recognizes the achievement of gaining an equal number of votes in a shorter timeframe."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{className:"text-gray-100",children:"Notification:"})," Winners will be notified through the platform within 48 hours of the Contest end time."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{className:"text-gray-100",children:"Prize Distribution:"})," The prize will be distributed to the winner's wallet address only after they set a wallet address for the blockchain associated with their account."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{className:"text-gray-100",children:"Content Rights:"})," By submitting a meme, you grant us a non-exclusive, worldwide, royalty-free license to use, reproduce, and display the meme for promotional purposes."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{className:"text-gray-100",children:"Prohibited Content:"})," ","Submissions must not contain any inappropriate, offensive, or illegal content. We reserve the right to disqualify any entry at our discretion."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{className:"text-gray-100",children:"Limitations of Liability:"})," ","We are not responsible for any lost, late, incomplete, invalid, or misdirected submissions."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{className:"text-gray-100",children:"Modifications:"})," We reserve the right to modify, suspend, or terminate the Contest at any time for any reason."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{className:"text-gray-100",children:"Governing Law:"})," These terms and the Contest are governed by the laws of the State of Texas."]})]}),(0,n.jsx)("p",{className:"mt-4",children:"By participating in this Contest, you acknowledge that you have read, understood, and agree to these terms and conditions."})]})},y=e=>{let{contest:t}=e,[s,l]=(0,i.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-row gap-1 group items-center cursor-pointer text-sm text-gray-500 hover:text-gray-300",onClick:()=>{l(!0)},children:["Terms and Conditions",(0,n.jsx)(o.JO,{icon:"mdi:information-outline",className:"text-gray-500 group-hover:text-gray-300 text-sm"})]}),(0,n.jsx)(p.R,{size:"3xl",isOpen:s,onClose:()=>{l(!1)},title:"Contest Terms and Conditions",children:(0,n.jsxs)(v.A,{children:[(0,n.jsx)(j.k,{children:(0,n.jsx)("h2",{className:"text-xl font-bold uppercase",children:"Contest Terms and Conditions"})}),(0,n.jsx)(g.I,{children:(0,n.jsx)(w,{contest:t})}),(0,n.jsx)(b.R,{children:(0,n.jsx)(d.A,{variant:"light",color:"default",onClick:()=>{l(!1)},children:"Dismiss"})})]})})]})};var N=s(81788),k=s(76018),C=s(68352),_=s(65474),S=s(91250),z=s(48108),I=s(15219);let O=e=>{let{contestId:t}=e,{currentData:s}=(0,I.My)(t),{isUpcoming:l,isEnded:i,isApplying:a,onClickApply:r}=(0,S.Y)(s),{getDateRange:u}=(0,z.S)();return(0,n.jsx)(_.K,{p:"pb-3",children:s&&(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsxs)("header",{className:"flex gap-3 pt-6 p-3 items-center",children:[(0,n.jsxs)("div",{className:"flex flex-1 flex-col gap-1 truncate",children:[(0,n.jsx)("h1",{className:"text-xl leading-6 truncate",children:s.title}),(0,n.jsx)("div",{className:"flex gap-3 items-center justify-start",children:(0,n.jsx)(y,{contest:s})})]}),(0,n.jsx)(x,{contest:s})]}),(0,n.jsxs)("div",{className:"flex flex-col px-3 gap-6",children:[(0,n.jsx)(C.e,{children:i?(0,n.jsx)(k.l,{label:"Contest ended.",content:""}):(0,n.jsx)(h.s,{startContent:(0,n.jsx)("div",{className:"flex-[2] text-white-400/50 text-sm font-medium",children:l?"Starts in":"Ends in"}),contest:s,h:"h-14",p:"px-3",rounded:"rounded-lg"})}),(0,n.jsx)(N.A,{name:null,description:null,duration:u({start:(0,c.Aj)(s.start_time),end:(0,c.Aj)(s.end_time)}),prize:s.prize}),s.description&&(0,n.jsx)(C.e,{className:"p-3",children:(0,n.jsx)("p",{className:"text-sm text-white-400",children:s.description})}),(0,n.jsxs)("div",{className:"flex gap-3 items-center justify-between",children:[(0,n.jsx)(f.I,{contest:s,textSize:"text-xs",iconSize:"size-5 min-w-5"}),(0,n.jsx)(d.A,{size:"md",radius:"full",variant:"bordered",className:"bg-violet-500",isDisabled:a||"active"!==s.status,endContent:(0,n.jsx)(o.JO,{icon:"mdi:arrow-right",className:"text-white-400"}),onClick:r,children:"Studio"})]}),(0,n.jsxs)("section",{className:"flex gap-2 -mt-1",children:[(0,n.jsx)(o.JO,{icon:"material-symbols:info-outline",className:"text-white-400/30 size-3.5"}),(0,n.jsx)("p",{className:"text-white-400/35 text-xs",children:"Vote counts and posters will be revealed when the contest ends."})]})]})]})})};var A=s(12563),D=s(45780),M=s(77606),P=s(96245),T=s(81255);let L=e=>{var t,s;let{contestId:l,entryId:r}=e,{data:c}=(0,I.iS)(),{currentData:u}=(0,I.My)(l),{currentData:m}=(0,I.rB)(l),{currentData:x}=(0,I.Qr)({contestId:l,entryId:r}),[h]=(0,I.hE)(),[f]=(0,I.vq)(),p=(0,A.I0)(),v=(0,P.CG)(M.et),j=(0,i.useCallback)(e=>{u&&c&&h({contestId:u.id,entryId:e.postId,upvote:e.vote,user:c})},[u,c,h]),g=(0,i.useCallback)(e=>{u&&c&&f({contestId:u.id,entryId:e.postId,user:c})},[u,c,f]),b=(0,i.useCallback)(()=>{if(!m)return null;let e=v===m.length-1?0:v+1;p((0,M.rP)(e))},[v,p,m]),w=(0,i.useMemo)(()=>(0,T.D)(b,100),[b]),y=(0,i.useCallback)(()=>{if(!m)return null;let e=0===v?m.length-1:v-1;p((0,M.rP)(e))},[v,p,m]),N=(0,i.useMemo)(()=>(0,T.D)(y,100),[y]);return(0,i.useEffect)(()=>{let e=e=>{"ArrowRight"===e.key?w():"ArrowLeft"===e.key&&N()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[w,N]),(0,n.jsxs)("footer",{id:"modal-footer",className:(0,a.cn)("flex items-center justify-center gap-3","w-full h-16 lg:h-20","bg-black-400 border-t border-b md:border-b-transparent border-white-400/10"),children:[(0,n.jsx)(d.A,{isIconOnly:!0,size:"md",variant:"bordered",isDisabled:!m||m.length<2,onClick:N,children:(0,n.jsx)(o.JO,{icon:"mdi:chevron-left",className:"size-5"})}),c&&(0,n.jsx)(D.I,{size:"md",user:c,postId:null!==(t=null==x?void 0:x.id)&&void 0!==t?t:"",deckPageId:null!==(s=null==u?void 0:u.deck_id)&&void 0!==s?s:"feed",initialVotes:null==x?void 0:x.votes,postVoteApi:j,deleteVoteApi:g,isActiveContest:(null==u?void 0:u.status)==="active",bindToKeyboard:!0}),(0,n.jsx)(d.A,{isIconOnly:!0,size:"md",variant:"bordered",isDisabled:!m||m.length<2,onClick:w,children:(0,n.jsx)(o.JO,{icon:"mdi:chevron-right",className:"size-5"})})]})};var E=s(71303);let B=e=>{var t,s;let{contestId:l,entryId:a}=e,{data:o}=(0,I.My)(l),{data:c,isLoading:d}=(0,I.rB)(l),{currentData:u,isLoading:m}=(0,I.Qr)({contestId:l,entryId:a}),x=(0,i.useMemo)(()=>null!=c?c:[],[c]),h=(0,i.useMemo)(()=>x.find(e=>e.id===a),[x,a]),f=(0,i.useMemo)(()=>(null==h?void 0:h.post_id)||(null==u?void 0:u.post.id)||"",[null==u?void 0:u.post.id,null==h?void 0:h.post_id]),p=(0,i.useMemo)(()=>(null==u?void 0:u.post_url)?null==u?void 0:u.post_url:(null==h?void 0:h.post_url)?null==h?void 0:h.post_url:void 0,[null==u?void 0:u.post_url,null==h?void 0:h.post_url]),v=(0,i.useMemo)(()=>(null==o?void 0:o.status)==="ended"?"No submissions":(null==o?void 0:o.status)==="upcoming"?"Contest Starting Soon":"No submissions yet",[o]);return o?(0,n.jsx)(n.Fragment,{children:d?(0,n.jsx)(r.c,{}):x.length>0?p?(0,n.jsx)(E.S,{src:p,alt:f,width:null!==(t=null==u?void 0:u.width)&&void 0!==t?t:1152,height:null!==(s=null==u?void 0:u.height)&&void 0!==s?s:1152,contest:o},f):m?(0,n.jsx)(r.c,{}):(0,n.jsx)("h2",{className:"py-16",children:"No meme found"}):(0,n.jsx)("h2",{className:"py-16",children:v})}):(0,n.jsx)(r.c,{})};var F=s(74027),R=s(35976);let W=e=>{var t,s;let{contestId:l}=e;(0,R.y)({locked:!0});let{data:o,isFetching:c}=(0,I.rB)(l),d=(0,P.CG)(M.et),{closeContest:u}=Z(),m=(0,i.useCallback)(e=>{let t=e.target;t.closest("#modal-aside")||t.closest("#modal-footer")||t.closest("#lightbox-image")||u()},[u]);return(0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&u()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[u]),(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex size-full items-center justify-center bg-black-400/90 sm:overflow-y-auto md:overflow-hidden xs:overflow-y-auto",onClick:m,onDragOver:e=>(e.preventDefault(),e.stopPropagation(),!1),children:(0,n.jsxs)("div",{className:"flex size-full flex-1 flex-col sm:overflow-y-auto md:flex-row",children:[(0,n.jsx)(F.V,{footer:o?(0,n.jsx)(L,{contestId:l,entryId:null===(t=o[d])||void 0===t?void 0:t.id}):null,onClose:u,children:(0,n.jsx)("div",{className:(0,a.cn)("flex items-center justify-center","size-full max-h-full min-h-0 gap-3 overflow-hidden","px-0 lg:gap-6 lg:p-3"),children:c||!o?(0,n.jsx)(r.c,{}):(0,n.jsx)(B,{contestId:l,entryId:null===(s=o[d])||void 0===s?void 0:s.id})})}),(0,n.jsx)(O,{contestId:l})]})})};var V=s(92449),U=s(82258);let J=()=>{let e=(0,V.useRouter)(),t=(0,l.usePathname)(),s=(0,l.useSearchParams)(),n=e=>{let n=encodeURIComponent(e.replace("contest:","")),l=new URLSearchParams(s.toString()),i="".concat(t,"/").concat(n);return(0,U.wS)(i,l)},i=()=>{let e=t.split("/").slice(0,-2).join("/"),n=new URLSearchParams(s.toString());return n.delete("contestId"),(0,U.wS)(e,n)};return{getOpenHref:n,openContestModal:t=>{let s=n(t);e.push(s,{scroll:!1})},closeContestModal:()=>{let t=i();e.push(t,{scroll:!1})}}};var H=s(94548);let K=(0,i.createContext)({}),Y=e=>{let{params:t,children:s}=e,{contestId:i}=(0,H.d)({params:t,key:"contestId",index:4}),a=(0,l.useSearchParams)().get("contestId"),r=i.length>0?i:a,{openContestModal:o,closeContestModal:c}=J();return(0,n.jsxs)(K.Provider,{value:{openContest:o,closeContest:c},children:[s,r&&(0,n.jsx)(W,{contestId:r})]})},Z=()=>{let e=(0,i.useContext)(K);if(void 0===e)throw Error("useContestModal must be used within ContestModalProvider");return e}},98706:function(e,t,s){"use strict";s.d(t,{ViewDeckProvider:function(){return r},w:function(){return o}});var n=s(62284),l=s(59297),i=s(94548);let a=(0,l.createContext)(void 0),r=e=>{let{deckId:t,children:s}=e,[r,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),u=(0,i.d)({params:{deckId:t},key:"deckId",index:2});return(0,n.jsx)(a.Provider,{value:{deckId:u.deckId,isAdminsModalOpen:r,setIsAdminsModalOpen:o,isPostersModalOpen:c,setIsPostersModalOpen:d},children:s})},o=()=>{let e=(0,l.useContext)(a);if(void 0===e)throw Error("useDeckViewer must be used within ViewDeckProvider");return e}},64702:function(e,t,s){"use strict";s.d(t,{zG:function(){return c},eS:function(){return o},gv:function(){return x},X6:function(){return h},Dr:function(){return f},l7:function(){return g},q3:function(){return d},gf:function(){return b},XO:function(){return u}});var n=s(65006),l=s(27329),i=JSON.parse('{"address":"FwGBT2BWHFxp1rLc6XXQCo3V49mq5ke8L51rCLQvXnxo","metadata":{"name":"escrow","version":"0.1.0","spec":"0.1.0","description":"Created with Anchor"},"instructions":[{"name":"add_admin","discriminator":[177,236,33,205,124,152,55,186],"accounts":[{"name":"vault","writable":true},{"name":"admin","signer":true}],"args":[{"name":"_contest_id","type":"string"},{"name":"new_admin","type":"pubkey"}]},{"name":"award_contest","discriminator":[1,35,15,200,104,73,10,250],"accounts":[{"name":"vault","writable":true},{"name":"admin","writable":true,"signer":true},{"name":"recipient","writable":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"contest_id","type":"string"},{"name":"refund","type":"bool"}]},{"name":"force_defund","discriminator":[62,105,223,25,118,170,187,9],"accounts":[{"name":"account","docs":["While not necessary, this can help eliminate the waste of space and lamports associated with these \\"limbo\\" accounts.","this comes directly from the solana docs:","https://solana.com/developers/courses/program-security/closing-accounts"]},{"name":"destination","docs":["whatever account they desire if the source account has been zeroed out (closed)"]}],"args":[]},{"name":"initialize_contest","discriminator":[8,124,233,229,42,156,92,3],"accounts":[{"name":"vault","writable":true},{"name":"payer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rate","pda":{"seeds":[{"kind":"const","value":[99,111,110,116,101,115,116,95,102,101,101]}]}}],"args":[{"name":"contest_id","type":"string"},{"name":"prize","type":"u64"}]},{"name":"remove_admin","discriminator":[74,202,71,106,252,31,72,183],"accounts":[{"name":"vault","writable":true},{"name":"admin","signer":true}],"args":[{"name":"_contest_id","type":"string"},{"name":"admin_to_remove","type":"pubkey"}]},{"name":"set_rate","discriminator":[99,58,170,238,160,120,74,11],"accounts":[{"name":"payer","writable":true,"signer":true},{"name":"rate","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,116,101,115,116,95,102,101,101]}]}},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"rate","type":"f32"}]}],"accounts":[{"name":"ContestVault","discriminator":[28,47,116,142,90,119,191,211]},{"name":"Rate","discriminator":[171,48,95,14,112,112,23,79]}],"errors":[{"code":6000,"name":"NotAuthorized","msg":"You are not authorized to perform this action"},{"code":6001,"name":"NoPayerAsAdmin"},{"code":6002,"name":"InsufficientFunds"},{"code":6003,"name":"AccountNotClosed"},{"code":6004,"name":"VaultAlreadyClosed"},{"code":6005,"name":"InvalidParams","msg":"your prize must be greater than 0"},{"code":6006,"name":"RecipientAccountNotWritable"},{"code":6007,"name":"RecipientMustBeSystemOwned"},{"code":6008,"name":"RecipientOverflow"}],"types":[{"name":"ContestVault","type":{"kind":"struct","fields":[{"name":"contest_id","type":"string"},{"name":"prize","type":"u64"},{"name":"num_of_winners","type":"u8"},{"name":"admins","type":{"vec":"pubkey"}}]}},{"name":"Rate","type":{"kind":"struct","fields":[{"name":"rate","type":"f32"}]}}]}'),a=s(71987),r=s(22182).Buffer;let o={chain_id:102,label:"Solana",token_contract_address:"So11111111111111111111111111111111111111112",ticker:"SOL",token_amount:.2},c=[o,{chain_id:1,label:"Ethereum",token_contract_address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",ticker:"ETH",token_amount:.1},{chain_id:8453,label:"Base",token_contract_address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ticker:"ETH",token_amount:.1}];function d(e,t){let s;switch(t){case 1:case 8453:s=/^0x[a-fA-F0-9]{40}$/;break;case 102:s=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/;break;default:return!1}return s.test(e)}function u(e){switch(e){case"SOL":return"Solana";case"ETH":return"Ethereum";default:return null}}let m=a.BB?"mainnet-beta":"devnet",x="Solana";function h(){switch(m){case"devnet":return"Devnet";case"testnet":return"Testnet";case"mainnet-beta":return"Mainnet"}}function f(e){return"https://explorer.solana.com/tx/".concat(e,"?cluster=").concat(m)}let p=new l.PublicKey("FwGBT2BWHFxp1rLc6XXQCo3V49mq5ke8L51rCLQvXnxo");function v(){let e=new l.Connection(a.cd,"confirmed"),t=new n.Y7(e,window.solana,{commitment:"confirmed"});return n.fc(t),new n.$r(i,t)}function j(e){let t=e.substring(0,32),[s]=n.rV.PublicKey.findProgramAddressSync([r.from("contest_vault"),r.from(t)],p);return s}async function g(e,t,s){let i=v(),r=j(e),o=new n.BN(t.token_amount*l.LAMPORTS_PER_SOL),c=await i.methods.initializeContest(e,o).accounts({vault:r,payer:s,systemProgram:n.rV.SystemProgram.programId}).transaction(),d=new n.rV.Connection(a.cd,"confirmed");return c.recentBlockhash=(await d.getLatestBlockhash("confirmed")).blockhash,c.feePayer=s,{tx:c,connection:d}}async function b(e,t){try{let s=v(),n=j(e),i=await s.account.contestVault.fetch(n),a=i.contestId.replace("contest:","")===e.replace("contest:",""),r=i.prize.toNumber()/l.LAMPORTS_PER_SOL===t.token_amount;return a&&r}catch(e){return!1}}},78617:function(e,t,s){"use strict";s.d(t,{xM:function(){return u},zN:function(){return d},jv:function(){return x}});var n={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/dexscreener.10175de8.svg",height:16,width:14,blurWidth:0,blurHeight:0},l={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/link.92f1c818.svg",height:16,width:16,blurWidth:0,blurHeight:0},i={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/telegram.43cbd001.svg",height:16,width:16,blurWidth:0,blurHeight:0},a={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/x.9521bae5.svg",height:16,width:16,blurWidth:0,blurHeight:0};let r=e=>e.includes("twitter.com")||e.includes("t.co")||e.includes("x.com"),o=e=>e.includes("telegram.org")||e.includes("t.me"),c=e=>e.includes("dexscreener.com");function d(e){return r(e)?a:o(e)?i:c(e)?n:l}function u(e){return r(e)?"@".concat(e.split("/")[3]):e.replace(/(https?:\/\/)?(www\.)?/,"")}let m=/^https?:\/\/([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.[a-zA-Z]{2,}(\/[a-zA-Z0-9-._~:/?#[\]@!$&'()*+,;=]*)?$/;function x(e){return m.test(e)}},42773:function(e,t){"use strict";t.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/arrow.left.37648ed6.svg",height:46,width:57,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[4586,186,5531,2652,2446,8938,9303,1271,4607,3453,322,1866,6127,3316,6157,9675,6844,5217,6277,7897,5219,621,3746,4058,102,46,4868,2046,1744],function(){return e(e.s=4660)}),_N_E=e.O()}]);