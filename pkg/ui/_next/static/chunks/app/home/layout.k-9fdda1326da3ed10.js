(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2032],{57009:function(e,t,s){Promise.resolve().then(s.bind(s,99346)),Promise.resolve().then(s.bind(s,92013)),Promise.resolve().then(s.bind(s,98045)),Promise.resolve().then(s.bind(s,73952)),Promise.resolve().then(s.bind(s,10253)),Promise.resolve().then(s.bind(s,13581)),Promise.resolve().then(s.bind(s,93731)),Promise.resolve().then(s.bind(s,33175)),Promise.resolve().then(s.bind(s,80844)),Promise.resolve().then(s.bind(s,83136)),Promise.resolve().then(s.bind(s,17027)),Promise.resolve().then(s.bind(s,98670)),Promise.resolve().then(s.bind(s,66721)),Promise.resolve().then(s.bind(s,46151)),Promise.resolve().then(s.bind(s,40014)),Promise.resolve().then(s.bind(s,80870)),Promise.resolve().then(s.bind(s,30816)),Promise.resolve().then(s.bind(s,45738)),Promise.resolve().then(s.bind(s,5257)),Promise.resolve().then(s.bind(s,24806)),Promise.resolve().then(s.bind(s,76575)),Promise.resolve().then(s.bind(s,49585)),Promise.resolve().then(s.bind(s,21032)),Promise.resolve().then(s.bind(s,91237)),Promise.resolve().then(s.bind(s,62527)),Promise.resolve().then(s.bind(s,18166)),Promise.resolve().then(s.bind(s,69981)),Promise.resolve().then(s.bind(s,27989)),Promise.resolve().then(s.bind(s,21837)),Promise.resolve().then(s.bind(s,1768)),Promise.resolve().then(s.bind(s,45400)),Promise.resolve().then(s.bind(s,38528)),Promise.resolve().then(s.bind(s,13038)),Promise.resolve().then(s.bind(s,30786)),Promise.resolve().then(s.bind(s,54648)),Promise.resolve().then(s.bind(s,61994)),Promise.resolve().then(s.bind(s,2788)),Promise.resolve().then(s.bind(s,30145)),Promise.resolve().then(s.bind(s,50784)),Promise.resolve().then(s.bind(s,87010)),Promise.resolve().then(s.bind(s,98215)),Promise.resolve().then(s.bind(s,98476)),Promise.resolve().then(s.bind(s,26157)),Promise.resolve().then(s.bind(s,91512)),Promise.resolve().then(s.t.bind(s,45702,23))},84394:function(e,t,s){"use strict";s.d(t,{Ud:function(){return h},hd:function(){return d},Ew:function(){return m},QB:function(){return u}});var l=s(7590),i=s(64064),n=s(27613),r=s(4763),a={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo.a86b8f2b.svg",height:256,width:256,blurWidth:0,blurHeight:0},o=s(22566),c=s(57031);let d=()=>(0,l.jsx)("div",{className:"flex h-16 min-h-16 select-none items-center justify-center lg:justify-start",children:(0,l.jsxs)(r.default,{href:"/home",children:[(0,l.jsxs)("div",{className:"hidden gap-3 items-center lg:flex",children:[(0,l.jsx)(u,{}),(0,l.jsx)(h,{})]}),(0,l.jsx)("div",{className:"lg:hidden",children:(0,l.jsx)(m,{})})]})}),m=()=>(0,l.jsx)(n.default,{src:a,alt:"".concat(c.jG," Icon"),"aria-label":"".concat(c.jG," - ").concat(c.vk),className:"h-10 min-w-10 w-full select-none"}),u=e=>{let{className:t="h-12 w-[120px] object-cover"}=e;return(0,l.jsx)(n.default,{priority:!0,src:o.Z,alt:"".concat(c.jG," Logo"),"aria-label":"".concat(c.jG," - ").concat(c.vk),className:t,draggable:!1})},h=()=>(0,l.jsx)(i.z,{size:"sm",color:"warning",classNames:{base:"mb-0.5 text-yellow-400 bg-yellow-50 border-1 border-yellow-400/10"},children:"Alpha"})},13581:function(e,t,s){"use strict";s.d(t,{Page:function(){return x}});var l=s(7590),i=s(14081),n=s(15866),r=s(27613),a=s(68908),o={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/cloud.c8336d47.svg",height:74,width:74,blurWidth:0,blurHeight:0};let c=()=>{let{isBatchUploading:e}=(0,a.V)();return(0,l.jsx)("div",{className:"relative size-full min-w-0 p-3",children:(0,l.jsx)("div",{className:"relative flex size-full min-w-0 items-center justify-center rounded-xl border-3 border-dashed border-blue-400",children:e?(0,l.jsx)(n.c,{}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,l.jsx)(r.default,{src:o,width:64,height:64,alt:"cloud",loading:"eager",className:"size-24"}),(0,l.jsx)("h2",{className:"text-center text-xl font-semibold text-white-400",children:"Drop bangers to upload"})]})})})};var d=s(17256),m=s(61784),u=s(3333),h=s(85183);(0,i.Cb)("local");let x=e=>{let{children:t,isGated:s=!0,border:i="xs:border-0 sm:border-x border-white-400/15"}=e,n=(0,u.iS)(),r=(0,h.CG)(m.KS);return!s||n.currentData||n.isFetching?(0,l.jsx)("div",{className:"relative size-full min-w-0 xs:pb-16 ".concat(i),children:r?(0,l.jsx)(c,{}):t}):(0,l.jsx)(d.c,{isOpen:!0})}},93731:function(e,t,s){"use strict";s.d(t,{TopPosters:function(){return o}});var l=s(7590),i=s(4763),n=s(82581),r=s(55256),a=s(3333);let o=()=>{let{isLoading:e,currentData:t}=(0,a.fS)(),s=(0,n.useMemo)(()=>(null!=t?t:[]).slice(0,5),[t]);return e&&0===s.length?(0,l.jsx)("div",{className:"flex flex-col",children:[1,2,3,4,5].map(e=>(0,l.jsx)(r.y,{},e))}):(0,l.jsx)("div",{className:"flex flex-col",children:s.map(e=>(0,l.jsx)(i.default,{href:"/u/".concat(e.handle),"aria-label":"View @".concat(e.handle,"'s profile"),className:"hover:bg-white-400/5",children:(0,l.jsx)(r.W,{avatarSrc:e.avatar,badgeSrc:e.badge_image_url,screenName:e.name,userHandle:e.handle})},e.handle))})}},99346:function(e,t,s){"use strict";s.d(t,{ProductUpdates:function(){return c}});var l=s(7590),i=s(69622),n=s(81662),r=s(70244),a=s(15597),o=s(3333);let c=()=>{let{currentData:e}=(0,o.ft)(),[t]=(0,o.ny)();if(!e||0===Object.keys(e).length||!e.date_formatted)return null;let s=new Date(e.date_formatted.replace(/\.\d{3}\d*Z$/,".000Z")).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"});return(0,l.jsxs)(n.w,{shadow:"lg",className:"w-full rounded-lg pb-4 p-2 bg-[url('https://nextuipro.nyc3.cdn.digitaloceanspaces.com/components-images/abstract-dark-bg4.jpg')] bg-right-bottom",children:[(0,l.jsx)(r.A,{isIconOnly:!0,className:"absolute right-2 top-2 z-20",radius:"full",size:"sm",variant:"light",onClick:()=>t(e.id),children:(0,l.jsx)(i.JO,{className:"text-default-400",icon:"iconamoon:close-thin",width:24})}),(0,l.jsxs)(a.G,{className:"px-3 pb-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-start gap-4",children:[(0,l.jsx)(i.JO,{icon:"ic:sharp-tips-and-updates",className:"size-6"}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"text-small text-default-500/50",children:s}),(0,l.jsx)("h2",{className:"text-lg leading-6 font-black",children:(null==e?void 0:e.title)||"Product Updates"})]})]}),(0,l.jsx)("ul",{className:"mt-3",children:Object.entries(null==e?void 0:e.details).sort((e,t)=>e[0]-t[0]).map(e=>(0,l.jsxs)("li",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"min-w-4 pt-1",children:(0,l.jsx)(i.JO,{icon:"ic:sharp-check-circle",className:"size-4 text-white-400/75"})}),(0,l.jsx)("p",{className:"text-small text-white-400/75",children:e[1]})]},"product-update-feature"+e[0].toString()))})]})]})}},71550:function(e,t,s){"use strict";s.d(t,{g:function(){return o}});var l=s(7590),i=s(70244),n=s(82581),r=s(3333),a=s(62247);let o=e=>{let{deck:t,size:s="md",onClickOverride:o}=e,[c]=(0,r.gJ)(),[d]=(0,r.A6)(),[m,u]=(0,n.useState)(!1),h=(0,n.useCallback)(e=>{if(e.stopPropagation(),e.preventDefault(),o){o();return}t.is_following?d(t.id):c(t.id)},[t.id,t.is_following,c,o,d]);return t?(0,l.jsx)(i.A,{variant:t.is_following?"ghost":"solid",color:t.is_following&&m?"danger":"primary",size:s,className:(0,a.cn)("rounded-xl","sm"===s?"!h-[26px] px-1":"",t.is_following&&"sm"===s?"w-[89px]":"",t.is_following&&"md"===s?"w-[106px]":""),disableRipple:!0,onClick:h,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:(0,l.jsx)("div",{className:"flex gap-2 items-center justify-center w-full",children:(0,l.jsx)("h4",{className:"md"===s?"text-base":"text-sm",children:t.is_following?m?"Unfollow":"Following":"Follow"})})}):null}},43833:function(e,t,s){"use strict";s.d(t,{L:function(){return u},z:function(){return m}});var l=s(7590),i=s(61594),n=s(4763),r=s(71550),a=s(21307),o=s(62247),c=s(89405),d=s(96616);let m=e=>{var t,s,m,u,h,x;let{deck:f,radius:g,rank:v,metric:p="memes",onClickNavigate:A}=e;return(0,l.jsxs)(n.default,{href:(0,d.o4)(f.id),className:(0,o.cn)("flex items-center gap-3","h-[54px] px-4 py-2 text-sm","hover:bg-white-400/5",g),onClick:A,children:[v&&(0,l.jsx)("h2",{className:"text-white-400 font-medium text-md",children:v}),(0,l.jsx)("div",{className:"bg-black-400 size-8 rounded-md overflow-hidden",children:(0,l.jsx)(i.h,{size:"sm",radius:"sm",src:null!==(s=null!==(t=f.cover_photo)&&void 0!==t?t:f.thumbnail)&&void 0!==s?s:"",alt:f.title,className:"object-cover object-center size-full"})}),(0,l.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,l.jsx)("div",{className:"max-w-48 truncate text-md font-semibold leading-tight",children:f.title}),(0,l.jsx)("div",{className:"text-white-400/50 text-sm truncate",children:"memes"===p?"".concat(null!==(m=f.total_posted)&&void 0!==m?m:0," ").concat((0,c._6)(null!==(u=f.total_posted)&&void 0!==u?u:0,"meme","memes")):"".concat(null!==(h=f.follower_count)&&void 0!==h?h:0," ").concat((0,c._6)(null!==(x=f.follower_count)&&void 0!==x?x:0,"follower","followers"))})]}),f.is_admin?(0,l.jsx)(a.g,{deckId:f.id,onEdit:A}):(0,l.jsx)(r.g,{size:"sm",deck:f})]},f.id)},u=()=>(0,l.jsxs)("div",{className:"flex items-center gap-3 h-[54px] px-4 py-2 text-sm w-full",children:[(0,l.jsx)("div",{className:"bg-white-400/5 size-3 rounded-sm"}),(0,l.jsx)("div",{className:"bg-white-400/10 size-8 rounded-md"}),(0,l.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,l.jsx)("div",{className:"bg-white-400/10 h-[18px] w-1/2 rounded-md"}),(0,l.jsx)("div",{className:"bg-white-400/5 h-[20px] w-1/3 rounded-md"})]})]})},92013:function(e,t,s){"use strict";s.d(t,{TopDecksAside:function(){return o}});var l=s(7590),i=s(82581),n=s(43833),r=s(3333),a=s(36572);let o=()=>{let{isLoading:e,data:t}=(0,r.oX)({limit:4,interval:a.u.Week}),s=(0,i.useMemo)(()=>Object.values(null!=t?t:{}).filter(e=>"deck:feed"!==e.id).sort((e,t)=>e.rank-t.rank).slice(0,3),[t]);return e&&0===s.length?(0,l.jsx)("div",{className:"flex flex-col",children:[1,2,3].map(e=>(0,l.jsx)(n.L,{},e))}):(0,l.jsx)("div",{className:"flex flex-col",children:s.map((e,t)=>(0,l.jsx)(n.z,{rank:t+1,deck:e},e.id))})}},21307:function(e,t,s){"use strict";s.d(t,{Z:function(){return i},g:function(){return v}});var l,i,n=s(7590),r=s(69622),a=s(21059),o=s(99395),c=s(15866),d=s(70244),m=s(42739),u=s(60997),h=s(23143),x=s(72655),f=s(82581),g=s(3333);(l=i||(i={})).Edit="edit",l.Delete="delete";let v=e=>{let{deckId:t,size:s="sm",variant:l="light",itemsToRender:i=["edit","delete"],isLoading:v,isDisabled:p,onEdit:A,onDelete:j}=e,b=(0,h.useRouter)(),[w]=(0,g.ez)(),[k,N]=(0,f.useState)(!1),y=(0,f.useCallback)(()=>{b.push("/deck-edit/".concat(t.replace("deck:",""))),null==A||A()},[b,t,A]),C=(0,f.useCallback)(async e=>{e.stopPropagation(),e.preventDefault();try{N(!0),w(t),null==j||j(),b.push("/home")}catch(e){console.error("Failed to delete deck",e),(0,x.yv)("Failed to delete deck",{variant:"error"})}finally{N(!1)}},[t,w,j,b]),P=(0,f.useMemo)(()=>[{key:"edit",label:"Edit",color:"default",startContent:(0,n.jsx)(r.JO,{className:"size-5",icon:"mdi:edit"}),onClick:y},{key:"delete",label:"Delete",color:"danger",startContent:(0,n.jsx)(r.JO,{className:"size-5",icon:"tabler:trash"}),onClick:C}],[y,C]);return(0,n.jsxs)(a.F,{classNames:{content:"min-w-0 w-auto"},children:[(0,n.jsx)(o.S,{children:k||v?(0,n.jsx)("div",{className:"flex items-center justify-center size-8",children:(0,n.jsx)(c.c,{size:"sm"})}):(0,n.jsx)(d.A,{isIconOnly:!0,size:s,variant:l,isDisabled:p,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,n.jsx)(r.JO,{className:"size-5",icon:"tabler:dots"})})}),(0,n.jsx)(m.a,{children:P.filter(e=>i.includes(e.key)).map(e=>(0,n.jsx)(u.W,{color:e.color,startContent:e.startContent,onClick:e.onClick,children:e.label},e.key))})]})}},98045:function(e,t,s){"use strict";s.d(t,{HomeFeed:function(){return M}});var l=s(7590),i=s(15866),n=s(69622),r=s(89749),a=s(72728),o=s(70244),c=s(81750),d=s(22595),m=s(21990),u=s(89270),h=s(27613),x=s(23143),f=s(72655),g=s(82581),v=s(52308),p=s(95642),A=s(7746),j=s(60516),b=s(62247);let w=e=>{var t,s;let{image:i,priorityLoadImage:n,alt:r="Meme",isNsfw:a}=e,{src:o,onError:c}=(0,j.f)(i),[d,m]=(0,g.useState)(a);return(0,l.jsxs)("div",{className:"relative size-full select-none overflow-hidden rounded-xl bg-white-400/10",children:[(0,l.jsx)(h.default,{draggable:!1,className:(0,b.cn)("absolute z-1 inset-0 size-full object-contain",d?"blur-xl":""),src:o,alt:r,width:null!==(t=i.width)&&void 0!==t?t:1152,height:null!==(s=i.height)&&void 0!==s?s:1152,priority:!a&&n,onError:c}),d&&(0,l.jsx)(A.T,{src:o,onClickShow:()=>m(!1)})]})};var k=s(9769);let N=e=>{var t,s,i,n;let{meme:r,isNsfw:a}=e,{src:o}=(0,j.f)(r),[c,d]=(0,g.useState)(a);return(0,l.jsxs)("div",{className:"relative size-full select-none overflow-hidden rounded-xl bg-white-400/10",children:[(0,l.jsx)(k.g,{type:"image",src:o,topText:null,bottomText:null,centerText:null,className:"z-1 ".concat(c?"blur-xl":""),imageWidth:null!==(t=r.width)&&void 0!==t?t:1152,imageHeight:null!==(s=r.height)&&void 0!==s?s:1152,canvasWidth:null!==(i=r.width)&&void 0!==i?i:1152,canvasHeight:null!==(n=r.height)&&void 0!==n?n:1152}),c&&(0,l.jsx)(A.T,{src:o,onClickShow:()=>d(!1)})]})};var y=s(86960),C=s(22110),P=s(3333),S=s(27391),z=s(38725);let E=e=>{let{post:t}=e,s=(0,x.useRouter)(),{isOpen:i,onOpen:A,onClose:j,onOpenChange:b}=(0,r.q)(),{data:k}=(0,P.iS)(),[E]=(0,P.NU)(),[D]=(0,P.Rp)(),{onOpenPost:M}=(0,S.h)(),{getOpenHref:I}=(0,y.e)(),[O,U]=(0,g.useState)(!1),L=(0,g.useMemo)(()=>t.meme?t.meme.width/t.meme.height:t.image?t.image.width/t.image.height:1152/896,[t.image,t.meme]),{isRemixing:_,onClickRemix:T}=(0,C.o)(),F=(0,g.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),s.push("/u/".concat(t.by.handle))},[t.by.handle,s]),R=(0,g.useCallback)(()=>{let e=I({postId:t.id}),s="".concat(window.location.origin).concat(e);navigator.clipboard.writeText(s),j(),(0,f.yv)("Link copied to clipboard",{variant:"success",autoHideDuration:1500})},[I,t.id,j]),B=(0,g.useCallback)(async()=>{if(!t.meme)return null;try{U(!0);let e=await fetch(t.meme.url);if(!e.ok)throw Error("Network response was not ok.");let s=await e.blob(),l=new File([s],"post.png",{type:"image/png"});await navigator.share({title:"Share Meme",text:"Check out this meme on Memedeck",files:[l]})}catch(e){console.error("Error sharing:",e)}finally{U(!1)}j()},[j,t.meme]);return(0,l.jsxs)("article",{className:(0,a.cn)("flex flex-col items-start justify-start","min-h-0 min-w-full max-w-full cursor-pointer gap-2 overflow-hidden border-b border-white-400/15 transition-colors hover:bg-black-400","px-3 pb-3 pt-2.5"),onClick:()=>M(t.id),children:[(0,l.jsx)(v.i,{post:t,by:t.by,onProfileClick:F}),(0,l.jsxs)("div",{className:"w-full",style:{aspectRatio:L},children:["meme"===t.post_type&&t.meme&&(0,l.jsx)(N,{meme:t.meme,isNsfw:t.meme.is_nsfw}),"image"===t.post_type&&t.image&&(0,l.jsx)(w,{image:t.image,isNsfw:t.image.is_nsfw})]},"meme-".concat(t.id)),(0,l.jsxs)("footer",{className:"flex w-full flex-row items-center gap-2",children:[(0,l.jsx)("div",{className:"flex gap-2 flex-1",children:k&&(0,l.jsx)(p.I,{postId:t.id,user:k,deckId:"feed",initialVotes:t.votes,postVoteApi:E,deleteVoteApi:D})}),(0,l.jsx)(o.A,{size:"sm",variant:"bordered",startContent:(0,l.jsx)(h.default,{src:z.Z,alt:"Remix",className:"size-4"}),isDisabled:_,onClick:()=>T(t),children:"Remix"}),(0,l.jsx)(o.A,{isIconOnly:!0,size:"sm",variant:"ghost",className:"flex sm:hidden",onClick:A,children:(0,l.jsx)(n.JO,{icon:"ri:share-2-line",width:18})})]}),(0,l.jsx)(c.R,{isOpen:i,placement:"bottom",hideCloseButton:!0,onOpenChange:b,children:(0,l.jsx)(d.A,{children:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(m.I,{className:"flex gap-3 pt-4",children:[(0,l.jsx)(o.A,{variant:"light",className:"flex justify-start",startContent:(0,l.jsx)(n.JO,{icon:"tdesign:link",width:18}),onClick:R,children:"Copy link"}),!!navigator.share&&(0,l.jsx)(o.A,{variant:"light",className:"flex justify-start",startContent:(0,l.jsx)(n.JO,{icon:"ri:share-2-line",width:18}),isLoading:O,onClick:B,children:"Share post via..."})]}),(0,l.jsx)(u.R,{children:(0,l.jsx)(o.A,{variant:"bordered",fullWidth:!0,onPress:e,children:"Cancel"})})]})})})]})},D=()=>{let[e,t]=(0,g.useState)(1),s=(0,P.ws)({start:10*(e-1),limit:10,deck_id:"feed"}),l=(0,g.useCallback)(()=>{s.isFetching||s.isLoading||s.isError||t(e=>{var t;let l=!s.data||0===s.data.length,i=(null!==(t=s.data)&&void 0!==t?t:[]).length<10*e;return l||i?e:e+1})},[s.data,s.isError,s.isFetching,s.isLoading]),i=(0,g.useCallback)(async()=>{let e=window.innerHeight;document.body.offsetHeight-window.scrollY<3*e&&l()},[l]);return(0,g.useEffect)(()=>(window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)}),[i]),s},M=()=>{let{data:e,isFetching:t}=D();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"relative min-w-full max-w-full",children:null==e?void 0:e.map((e,t)=>e.meme||e.image?(0,l.jsx)(E,{post:e},"feed-item-".concat(t,"-").concat(e.id)):null)}),t&&(0,l.jsx)("div",{className:"flex w-full justify-center px-3 py-6",children:(0,l.jsx)(i.c,{})})]})}},73952:function(e,t,s){"use strict";s.d(t,{FeedHeaderMobile:function(){return j}});var l=s(7590),i=s(69622),n=s(70244),r=s(27613),a=s(4763),o=s(82581),c=s(72728),d=s(61594),m=s(23143),u=s(23512),h=s(9899),x=s(56597),f=s(41781),g=s(3333);let v=e=>{let{isOpen:t,onToggle:s}=e;(0,f.y)({locked:t});let r=(0,m.useRouter)(),{data:a}=(0,g.iS)(),v=(0,o.useCallback)(()=>{if(!a)return s();r.push("/u/".concat(a.handle))},[a,r,s]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z,{isOpen:t,onClick:s,children:(0,l.jsx)("div",{})}),(0,l.jsx)("aside",{className:(0,c.cn)("fixed top-0 left-0 h-full w-72 z-[100]","bg-black-300 shadow-2xl","transform transition-transform duration-200",{"translate-x-0":t,"-translate-x-full":!t}),children:(0,l.jsxs)("div",{className:"size-full flex flex-col pb-3",children:[(0,l.jsx)("section",{className:"flex flex-col px-3",children:(0,l.jsxs)("header",{className:"h-16 min-h-16 flex items-center justify-between gap-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(n.A,{isIconOnly:!0,size:"md",variant:"light",onClick:s,children:(0,l.jsx)(i.JO,{icon:"mdi:menu",className:"size-7"})}),(0,l.jsx)(x.B,{keepMemeDeck:!0})]}),(0,l.jsx)(n.A,{isIconOnly:!0,size:"md",radius:"full",variant:"light",onClick:v,children:a&&(0,l.jsx)(d.h,{size:"sm",name:a.name,src:a.avatar})})]})}),(0,l.jsx)("section",{className:"flex flex-1 min-h-0 px-3 overflow-y-auto",children:(0,l.jsx)(u._,{closeParentModal:s})})]})})]})};var p=s(84394),A=s(62300);let j=()=>{let[e,t]=(0,o.useState)(!1),s=(0,o.useCallback)(()=>{t(e=>!e)},[]);return(0,l.jsxs)("nav",{className:"h-16 border-b border-white-400/10 bg-black-500 sm:hidden xs:block px-3",children:[(0,l.jsxs)("div",{className:"flex size-full w-full items-center justify-between gap-3",children:[(0,l.jsx)(n.A,{isIconOnly:!0,size:"md",variant:"light",onClick:s,children:(0,l.jsx)(i.JO,{icon:"mdi:menu",className:"size-7"})}),(0,l.jsx)("div",{className:"flex flex-1 justify-center items-center",children:(0,l.jsxs)(a.default,{href:"/home",className:"flex items-center gap-1",children:[(0,l.jsx)(p.QB,{className:"w-28"}),(0,l.jsx)(p.Ud,{})]})}),(0,l.jsx)(n.A,{as:a.default,href:"/trending",isIconOnly:!0,variant:"light",radius:"full",children:(0,l.jsx)(r.default,{src:A.Z,alt:"Search",className:"size-6"})})]}),(0,l.jsx)(v,{isOpen:e,onToggle:s})]})}},10253:function(e,t,s){"use strict";s.d(t,{PromptToFeed:function(){return w}});var l=s(7590),i=s(15866),n=s(23143),r=s(82581),a=s(52308),o=s(95642),c=s(33358),d=s(3333),m=s(34239),u=s(62247);let h=()=>{let e=(0,n.useRouter)(),{data:t}=(0,d.iS)(),{panels:s,postId:h,isPosting:x,activePanel:f,onClickCancelPublish:g}=(0,m.C)(),v=(0,r.useMemo)(()=>s[0],[s]),p=(0,r.useMemo)(()=>v.local.isGenerating,[v]),A=(0,r.useCallback)(s=>{t&&(s.preventDefault(),s.stopPropagation(),e.push("/u/".concat(t.handle)))},[t,e]);return!h&&(p||x)?(0,l.jsx)("div",{className:"relative min-w-full max-w-full",children:(0,l.jsxs)("article",{className:(0,u.cn)("flex flex-col items-start justify-start","min-h-0 min-w-full max-w-full cursor-pointer gap-2 overflow-hidden border-b border-white-400/15 transition-colors hover:bg-black-400","px-3 pb-3 pt-2.5"),children:[t&&(0,l.jsx)(a.i,{by:t,isLoading:x,onProfileClick:A}),(0,l.jsx)("div",{className:(0,u.cn)("aspect-square size-full","flex items-center justify-center max-h-full max-w-full min-h-0","overflow-hidden rounded-xl"),children:f?(0,l.jsx)(c.a,{index:0,hideborder:!0}):(0,l.jsx)(i.c,{})}),(0,l.jsx)("footer",{className:"flex w-full flex-row items-center gap-2",children:(0,l.jsx)(o.I,{postId:"",user:{id:""},deckId:"feed",readOnly:!0,postVoteApi:()=>null,deleteVoteApi:()=>null})})]})}):null};var x=s(60453),f=s(70244),g=s(39886),v=s(64405),p=s(79604),A=s(15992);let j=()=>{let{activePanel:e,activePanelIdx:t,isGenerateDisabled:s,promptValue:i,onChangePromptValue:n,onClickGenerate:a}=(0,m.C)(),o=(0,r.useCallback)(()=>{e&&!s&&""!==i.trim()&&a(t,e)},[e,t,s,a,i]),{suggestion:c,onKeyDown:d}=(0,A.f)(i,n,o);return(0,l.jsxs)("div",{className:"flex flex-col gap-2 p-3 border-b border-b-white-400/10",children:[e?(0,l.jsx)(x.Y,{size:"lg",fullWidth:!0,placeholder:c,value:i,onKeyDown:d,onValueChange:n,classNames:{base:"w-full min-h-24 h-24 max-h-24",input:(0,u.cn)("min-h-full max-h-full","placeholder:opacity-70"),inputWrapper:"min-h-24 h-24 max-h-24 md:pb-6 bg-black-300 rounded-xl"},endContent:(0,l.jsx)(g.o,{})}):(0,l.jsx)("div",{className:"w-full h-24 bg-black-300 rounded-xl"}),(0,l.jsxs)("div",{className:"flex gap-3 min-h-8 max-h-8",children:[(0,l.jsxs)("div",{className:"flex flex-1 gap-1",children:[(0,l.jsx)(p.U,{isSmall:!0}),(0,l.jsx)(v.Z,{isSmall:!0})]}),(0,l.jsx)(f.A,{size:"sm",color:"primary",isDisabled:s||!e||""===i.trim(),onClick:o,children:(0,l.jsx)("h4",{children:"Generate"})})]})]})};var b=s(41245);let w=()=>{let{socket:e}=(0,b.s)({showToast:!1}),{currentData:t}=(0,d.iS)();return e&&t&&t.studio_config&&window.localStorage?(0,l.jsxs)(m.L,{socket:e,history:[],isGeneratingFromFeed:!0,profile:t,config:t.studio_config,queryParams:{memeId:void 0,remixMemeId:void 0,characterId:void 0,contestId:void 0},children:[(0,l.jsx)(j,{}),(0,l.jsx)(h,{})]}):(0,l.jsx)("div",{className:"w-full h-[161px] p-3 border-b border-b-white-400/10",children:(0,l.jsx)("div",{className:"w-full h-24 bg-white-400/5 rounded-xl"})})}},52308:function(e,t,s){"use strict";s.d(t,{i:function(){return b}});var l,i,n=s(7590),r=s(52124),a=s(67484),o=(s(64064),s(15866)),c=s(70244),d=s(69622),m=s(21059),u=s(99395),h=s(42739),x=s(60997),f=s(82581),g=s(3333),v=s(27391);(l=i||(i={})).Edit="edit",l.Delete="delete";let p=e=>{let{post:t,isLoading:s,isDisabled:l}=e,{onOpenPost:i}=(0,v.h)(),[r,{isLoading:a}]=(0,g.jn)(),p=(0,f.useCallback)(()=>i(t.id),[i,t]),A=(0,f.useMemo)(()=>[{key:"edit",label:"Edit",color:"default",startContent:(0,n.jsx)(d.JO,{className:"size-5",icon:"mdi:edit"}),onClick:p},{key:"delete",label:"Delete",color:"danger",startContent:(0,n.jsx)(d.JO,{className:"size-5",icon:"tabler:trash"}),onClick:()=>r(t.id)}],[r,p,t.id]);return(0,n.jsxs)(m.F,{classNames:{content:"min-w-0 w-auto"},children:[(0,n.jsx)(u.S,{children:a||s?(0,n.jsx)("div",{className:"flex items-center justify-center size-8",children:(0,n.jsx)(o.c,{size:"sm"})}):(0,n.jsx)(c.A,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:l,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,n.jsx)(d.JO,{className:"size-5",icon:"tabler:dots"})})}),(0,n.jsx)(h.a,{children:A.map(e=>(0,n.jsx)(x.W,{color:e.color,startContent:e.startContent,onClick:e.onClick,children:e.label},e.key))})]})};var A=s(10961),j=s(89405);let b=e=>{let{post:t,by:s,isLoading:l,onProfileClick:i,onClickCancel:d}=e;return(0,n.jsxs)("header",{className:"flex w-full items-center gap-2 min-h-8",children:[(0,n.jsxs)("div",{className:"flex flex-1 items-center gap-1.5 text-sm",children:[s&&(0,n.jsx)(r.z,{classNames:{base:"text-white-400/80 hover:text-white-400/100"},name:(0,n.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[s.handle,s.badge_image_url&&(0,n.jsx)(A.E,{content:"Kinode user",children:(0,n.jsx)(a.J,{src:s.badge_image_url,alt:"badge",className:"rounded-sm z-0",width:14,height:14})})]}),avatarProps:{src:s.avatar,className:"w-5 h-5 text-tiny"},onClick:i}),!l&&t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-stone-700 text-xs",children:"â€¢"}),(0,n.jsx)("div",{className:"text-white-400/40",children:(0,j.Po)(new Date(t.created_at))})]}),!1]}),l&&(0,n.jsxs)("div",{className:"flex items-center justify-center h-8 w-auto gap-4",children:[(0,n.jsx)(o.c,{size:"sm"}),d&&(0,n.jsx)(c.A,{color:"danger",size:"sm",onClick:d,children:"Cancel"})]}),!l&&t&&t.is_creator&&(0,n.jsx)(p,{post:t})]})}},7746:function(e,t,s){"use strict";s.d(t,{T:function(){return r}});var l=s(7590),i=s(70244),n=s(27613);let r=e=>{let{src:t,onClickShow:s}=e;return(0,l.jsxs)("div",{className:"absolute inset-0 bg-black/50 z-2 bg-white-400/10",onClick:e=>{e.stopPropagation(),e.preventDefault()},onMouseEnter:e=>{e.stopPropagation(),e.preventDefault()},children:[(0,l.jsx)(n.default,{src:t,alt:"NSFW",draggable:!1,className:"absolute z-0 inset-0 size-full object-cover blur-xl scale-[3]",width:640,height:640,sizes:"640px",quality:1,priority:!0}),(0,l.jsx)(i.A,{variant:"ghost",color:"danger",size:"sm",className:"p-1 font-medium z-3 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 backdrop-blur-sm",onClick:s,children:"Show"})]})}},23512:function(e,t,s){"use strict";s.d(t,{_:function(){return N}});var l=s(7590),i=s(69622),n=s(70244),r=s(82581),a=s(43833),o=s(81750),c=s(22595),d=s(50695),m=s(21990);let u=e=>{let{title:t,children:s,onScroll:i,onClose:n}=e;return(0,l.jsx)(o.R,{isOpen:!0,onOpenChange:n,children:(0,l.jsxs)(c.A,{className:"pb-4",children:[(0,l.jsx)(d.k,{className:"flex items-center gap-3 px-6",children:(0,l.jsx)("h3",{children:t})}),(0,l.jsx)(m.I,{className:"max-h-96 min-h-96 overflow-y-auto px-2 py-0",onScroll:i,children:s})]})})};var h=s(15866),x=s(3333),f=s(36572);let g=e=>{let{onClose:t}=e,[s,i]=(0,r.useState)(1),{data:n,isLoading:o,isFetching:c,isError:d}=(0,x.Ug)({start:0,limit:100*s,interval:f.u.Month}),m=(0,r.useCallback)(()=>{c||o||d||i(e=>{let t=!n||0===n.length,s=(null!=n?n:[]).length<100*e;return t||s?e:e+1})},[n,d,c,o]),g=(0,r.useCallback)(e=>{let{scrollLeft:t,clientWidth:s,scrollWidth:l}=e.currentTarget;t+s>=l-400&&m()},[m]),v=(0,r.useMemo)(()=>(null!=n?n:[]).filter(e=>e.title.length>0).filter(e=>!e.is_following&&!e.is_admin),[n]);return(0,l.jsx)(u,{title:"Explore Decks",onScroll:g,onClose:t,children:(0,l.jsxs)("div",{className:"flex flex-col size-full",children:[c||0!==v.length?v.map(e=>(0,l.jsx)(a.z,{deck:e,radius:"rounded-sm",onClickNavigate:t},e.id)):(0,l.jsx)("p",{className:"mx-4 text-tiny text-white-400/50 mt-1",children:"No more decks"}),c&&(0,l.jsx)("div",{className:"flex w-full justify-center p-3",children:(0,l.jsx)(h.c,{})})]})})};var v=s(25689),p=s(64064);let A=e=>{let{title:t,count:s,endContent:i,onClick:n}=e;return(0,l.jsxs)("header",{className:"h-10 mt-2 min-h-10 flex items-center justify-between border-b border-white-400/10",children:[(0,l.jsxs)(v.O,{className:"flex items-center gap-3 cursor-pointer",onClick:n,children:[(0,l.jsx)("h3",{className:"text-white-400 font-base",children:t}),s>0&&(0,l.jsx)(p.z,{size:"sm",variant:"flat",children:s})]}),i]})};var j=s(15659);let b=e=>{let{title:t,icon:s,onClick:n}=e;return(0,l.jsxs)("div",{className:"flex items-center gap-2 px-1.5 h-8 min-h-8 cursor-pointer",onClick:n,children:[(0,l.jsx)("div",{className:"flex items-center justify-center size-5",children:(0,l.jsx)(i.JO,{icon:s,className:"size-5 text-white-400/75"})}),(0,l.jsx)("span",{className:"text-white-400/75 text-sm",children:t})]})},w=e=>{let{isFetching:t,decks:s,collapsedLength:i,showAllTitle:n,newPostCounts:a,onClickShowAll:o}=e,[c,d]=(0,r.useState)(i),m=(0,r.useMemo)(()=>s.map(e=>{var t;return{...e,newPosts:null!==(t=null==a?void 0:a[e.id])&&void 0!==t?t:0}}).sort((e,t)=>t.newPosts!==e.newPosts?t.newPosts-e.newPosts:e.title.localeCompare(t.title)).slice(0,c),[s,a,c]),u=(0,r.useMemo)(()=>m.length<s.length,[s,m]),h=(0,r.useMemo)(()=>m.length<s.length&&s.length>i,[i,s.length,m.length]),x=(0,r.useMemo)(()=>m.length===s.length&&s.length>i,[i,s.length,m.length]),f=(0,r.useCallback)(()=>d(s.length),[s.length]),g=(0,r.useCallback)(()=>d(i),[i]);return(0,l.jsxs)("div",{className:"flex flex-col gap-1.5",children:[t?[1,2,3].map(e=>(0,l.jsx)(j.h,{},e)):0===m.length?(0,l.jsx)("p",{className:"text-tiny text-white-400/50 mt-1",children:"No decks"}):m.map(e=>{let{newPosts:t,...s}=e;return(0,l.jsx)(j.D,{deck:s,newPosts:t},s.id)}),u&&h&&(0,l.jsx)(b,{title:"Show more",icon:"mdi:chevron-down",onClick:f}),x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b,{title:n,icon:"tabler:list",onClick:o}),(0,l.jsx)(b,{title:"Show less",icon:"mdi:chevron-up",onClick:g})]})]})};var k=s(52494);let N=e=>{var t,s;let{closeParentModal:o}=e,c=(0,x.iS)(),d=(0,x.m4)(),{isCreating:m,onClickNewDeck:h}=(0,k.W)(),[f,v]=(0,r.useState)(!1),[p,j]=(0,r.useState)(!1),[b,N]=(0,r.useState)(!1),y=(0,r.useMemo)(()=>d.currentData,[d.currentData]),C=(0,r.useMemo)(()=>{var e,t;return Object.values(null!==(t=null===(e=c.currentData)||void 0===e?void 0:e.decks)&&void 0!==t?t:{}).filter(e=>e.is_creator||e.is_admin)},[null===(t=c.currentData)||void 0===t?void 0:t.decks]),P=(0,r.useMemo)(()=>C.filter(e=>e.title.length>0).sort((e,t)=>{var s,l;return new Date(null!==(s=t.updated_at)&&void 0!==s?s:t.created_at).getTime()-new Date(null!==(l=e.updated_at)&&void 0!==l?l:e.created_at).getTime()}),[C]),S=(0,r.useMemo)(()=>{var e,t;return Object.values(null!==(t=null===(e=c.currentData)||void 0===e?void 0:e.decks)&&void 0!==t?t:{}).filter(e=>e.is_following&&!e.is_creator)},[null===(s=c.currentData)||void 0===s?void 0:s.decks]),z=(0,r.useMemo)(()=>y?S.slice().filter(e=>!e.is_admin).sort((e,t)=>{var s,l,i,n;let r=null!==(s=y[e.id])&&void 0!==s?s:0,a=null!==(l=y[t.id])&&void 0!==l?l:0;return a!==r?a-r:(null!==(i=t.follower_count)&&void 0!==i?i:0)-(null!==(n=e.follower_count)&&void 0!==n?n:0)}):S,[S,y]);return c.currentData||c.isFetching?(0,l.jsxs)("div",{className:"flex flex-col gap-1 size-full",children:[(0,l.jsx)(A,{title:"My Decks",count:C.length,endContent:(0,l.jsx)(n.A,{size:"sm",isIconOnly:!0,variant:"light",isLoading:m,onClick:()=>{h(),null==o||o()},children:(0,l.jsx)(i.JO,{icon:"mdi:plus",className:"size-6 text-white-400/75"})}),onClick:()=>{v(!0),null==o||o()}}),(0,l.jsx)(w,{isFetching:c.isLoading,decks:P,collapsedLength:3,newPostCounts:y,showAllTitle:"All decks",onClickShowAll:()=>{v(!0),null==o||o()}}),(0,l.jsx)(A,{title:"Following",count:S.length,endContent:(0,l.jsx)(n.A,{size:"sm",isIconOnly:!0,variant:"light",onClick:()=>{N(!0),null==o||o()},children:(0,l.jsx)(i.JO,{icon:"mdi:search",className:"size-5 text-white-400/75"})}),onClick:()=>{j(!0),null==o||o()}}),(0,l.jsx)(w,{isFetching:c.isLoading,decks:S,collapsedLength:10,newPostCounts:y,showAllTitle:"All following",onClickShowAll:()=>{j(!0),null==o||o()}}),f&&(0,l.jsx)(u,{title:"My Decks",onClose:()=>v(!1),children:(0,l.jsxs)("div",{className:"flex flex-col size-full",children:[0===P.length&&(0,l.jsx)("p",{className:"mx-4 text-sm text-white-400/50 mt-1",children:"No decks"}),P.map(e=>(0,l.jsx)(a.z,{deck:e,metric:"followers",radius:"rounded-sm",onClickNavigate:()=>v(!1)},"".concat(e.id,"-").concat(e.cover_photo)))]})}),p&&(0,l.jsx)(u,{title:"Following",onClose:()=>j(!1),children:(0,l.jsxs)("div",{className:"flex flex-col size-full",children:[0===z.length&&(0,l.jsx)("p",{className:"mx-4 text-sm text-white-400/50 mt-1",children:"No decks"}),z.map(e=>(0,l.jsx)(a.z,{deck:e,metric:"followers",radius:"rounded-sm",onClickNavigate:()=>j(!1)},e.id))]})}),b&&(0,l.jsx)(g,{onClose:()=>N(!1)}),(0,l.jsx)("div",{className:"w-full h-3 min-h-3"})]}):null}},17256:function(e,t,s){"use strict";s.d(t,{c:function(){return f}});var l=s(7590),i=s(70244),n=s(27613),r=s(4763),a=s(82581);let o=[{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/1.8823d877.png",height:400,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEUwECpnToZJLk5PFTY7EjBlS3FfM2guDykqDCU8HEBhHUa5V4+zLXNuRnW+RJBNM1txXoiQKWLIXah7T3KBKVJsT4lFK2NZN3f/bKwsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAP0lEQVR4nCXGSRKAIAwAwUECSdjE/f8/tSz71Kjizke2sdcIWlob9RRUSu5HBMxzTwYqvqbF4H7yn3CFOYPbC0QLAfmn2m20AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},color:"#2E102A"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/2.185f5c03.png",height:1198,width:1162,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAXVBMVEUgSH05V1qUgHw4VGq2hHFIYHpAWE5HNToZKy5APUUBHShDQlJlRkYfLTiQcWt3T04kP2N9dHlATGaiiH4pKjRASUNtT1UwLDULKz4vQzdcWmQnSXgpT3ijdXI2KjOJ1AnkAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAQklEQVR4nBXGRRLAMAwEsA3aDpe5/39mJjoJyt96cgBUpLJoAM4Q2R3A236yH4ZYbXlGWqoiM8wZcjrWDZ5DFuarA06dAn19AigzAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},color:"#21487D"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/3.43776601.png",height:880,width:880,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAS1BMVEUhGhFOSTrAvJ9yblw/OS3NxLo1MiwqIxrY1a/MyKdLTEtfW0x6cmDWzMTQzqehmI25s5Kjn4KRj3ivq45ZU0Ph3rqEg2+OnrTFwqOrsAGwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAP0lEQVR4nAXBhwHAIAzAMDOTsKHr/08rUUSA8pFFYqhkROL1WIA7VtU3bNSOqvcDt3WYLYfQbHmXaTP11NP8AUkWAiGbEG7EAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},color:"#D0CCA9"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/4.a25addea.png",height:400,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAclBMVEWxytHK0sjNycCCjIvtyKSrx9G61NrD0MzArqKfmI+4s8HPycliUkyuoak6NS4+QS+xlpVTdFibjpWIcWW9zcvX2M28x8E+JBOYk6tCWkDdtIyMgYt/cXtLlHD+1KfOrZLTspjKtKtMXkOej367tMKigGtkNwxvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARUlEQVR4nAXBhQGAMAADsI65G+76/4sk4BxCAEArJaU9kSCdDk6rBo1VM1PJwnjD9iu9GJf1OH0pcPFmT6gaw7TlHL/6A2CTA5qj0o+1AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},color:"#BDB9C3"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/5.622e0a3d.png",height:400,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAaVBMVEX+597hycD54tgDEQny3dQlMCdKTELq1MpXVkoTGxOMfnO1mH6ii2u0n5dGLxx8aVSwjnQqGxSRh3tBPSxXSTfGu6DSvLSLXjpyWDnJjoNVPydDIReaYDK1gUdlFg1tSSzdqH7x2bi2dVxKpx53AAAACXBIWXMAAAsTAAALEwEAmpwYAAAARElEQVR4nAXBBQLAIAwEsENbHOZu/3/kEkjBxlgCpFfOqQ7Q7NzQW4LkPIfIAkjL+Y6BoHU5njoRkFqO30rwbbvLftUfVrcDKlF8AaEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},color:"#AF7A43"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/6.b62b0cfc.png",height:400,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAflBMVEWMrsd2lqCKqLq4urBZhqeGloNuoseLm5y5rYp5m7Gaqaaam462pHTRrHVUiLaMhE7BwcXVwamnq6d2tM2wwMyOp8GsvMeEjpK8rrpXcoO6r6WRh22Alaa8sJ+ql3JYYkJqmrSbi2WgnHmLoK+Uq7fImE5ugZFqfnI6b7RCeLfQLl+CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARklEQVR4nAXBhQGAMAADsI654+7O/w+SgEvG9GkdwvfEyKHx3pf385ggcLepoQPWY19swwTMpPq20gmkojUleQppijIjAj+aCQP33BRGfAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},color:"#7197BD"}],c=e=>{let{index:t,avatar:s}=e;return(0,l.jsx)(n.default,{src:s.src,draggable:!1,priority:!0,quality:50,style:{background:s.color},alt:"avatar ".concat(t),className:"size-9 rounded-full border-2 border-white-400 ".concat(t>0?"-ml-1":""),width:38,height:38})};var d=s(62247);let m=e=>{let{children:t,isOpen:s,onClose:i}=e;return s?(0,l.jsx)("div",{className:(0,d.cn)("flex items-center justify-center","fixed inset-0 z-50","bg-white-100 size-full max-h-full min-h-0 overflow-y-auto overflow-x-hidden p-4"),onClick:i,children:(0,l.jsxs)("div",{className:"glow bg-black-400 relative flex w-full max-w-md flex-col items-center gap-6 rounded-lg px-6 pb-8 pt-6 shadow-lg",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("header",{className:"relative flex w-full items-center justify-between"}),(0,l.jsx)("div",{children:t})]})}):null};var u=s(12173),h=s(92782),x=s(57031);let f=e=>{let{isOpen:t,onClose:s}=e,d=(0,a.useMemo)(()=>{let e=(0,h.bd)();return"".concat((0,h.bR)(),"/v2/auth/twitter/login?redirect_url=").concat(e)},[]);return(0,l.jsx)(m,{isOpen:t,onClose:s,children:(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("h1",{className:"mb-6 text-center text-3xl font-bold",children:x.K7}),(0,l.jsx)("p",{className:"text-center text-lg text-white-400/75",children:x.vk}),(0,l.jsx)("div",{className:"relative my-6 flex items-center justify-center select-none",children:o.map((e,t)=>(0,l.jsx)(c,{index:t,avatar:e},t))}),(0,l.jsxs)(i.A,{as:r.default,className:"my-6 flex items-center justify-center gap-2 rounded-2xl bg-blue-500 px-5 py-1 text-sm",href:d,children:[(0,l.jsx)("p",{className:"text-lg",children:"Login with"}),(0,l.jsx)(n.default,{src:u.Z,alt:"x",className:"w-5"})]})]})})}},61784:function(e,t,s){"use strict";s.d(t,{HN:function(){return o},KS:function(){return v},Rs:function(){return m},TU:function(){return a},dZ:function(){return x},et:function(){return f},it:function(){return d},lf:function(){return g},rP:function(){return c},tK:function(){return r},uJ:function(){return h},yZ:function(){return u}});var l=s(4417),i=s(36572);let n={searchInterval:i.u.Week,searchSortBy:i.a.Hot,contestEntryIndex:0,isSignupModalOpen:!1,isHovering:!1},r=(0,l.oM)({name:"appSlice",initialState:n,reducers:e=>({setSearchInterval:e.reducer((e,t)=>{e.searchInterval=t.payload}),setSearchSortBy:e.reducer((e,t)=>{e.searchSortBy=t.payload}),setContestEntryIndex:e.reducer((e,t)=>{e.contestEntryIndex=t.payload}),openSignupModal:e.reducer(e=>{e.isSignupModalOpen=!0}),closeSignupModal:e.reducer(e=>{e.isSignupModalOpen=!1}),setIsHovering:e.reducer((e,t)=>{e.isHovering=t.payload})}),selectors:{selectSearchInterval:e=>e.searchInterval,selectSearchSortBy:e=>e.searchSortBy,selectContestEntryIndex:e=>e.contestEntryIndex,selectIsSignupModalOpen:e=>e.isSignupModalOpen,selectIsHovering:e=>e.isHovering}}),{setSearchInterval:a,setSearchSortBy:o,setContestEntryIndex:c,openSignupModal:d,closeSignupModal:m,setIsHovering:u}=r.actions,{selectSearchInterval:h,selectSearchSortBy:x,selectContestEntryIndex:f,selectIsSignupModalOpen:g,selectIsHovering:v}=r.selectors},27391:function(e,t,s){"use strict";s.d(t,{PostModalProvider:function(){return d},h:function(){return m}});var l=s(7590),i=s(23143),n=s(82581),r=s(41612),a=s(86960),o=s(84187);let c=(0,n.createContext)({}),d=e=>{let{params:t,children:s}=e,{postId:n}=(0,o.d)({params:t,key:"postId"}),d=(0,i.useSearchParams)().get("postId"),m=n.length>0?n:d,{openLightBox:u,closeLightBox:h}=(0,a.e)();return(0,l.jsxs)(c.Provider,{value:{onOpenPost:e=>u({postId:e}),onClosePost:h},children:[s,m&&(0,l.jsx)(r.e,{postId:m,onClose:h})]})},m=()=>{let e=(0,n.useContext)(c);if(void 0===e)throw Error("usePostModal must be used within PostModalProvider");return e}},68908:function(e,t,s){"use strict";s.d(t,{UploadProvider:function(){return v},V:function(){return p}});var l=s(7590),i=s(23143),n=s(72655),r=s(82581),a=s(24580),o=s(70244);let c=e=>{let{text:t,textButton:s,onClick:i}=e;return(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[t,s&&i&&(0,l.jsx)(o.A,{variant:"solid",color:"success",size:"sm",className:"text-white-400",onClick:i,children:s})]})};var d=s(86960),m=s(61784),u=s(3333),h=s(32701);let x=e=>{let t=new FileReader;return new Promise((s,l)=>{t.onload=e=>{var t;let i=null===(t=e.target)||void 0===t?void 0:t.result;if(!i){l(Error("Failed to read file"));return}s(new Uint8Array(i))},t.onerror=()=>l(t.error),t.readAsArrayBuffer(e)})};var f=s(89405);let g=(0,r.createContext)({}),v=e=>{let{children:t}=e,s=(0,i.useRouter)(),{openLightBox:o}=(0,d.e)(),v=(0,a.I0)(),[p]=(0,u.V4)(),[A,j]=(0,r.useState)([]),[b,w]=(0,r.useState)(),[k,N]=(0,r.useState)(!1),y=(0,r.useCallback)(async e=>{try{(0,n.sy)();let t=e.name.slice(0,20),l=(0,n.yv)("Uploading ".concat(t),{variant:"info",persist:!0});w(l);let i=await x(e),r=Array.from(new Uint8Array(i)),a=(await p({filename:(0,f.Df)(e.name),filetype:e.type,bytes:r})).data;if(!a)throw Error("Failed to upload");a.id,(0,n.sy)(b),w(void 0),s.push("/library/uploads")}catch(e){console.error(e),w(void 0),(0,n.sy)(),(0,n.yv)("Failed to upload some memes",{variant:"error"})}},[b,p,s]),C=(0,r.useCallback)(async e=>{try{let t=(0,f.Df)(e),s=t.slice(0,20),i=(0,n.yv)("Uploading ".concat(s),{variant:"info",persist:!0});w(i);let r=(await p({filename:t,filetype:"image",source_url:e})).data;if(!r)throw Error("Failed to paste link");j(e=>[r,...e]),(0,n.sy)(b),w(void 0);let a=(0,n.yv)((0,l.jsx)(c,{text:"Successfully pasted link",textButton:"View",onClick:()=>{(0,n.sy)(a),o({postId:r.id})}}),{variant:"success",autoHideDuration:3e3})}catch(e){console.error(e),(0,n.yv)("Failed to paste link",{variant:"error"})}},[b,o,p]),P=(0,r.useMemo)(()=>(0,h.k)(y,1e3),[y]),S=(0,r.useCallback)(async e=>{if(void 0===b){if(e.size>33554432){(0,n.yv)("Please upload files 32MB or less",{variant:"error"});return}return P(e)}},[P,b]),z=(0,r.useCallback)(async e=>{if(e.clipboardData){let t=e.clipboardData.items;for(let e=0;e<t.length;e++){let s=t[e];if(s.type.includes("image")){let e=s.getAsFile();e&&await S(e)}}}},[S]);(0,r.useEffect)(()=>(window.addEventListener("paste",z),()=>{window.removeEventListener("paste",z)}),[z]);let E=(0,r.useCallback)(async e=>{if(!(e.dataTransfer.items.length>0)||!e.dataTransfer.items[0].type.includes("image"))return!1;e.preventDefault(),v((0,m.yZ)(!1)),N(!0);let t=e.dataTransfer.files;try{for(let e=0;e<t.length;e++){let s=t[e];s.type.includes("image")&&await S(s)}}catch(e){console.error(e)}finally{N(!1)}},[v,S]);return(0,l.jsx)(g.Provider,{value:{uploads:A,setUploads:j,startUpload:S,pasteImageLink:C,isBatchUploading:k},children:(0,l.jsx)("div",{className:"flex min-h-0 w-full min-w-0 flex-1",onDragOver:e=>{e.preventDefault(),e.dataTransfer.items.length>0&&e.dataTransfer.items[0].type.includes("image")&&(0,m.yZ)(!0)},onDragLeave:()=>(0,m.yZ)(!1),onDrop:E,children:t})})},p=()=>{let e=(0,r.useContext)(g);if(void 0===e)throw Error("useFeed must be used within UploadProvider");return e}}},function(e){e.O(0,[8437,2138,244,116,7482,8236,9447,417,7847,2305,9101,774,4494,9738,7273,4483,4081,6244,7832,9334,7421,3495,3051,3244,5452,6218,8149,3333,3585,6939,8970,3998,7814,1744],function(){return e(e.s=57009)}),_N_E=e.O()}]);