(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1556],{98044:function(e,t,r){Promise.resolve().then(r.t.bind(r,23608,23)),Promise.resolve().then(r.bind(r,47285)),Promise.resolve().then(r.bind(r,56208)),Promise.resolve().then(r.bind(r,15623)),Promise.resolve().then(r.t.bind(r,17679,23)),Promise.resolve().then(r.t.bind(r,11884,23)),Promise.resolve().then(r.t.bind(r,93116,23)),Promise.resolve().then(r.t.bind(r,54689,23)),Promise.resolve().then(r.bind(r,13582)),Promise.resolve().then(r.bind(r,35971)),Promise.resolve().then(r.bind(r,96622)),Promise.resolve().then(r.bind(r,71402)),Promise.resolve().then(r.bind(r,70520)),Promise.resolve().then(r.bind(r,82033))},29492:function(e,t,r){"use strict";r.d(t,{Ud:function(){return f},hd:function(){return u},Ew:function(){return d},QB:function(){return m}});var n=r(57348),l=r(52053),s=r(45155),i=r(13881),a={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo.a86b8f2b.svg",height:256,width:256,blurWidth:0,blurHeight:0},o=r(21008),c=r(62568);let u=()=>(0,n.jsx)("div",{className:"flex h-16 select-none items-center justify-center lg:px-2 lg:text-left",children:(0,n.jsxs)(i.default,{href:"/home",children:[(0,n.jsxs)("div",{className:"hidden gap-1 items-center lg:flex",children:[(0,n.jsx)(m,{}),(0,n.jsx)(f,{})]}),(0,n.jsx)("div",{className:"lg:hidden",children:(0,n.jsx)(d,{})})]})}),d=()=>(0,n.jsx)(s.default,{src:a,alt:"".concat(c.jG," Icon"),"aria-label":"".concat(c.jG," - ").concat(c.vk),className:"h-10 min-w-10 w-full select-none"}),m=e=>{let{className:t="h-12 w-auto"}=e;return(0,n.jsx)(s.default,{priority:!0,src:o.Z,alt:"".concat(c.jG," Logo"),"aria-label":"".concat(c.jG," - ").concat(c.vk),className:t,draggable:!1})},f=()=>(0,n.jsx)(l.z,{size:"sm",color:"warning",classNames:{base:"mb-0.5 text-yellow-400 bg-yellow-50 border-1 border-yellow-400/10"},children:"Alpha"})},19935:function(e,t,r){"use strict";r.d(t,{F:function(){return c}});var n=r(57348),l=r(67425),s=r(45155),i=r(16189),a=r(71402),o=r(73139);let c=e=>{let{title:t="Generate",variant:r="shadow",color:c="primary",size:u="lg",queryParam:d="",className:m="mt-3 md:w-full min-w-[50px] rounded-full",innerClassName:f="lg:px-4",iconSize:h="size-6"}=e,x=(0,i.useRouter)(),{profile:v,setIsSignupModalOpen:b}=(0,a.useProfile)();return(0,n.jsx)(l.A,{type:"button",variant:r,color:c,className:m,size:u,radius:"full",disableRipple:!0,isIconOnly:!0,onClick:()=>{if(!v){b(!0);return}x.push("/studio".concat(d))},children:(0,n.jsxs)("div",{className:"flex gap-2 items-center justify-center w-full ".concat(f),children:[(0,n.jsx)(s.default,{src:o.Z,alt:"Generate",className:h}),(0,n.jsx)("h1",{className:"hidden lg:block text-base truncate",children:t})]})})}},19689:function(e,t,r){"use strict";r.d(t,{D:function(){return s}});var n=r(57348),l=r(15346);let s=e=>{let{id:t,children:r,border:s="border border-white-400/10",bg:i="bg-black-300",padding:a="px-4",height:o="h-10",cursor:c="cursor-pointer",className:u,disabled:d,onClick:m,onClickOutside:f}=e;return(0,l.useEffect)(()=>{if(f){let e=e=>{e.target.id!==t&&f()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}},[t,f]),(0,n.jsx)("button",{id:t,className:"flex select-none items-center gap-2 rounded-full ".concat(o," ").concat(a," ").concat(s," ").concat(c," ").concat(i," ").concat(u),disabled:d,onClick:m,children:r})}},47285:function(e,t,r){"use strict";r.r(t),r.d(t,{MenuDesktop:function(){return p}});var n=r(57348),l=r(16189),s=r(71402),i=r(19935),a=r(45155),o=r(15346),c={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/ellipsis.a4814300.svg",height:10,width:49,blurWidth:0,blurHeight:0},u=r(35878);let d=e=>{let{items:t,position:r="absolute inset-x-0 -top-16",width:l="w-auto",itemPadding:s="px-2"}=e;return(0,n.jsx)("div",{id:"profile-dropdown",className:"border-white-400/10 bg-black-300 z-10 mb-2 flex cursor-default flex-col items-center rounded-lg border py-2 drop-shadow ".concat(r," ").concat(l),children:t.map((e,t)=>(0,n.jsx)("button",{className:"hover:bg-black-400 w-full cursor-pointer text-left text-sm font-semibold leading-10 ".concat(s),onClick:e.onClick,children:(0,n.jsx)("p",{className:"truncate ".concat("danger"===e.type?"text-red-500":""),children:e.label})},"dropdown-item-".concat(e.label,"-").concat(t)))})};var m=r(19689);let f=e=>{let{profile:t}=e,[r,l]=(0,o.useState)(!1),s=t.twitter_profile,i=e=>{let t=e.target;t.closest("#profile-pill")||t.closest("#profile-dropdown")||l(!1)};return(0,n.jsxs)(m.D,{id:"profile-pill",padding:"px-2 lg:px-4",bg:"bg-none hover:bg-stone-900",border:"border-1 border-white-400/0 hover:border-white-400/10",className:"relative mb-4 h-12 max-w-52 justify-center gap-3 transition-all duration-300",onClick:()=>(l(!0),document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}),children:[(0,n.jsx)(a.default,{src:s.profile_image_url_https,alt:s.name,className:"rounded-full lg:-ml-2",width:32,height:32}),(0,n.jsx)("p",{className:"hidden flex-1 truncate text-sm font-medium lg:flex",children:s.name}),(0,n.jsx)(a.default,{src:c,alt:"Account",className:"hidden w-4 lg:flex"}),r&&(0,n.jsx)(d,{items:[{label:"Log out @".concat(s.screen_name),onClick:()=>{u.P.logout().then(()=>{window.location.reload()})}}]})]})};var h=r(29492),x=r(53350),v=r(12854);let b=e=>{let{tab:t,pathname:r}=e,i=(0,l.useRouter)(),{profile:a,setIsSignupModalOpen:o}=(0,s.useProfile)(),c=(0,v.c1)(t,null==a?void 0:a.twitter_profile.screen_name),u=r.startsWith(c),d=(0,v.br)(t,u);return(0,n.jsx)("div",{className:"tab py-2 cursor-pointer",onClick:()=>{let e=(0,v.W1)(t);if(!a&&!e){o(!0);return}i.push(c)},children:(0,n.jsxs)("div",{className:"tab-pill inline-flex size-12 w-full items-center justify-center rounded-full select-none lg:min-w-44 lg:justify-normal lg:px-4 ".concat(u?"active border border-blue-500 bg-blue-100":"border border-black-0"),children:[(0,n.jsx)("div",{className:"flex size-6 items-center justify-center",children:(0,n.jsx)(x.JO,{icon:d,color:u?"rgb(147 197 253)":"white",className:"flex size-6"})}),(0,n.jsx)("h2",{className:"mx-3 ".concat(u?"text-blue-300":"text-stone-200"," hidden text-md lg:block"),children:t})]})})},p=()=>{let e=(0,l.usePathname)(),{profile:t}=(0,s.useProfile)();return(0,n.jsx)("aside",{className:"relative hidden w-12 min-w-12 sm:flex lg:w-52 lg:min-w-52",children:(0,n.jsxs)("div",{className:"fixed inset-y-0 flex flex-col w-12 lg:w-auto",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)(h.hd,{}),(0,n.jsx)("div",{className:"relative mb-4 mt-2 flex flex-1 flex-col",children:Object.values(v.mQ).map(t=>(0,n.jsx)(b,{tab:t,pathname:e},t))}),(0,n.jsx)(i.F,{})]}),t&&(0,n.jsx)(f,{profile:t})]})})}},56208:function(e,t,r){"use strict";r.r(t),r.d(t,{MenuMobile:function(){return d}});var n=r(57348),l=r(16189),s=r(19935),i=r(53350),a=r(5070),o=r(71402),c=r(12854);let u=e=>{let{tab:t,pathname:r}=e,s=(0,l.useRouter)(),{profile:u,setIsSignupModalOpen:d}=(0,o.useProfile)(),m=(0,c.c1)(t,null==u?void 0:u.twitter_profile.screen_name),f=r.startsWith(m),h=(0,c.br)(t,f),x=null;return x=t===c.mQ.Profile?(0,n.jsx)(a.h,{size:"sm",className:"!size-7 ".concat(f?"border-1.5 border-blue-500":""),src:null==u?void 0:u.twitter_profile.profile_image_url_https}):(0,n.jsx)(i.JO,{icon:h,color:f?"rgb(147 197 253)":"white",className:"flex size-6"}),(0,n.jsx)("button",{className:"flex flex-1 justify-center",onClick:()=>{let e=(0,c.W1)(t);if(!u&&!e){d(!0);return}s.push(m)},children:(0,n.jsx)("div",{className:"inline-flex h-16 items-center justify-center rounded-full",children:x})})},d=()=>{let e=(0,l.usePathname)();return(0,n.jsxs)("nav",{className:"fixed inset-x-0 px-3 bottom-0 z-50 h-16 border-t border-white-400/10 bg-black-400 sm:hidden xs:fixed",children:[(0,n.jsx)("div",{className:"flex w-full items-center justify-center gap-3",children:Object.values(c.mQ).map(t=>(0,n.jsx)(u,{tab:t,pathname:e},t))}),(0,n.jsx)("div",{className:"fixed bottom-20 right-4 sm:right-6 block sm:hidden size-12",children:(0,n.jsx)(s.F,{className:"mt-0 size-16"})})]})}},12854:function(e,t,r){"use strict";var n,l;function s(e){return"Trending"===e}r.d(t,{W1:function(){return s},br:function(){return i},c1:function(){return a},mQ:function(){return n}}),(0,r(75952).Cb)("all"),(l=n||(n={})).Home="Home",l.Trending="Trending",l.Library="My Library",l.Profile="Profile";let i=(e,t)=>{switch(e){case"Home":return t?"fluent:home-24-filled":"fluent:home-24-regular";case"Trending":return t?"ph:fire-fill":"ph-fire";case"My Library":return t?"fluent:emoji-meme-24-filled":"fluent:emoji-meme-24-regular";case"Profile":return t?"fluent:person-24-filled":"fluent:person-24-regular"}},a=(e,t)=>{switch(e){case"Home":return"/home";case"Trending":return"/trending";case"My Library":return"/library";case"Profile":if(!t)return"/home";return"/u/".concat(t)}}},77623:function(e,t,r){"use strict";r.d(t,{T:function(){return s}});var n=r(16189),l=r(93276);let s=()=>{let e=(0,n.useRouter)(),t=(0,n.usePathname)(),r=(0,n.useSearchParams)(),s=e=>{let n=encodeURIComponent(e.replace("meme:",""));if(["/home","/trending"].includes(t))return"".concat(t,"/").concat(n);{let e=new URLSearchParams(r.toString());return e.set("memeId",n),(0,l.wS)(t,e)}};return{openMemeModal:t=>{let r=s(t);e.push(r,{scroll:!1})},getMemeModalPath:s}}},96622:function(e,t,r){"use strict";r.r(t),r.d(t,{MemeModalProvider:function(){return u},useMemeModal:function(){return d}});var n=r(57348),l=r(16189),s=r(15346),i=r(13214),a=r(77623),o=r(93276);let c=(0,s.createContext)({}),u=e=>{var t;let{children:r}=e,s=(0,l.useRouter)(),u=(0,l.usePathname)(),d=(0,l.useSearchParams)(),m=decodeURIComponent(null!==(t=d.get("memeId"))&&void 0!==t?t:""),f=new URLSearchParams(d.toString()),{openMemeModal:h}=(0,a.T)(),x=()=>{f.delete("memeId");let e=(0,o.wS)(u,f);s.push(e,{scroll:!1})};return(0,n.jsxs)(c.Provider,{value:{onOpenMeme:h,onCloseMeme:x},children:[r,m&&(0,n.jsx)(i.k,{memeId:m,onClose:x})]})},d=()=>{let e=(0,s.useContext)(c);if(void 0===e)throw Error("useFeed must be used within MemeModalProvider");return e}},70520:function(e,t,r){"use strict";r.r(t),r.d(t,{UIProvider:function(){return s}});var n=r(57348),l=r(38830);function s(e){let{children:t}=e;return(0,n.jsx)(l.w,{className:"flex min-h-0 w-full min-w-0 flex-1",children:t})}},82033:function(e,t,r){"use strict";r.r(t),r.d(t,{UploadProvider:function(){return b},useUpload:function(){return p}});var n=r(57348),l=r(16189),s=r(12465),i=r(15346),a=r(67425);let o=e=>{let{text:t,textButton:r,onClick:l}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[t,r&&l&&(0,n.jsx)(a.A,{variant:"solid",color:"success",size:"sm",className:"text-white-400",onClick:l,children:r})]})};var c=r(77623),u=r(35971),d=r(71402),m=r(35878),f=r(74859);let h=e=>{let t=new FileReader;return new Promise((r,n)=>{t.onload=e=>{var t;let l=null===(t=e.target)||void 0===t?void 0:t.result;if(!l){n(Error("Failed to read file"));return}r(new Uint8Array(l))},t.onerror=()=>n(t.error),t.readAsArrayBuffer(e)})};var x=r(81727);let v=(0,i.createContext)({}),b=e=>{let{children:t}=e,r=(0,l.useRouter)(),{openMemeModal:a}=(0,c.T)(),{isPostingMemes:b,setIsHovering:p}=(0,d.useProfile)(),{onUploadMeme:g}=(0,u.useFeed)(),[w,j]=(0,i.useState)([]),[y,k]=(0,i.useState)(),[P,N]=(0,i.useState)(!1),C=(0,i.useCallback)(async e=>{try{(0,s.sy)();let t=e.name.slice(0,20),r=(0,s.yv)("Uploading ".concat(t),{variant:"info",persist:!0});k(r);let l=await h(e),i="",c=await m.P.postMeme({filename:(0,x.Df)(e.name),filetype:e.type,bytes:l});if(!c)throw Error("Failed to upload");i=c.id;let u={...c,votes:{up:[],down:[]}};j(e=>[u,...e]),g(u),(0,s.sy)(y),k(void 0);let d=(0,s.yv)((0,n.jsx)(o,{text:"Successfully uploaded",textButton:"View",onClick:()=>{(0,s.sy)(d),a(i)}}),{variant:"success",autoHideDuration:3e3})}catch(e){console.error(e),k(void 0),(0,s.sy)(),(0,s.yv)("Failed to upload some memes",{variant:"error"})}},[y,a,g,j]),_=(0,i.useCallback)(async e=>{try{let t=(0,x.Df)(e),r=t.slice(0,20),l=(0,s.yv)("Uploading ".concat(r),{variant:"info",persist:!0});k(l);let i=await m.P.postMeme({filename:t,filetype:"image",source_url:e});if(!i)throw Error("Failed to paste link");j(e=>[i,...e]),g(i),(0,s.sy)(y),k(void 0);let c=(0,s.yv)((0,n.jsx)(o,{text:"Successfully pasted link",textButton:"View",onClick:()=>{(0,s.sy)(c),a(i.id)}}),{variant:"success",autoHideDuration:3e3})}catch(e){console.error(e),(0,s.yv)("Failed to paste link",{variant:"error"})}},[y,a,g]),M=(0,i.useMemo)(()=>(0,f.k)(C,1e3),[C]),z=(0,i.useCallback)(async e=>{if(void 0===y){if(e.size>33554432){(0,s.yv)("Please upload files 32MB or less",{variant:"error"});return}return M(e)}},[M,y]),E=(0,i.useCallback)(async e=>{if(e.clipboardData){let t=e.clipboardData.items;for(let e=0;e<t.length;e++){let r=t[e];if(r.type.includes("image")){let e=r.getAsFile();e&&await z(e)}}}},[z]);(0,i.useEffect)(()=>(window.addEventListener("paste",E),()=>{window.removeEventListener("paste",E)}),[E]);let L=async e=>{if(!(e.dataTransfer.items.length>0)||!e.dataTransfer.items[0].type.includes("image"))return!1;e.preventDefault(),p(!1),N(!0);let t=e.dataTransfer.files;try{for(let e=0;e<t.length;e++){let r=t[e];r.type.includes("image")&&await z(r)}b||r.push("/library")}catch(e){console.error(e)}finally{N(!1)}};return(0,n.jsx)(v.Provider,{value:{uploads:w,setUploads:j,startUpload:z,pasteImageLink:_,isBatchUploading:P},children:(0,n.jsx)("div",{className:"flex min-h-0 w-full min-w-0 flex-1",onDragOver:e=>{e.preventDefault(),e.dataTransfer.items.length>0&&e.dataTransfer.items[0].type.includes("image")&&p(!0)},onDragLeave:()=>p(!1),onDrop:L,children:t})})},p=()=>{let e=(0,i.useContext)(v);if(void 0===e)throw Error("useFeed must be used within UploadProvider");return e}},62568:function(e,t,r){"use strict";r.d(t,{K7:function(){return s},jG:function(){return l},vk:function(){return i}});var n=r(54167);let l="MemeDeck",s="Meme With Frens",i="Create & discover memes with AI.";"".concat(l," â€“ ").concat(s),new URL(n.j7?"http://localhost:8080":"https://memedeck.xyz")},23608:function(){},21008:function(e,t){"use strict";t.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo-wide.572ec4d3.svg",height:256,width:702,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[7398,2221,4175,454,2872,9154,3881,7686,1133,6440,312,4822,6378,9581,8830,9491,5878,412,3214,937,7114,1744],function(){return e(e.s=98044)}),_N_E=e.O()}]);