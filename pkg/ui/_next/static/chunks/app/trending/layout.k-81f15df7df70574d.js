(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2584],{2073:function(e,t,s){Promise.resolve().then(s.bind(s,44058)),Promise.resolve().then(s.bind(s,94142))},18521:function(e,t,s){"use strict";s.d(t,{d:function(){return i}});var l=s(62284),a=s(21317),n=s(25845);let i=e=>{let{stats:t}=e;return(0,l.jsxs)("span",{className:"px-3 text-white-400/50 text-tiny",children:[(0,a.CZ)(t.total_memes)," ",(0,n._6)(t.total_memes,"meme","memes"),t.time_ms&&" in ".concat(t.time_ms,"ms")]})}},55578:function(e,t,s){"use strict";s.d(t,{B:function(){return n}});var l=s(62284),a=s(23405);let n=e=>{let{bg:t="bg-black-400",trailColor:s="#8B5CF6",trailWidth:n=500,staticBorderColor:i,rounded:r="rounded-2xl",hideTrail:o=!1,children:c,onClick:d}=e;return(0,l.jsxs)(l.Fragment,{children:[o?null:(0,l.jsx)("div",{className:(0,a.cn)("size-full box-border","absolute inset-0","border-2 border-transparent",r),children:(0,l.jsx)("div",{className:"trail",style:{width:n,"--trail-color":s}})}),(0,l.jsx)("div",{className:(0,a.cn)("size-full min-h-full box-border z-10","overflow-hidden","border-2 border-transparent",r,null!=i?i:""),onClick:d,children:(0,l.jsx)("div",{className:(0,a.cn)("size-full flex flex-col gap-1",t,r),children:c})})]})}},91098:function(e,t,s){"use strict";s.d(t,{I:function(){return o}});var l=s(62284),a=s(46231),n=s(23405),i=s(21317),r=s(25845);let o=e=>{var t;let{contest:s,textSize:o="text-[12px] leading-4",textColor:c="text-white-400/75",iconSize:d="size-4 min-w-4",iconColor:u="text-white-400/75",hideIcon:m=!1}=e,x="draft"===s.status,h="upcoming"===s.status;return x||h?null:(0,l.jsxs)("div",{className:"flex items-center gap-1 truncate",children:[!m&&(0,l.jsx)(a.JO,{icon:"basil:send-solid",className:(0,n.cn)(d,u)}),(0,l.jsxs)("div",{className:(0,n.cn)("flex gap-1 text-left truncate",o,c),children:[(0,l.jsx)("span",{children:(0,i.CZ)(null!==(t=s.entry_count)&&void 0!==t?t:0)}),(0,l.jsx)("span",{className:"truncate",children:(0,r._6)(s.entry_count,"submission","submissions")})]})]})}},86478:function(e,t,s){"use strict";s.d(t,{B:function(){return v}});var l=s(62284),a=s(23405),n=s(2793),i=s(35850),r=s(59297),o=s(91475),c=s(69734),d=s(91098),u=s(93684),m=s(55578),x=s(72363),h=s(21317),f=s(25845),p=s(82258);let v=e=>{let{deckId:t,thumbnail:s,name:v,rank:b,totalPosts:j,isAdmin:g,relevantContest:w,w:N="min-w-36 w-36 md:min-w-52 md:w-52"}=e,k=(0,r.useMemo)(()=>w&&"active"===w.status,[w]),y=(0,r.useMemo)(()=>k?(0,p.o4)(t,{sort_by:x.a.Contest}):(0,p.o4)(t,{sort_by:x.a.Hot}),[k,t]);return(0,l.jsx)(i.default,{href:y,className:"scale-img-on-hover select-none",children:(0,l.jsx)("div",{className:(0,a.cn)(N,"relative cursor-pointer overflow-hidden flex flex-col justify-center","rounded-lg shadow-lg hover:shadow-2xl",k?"bg-violet-900 hover:bg-violet-800":"bg-black-400 hover:bg-black-300"),children:(0,l.jsxs)(m.B,{rounded:"rounded-lg",bg:k?"bg-violet-900":"bg-black-400",staticBorderColor:"bg-white-400/10",hideTrail:!k,children:[(0,l.jsxs)("div",{className:"relative size-full aspect-square overflow-hidden bg-white-400/10",children:[s&&(0,l.jsx)(n.default,{src:s,alt:v,width:256,height:256,className:"size-full object-cover object-center"}),w&&(0,l.jsx)("div",{className:(0,a.cn)("absolute top-0 inset-x-0 px-1 md:px-1.5 pt-1 pb-1.5",k?"bg-violet-900/75":"bg-black-400/75"),children:(0,l.jsx)(o.N,{contest:w})})]}),(0,l.jsxs)("footer",{className:"flex flex-col gap-1 pl-1.5 md:pl-3 pr-1 pt-2 pb-3 md:pb-3.5",children:[(0,l.jsxs)("div",{className:"flex gap-3 items-center justify-between truncate",children:[(0,l.jsxs)("h3",{className:"flex gap-2 text-sm md:text-base tracking-wide w-full truncate",children:[(0,l.jsx)("span",{className:"text-white-400 font-extrabold truncate",children:v}),b&&(0,l.jsxs)("span",{className:"text-white-400/70 font-semibold",children:["#",b]})]}),g&&(0,l.jsx)(u.g,{deckId:t,onDelete:()=>{window.location.reload()}})]}),(0,l.jsx)("span",{className:"flex gap-2 items-center truncate h-5",children:w&&k?(0,l.jsxs)(l.Fragment,{children:[w.prize&&(0,l.jsx)(c.E,{prize:w.prize}),(0,l.jsx)(d.I,{contest:w})]}):(0,l.jsx)("span",{className:"text-white-400/75 text-sm",children:"".concat((0,h.CZ)(j)," ").concat((0,f._6)(j,"meme","memes"))})})]})]})})})}},93684:function(e,t,s){"use strict";s.d(t,{Z:function(){return a},g:function(){return b}});var l,a,n=s(62284),i=s(46231),r=s(81374),o=s(98314),c=s(68880),d=s(88938),u=s(33548),m=s(12967),x=s(5522),h=s(92449),f=s(66975),p=s(59297),v=s(15219);(l=a||(a={})).Edit="edit",l.Delete="delete";let b=e=>{let{deckId:t,size:s="sm",variant:l="light",itemsToRender:a=["edit","delete"],isLoading:b,isDisabled:j,onEdit:g,onDelete:w}=e,N=(0,h.useRouter)(),[k]=(0,v.ez)(),[y,z]=(0,p.useState)(!1),C=(0,p.useCallback)(()=>{N.push("/deck-edit/".concat(t.replace("deck:",""))),null==g||g()},[N,t,g]),_=(0,p.useCallback)(async e=>{e.stopPropagation(),e.preventDefault();try{z(!0),k(t),null==w||w(),N.push("/home")}catch(e){(0,f.yv)("Failed to delete deck",{variant:"error"})}finally{z(!1)}},[t,k,w,N]);return(0,n.jsxs)(r.F,{"aria-label":"Edit Deck",classNames:{content:"min-w-0 w-auto"},children:[(0,n.jsx)(o.S,{children:y||b?(0,n.jsx)("div",{className:"flex items-center justify-center size-8",children:(0,n.jsx)(c.c,{size:"sm"})}):(0,n.jsx)(d.A,{isIconOnly:!0,size:s,variant:l,isDisabled:j,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,n.jsx)(i.JO,{className:"size-5",icon:"tabler:dots"})})}),(0,n.jsx)(u.a,{children:(0,n.jsxs)(m.d,{title:"Deck Actions",children:[(0,n.jsx)(x.W,{"aria-label":"Edit",textValue:"Edit",color:"default",startContent:(0,n.jsx)(i.JO,{className:"size-5",icon:"mdi:edit"}),onClick:C,children:"Edit"}),(0,n.jsx)(x.W,{"aria-label":"Delete",textValue:"Delete",color:"danger",startContent:(0,n.jsx)(i.JO,{className:"size-5",icon:"tabler:trash"}),onClick:_,children:"Delete"})]})})]})}},57204:function(e,t,s){"use strict";s.d(t,{F:function(){return f}});var l=s(62284),a=s(46231),n=s(81374),i=s(98314),r=s(68880),o=s(88938),c=s(33548),d=s(12967),u=s(5522),m=s(59297),x=s(7722),h=s(74651);let f=e=>{let{post:t,isLoading:s,isDisabled:f}=e,{onOpenPost:p}=(0,h.h)(),{deletePost:v,isDeleting:b}=(0,x.Z)(),j=(0,m.useCallback)(()=>p(t.id),[p,t]);return(0,l.jsxs)(n.F,{"aria-label":"Edit Post",classNames:{content:"min-w-0 w-auto"},children:[(0,l.jsx)(i.S,{children:b||s?(0,l.jsx)("div",{className:"flex items-center justify-center size-8",children:(0,l.jsx)(r.c,{size:"sm"})}):(0,l.jsx)(o.A,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:f,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,l.jsx)(a.JO,{className:"size-5",icon:"tabler:dots"})})}),(0,l.jsx)(c.a,{children:(0,l.jsxs)(d.d,{title:"Post Actions",children:[(0,l.jsx)(u.W,{"aria-label":"Edit",textValue:"Edit",color:"default",startContent:(0,l.jsx)(a.JO,{className:"size-5",icon:"mdi:edit"}),onClick:j,children:"Edit"}),(0,l.jsx)(u.W,{"aria-label":"Delete",textValue:"Delete",color:"danger",startContent:(0,l.jsx)(a.JO,{className:"size-5",icon:"tabler:trash"}),onClick:()=>v({postId:t.id}),children:"Delete"})]})})]})}},14903:function(e,t,s){"use strict";s.d(t,{T:function(){return i}});var l=s(62284),a=s(88938),n=s(2793);let i=e=>{let{src:t,onClickShow:s}=e;return(0,l.jsxs)("div",{className:"absolute inset-0 bg-black/50 z-2 bg-white-400/10",onClick:e=>{e.stopPropagation(),e.preventDefault()},onMouseEnter:e=>{e.stopPropagation(),e.preventDefault()},children:[(0,l.jsx)(n.default,{src:t,alt:"NSFW",draggable:!1,className:"absolute z-0 inset-0 size-full object-cover blur-xl scale-[3]",width:640,height:640,sizes:"640px",quality:1,priority:!0}),(0,l.jsx)(a.A,{variant:"ghost",color:"danger",size:"sm",className:"p-1 font-medium z-3 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 backdrop-blur-sm",onClick:s,children:"Show"})]})}},99053:function(e,t,s){"use strict";s.d(t,{P:function(){return N}});var l=s(62284),a=s(46231),n=s(46902),i=s(37630),r=s(88938),o=s(87335),c=s(23405),d=s(2793),u=s(59297),m=s(57204),x=s(45780),h=s(14903),f=s(56984),p=s(15219),v=s(74651),b=s(20102),j=s(14751),g=s(25845),w=s(82258);let N=e=>{var t,s;let{post:N,deckPageId:k,profilePageHandle:y,priorityLoadImage:z,imageQuality:C,onClick:_}=e,{data:D}=(0,p.iS)(),I=(0,u.useMemo)(()=>{var e;return null!==(e=null==D?void 0:D.id)&&void 0!==e?e:""},[D]),O=(0,f.u)(I,N.votes),[P]=(0,p.NU)(),[E]=(0,p.Rp)(),{description:M,titleWithAttribution:F,creator:S,url:A,width:J,height:T}=(0,j.zD)(N),q=(0,u.useMemo)(()=>{var e;return null!==(e=N.image)&&void 0!==e?e:N.meme},[N]),B=(0,u.useMemo)(()=>N.by.id===I,[N.by.id,I]),V=(0,u.useMemo)(()=>null==q?void 0:q.is_nsfw,[null==q?void 0:q.is_nsfw]),[W,L]=(0,u.useState)(V),{previousPostId:R,rawSrc:Z}=(0,b.C)(),U=(0,u.useMemo)(()=>N.id===R?Z:void 0,[N.id,R,Z]),H=(0,u.useMemo)(()=>q?(0,w.LA)(q):"",[q]),{onOpenPost:G}=(0,v.h)(),K=(0,u.useCallback)(()=>{if(_){_();return}G(N.id)},[_,G,N.id]);(0,u.useEffect)(()=>()=>{L(V)},[V]);let Q=(0,u.useMemo)(()=>null!=C?C:50,[C]),X=(0,u.useMemo)(()=>Q/100*(null!=J?J:200),[J,Q]),Y=(0,u.useMemo)(()=>Q/100*(null!=T?T:200),[T,Q]),$=(0,u.useMemo)(()=>{var e,t;return(null===(t=N.meme)||void 0===t?void 0:null===(e=t.contest)||void 0===e?void 0:e.status)==="active"},[null===(s=N.meme)||void 0===s?void 0:null===(t=s.contest)||void 0===t?void 0:t.status]);return q?(0,l.jsx)("article",{className:(0,c.cn)("relative w-full cursor-pointer overflow-hidden rounded-md",$?"border border-violet-500":"",N.is_contest_winner?"border border-yellow-400":""),onClick:K,children:(0,l.jsxs)(n.w,{isFooterBlurred:!0,radius:"none",className:"group",children:[B&&(0,l.jsx)(i.u,{className:(0,c.cn)("absolute top-0 inset-x-0 p-1 z-10","flex justify-end","transition-opacity opacity-0","sm:group-hover:opacity-100"),children:(0,l.jsx)(r.A,{size:"sm",color:"default",isIconOnly:!0,className:(0,c.cn)("shadow-small","bg-black-400/30 border-1 border-zinc-600/40 backdrop-blur-sm"),children:(0,l.jsx)(m.F,{post:N})})}),(0,l.jsx)(d.default,{className:"z-0 size-full bg-white-400/5 sm:transition-transform sm:group-hover:scale-104",src:H,placeholder:U,quality:Q,priority:z,alt:M||F,width:X,height:Y}),N.is_contest_winner&&(0,l.jsx)(a.JO,{icon:"mdi:prize",className:"absolute top-1 right-1 text-yellow-400 size-7"}),(0,l.jsx)(o.i,{className:(0,c.cn)("absolute bottom-1 inset-x-1 px-1 py-2 z-1 w-[calc(100%_-_8px)]","flex justify-between rounded-md shadow-small overflow-hidden","border-1 border-zinc-600/40 bg-black-400/30","transition-opacity opacity-0",O.hasUpvoted||O.hasDownvoted?"sm:opacity-100":"sm:group-hover:opacity-100"),children:(0,l.jsxs)("div",{className:"flex flex-1 items-center gap-2 w-full",children:[(0,l.jsxs)("div",{className:"flex flex-1 items-center gap-2 truncate font-semibold",children:[$?(0,l.jsx)("div",{className:"size-8 flex items-center justify-center bg-white-400/10 rounded-full",children:(0,l.jsx)(a.JO,{icon:"ooui:user-anonymous",className:"size-5"})}):(0,l.jsx)(d.default,{src:N.by.avatar,alt:S,className:"rounded-full min-w-8",width:32,height:32,quality:50}),(0,l.jsxs)("div",{className:"flex flex-col flex-1 truncate",children:[(0,l.jsx)("span",{className:"truncate text-xs",children:$?"Contestant":N.by.handle}),N.created_at&&(0,l.jsx)("span",{className:"text-tiny font-normal text-white-400/70 truncate",children:(0,g.Po)(new Date(N.created_at))})]})]}),(0,l.jsx)(x.I,{postId:N.id,user:D,deckPageId:k,profilePageHandle:y,initialVotes:N.votes,postVoteApi:P,deleteVoteApi:E,onClickOverride:_,border:"border-zinc-400/50",isActiveContest:$})]})}),W&&(0,l.jsx)(h.T,{src:A,onClickShow:()=>L(!1)})]})}):null}},94142:function(e,t,s){"use strict";s.d(t,{TrendingPageContent:function(){return z}});var l=s(62284),a=s(59297),n=s(12890),i=s(18521),r=s(76967),o=s(24959),c=s(99053),d=s(86478),u=s(15219);function m(e){return!!e&&("active"===e.status||"upcoming"===e.status)}let x=e=>{let{interval:t}=e,{isFetching:s,data:n}=(0,u.oX)({limit:50,interval:t}),i=(0,a.useMemo)(()=>Object.values(null!=n?n:{}).filter(e=>"deck:feed"!==e.id&&""!==e.title).sort((e,t)=>e.rank-t.rank).sort((e,t)=>{let s=e.contest,l=t.contest,a=m(s),n=m(l);return a&&!n?-1:!a&&n?1:0}),[n]);return s?(0,l.jsx)("div",{className:"flex px-3 gap-3 w-full overflow-x-auto scrollbar-hide",children:[1,2,3,4,5,6,7,8,9].map(e=>(0,l.jsxs)("div",{className:"min-w-[144px] h-[212px] md:min-w-[208px] md:h-[282px] bg-black-400 rounded-lg shadow-lg hover:shadow-2xl overflow-hidden",children:[(0,l.jsx)("div",{className:"w-full aspect-square bg-black-100/25"}),(0,l.jsx)("div",{className:"w-full h-10 px-3 flex items-center",children:(0,l.jsx)("div",{className:"w-1/2 h-5 bg-black-100/50 rounded-md"})})]},e))}):(0,l.jsx)("div",{className:"flex px-3 gap-2 w-full overflow-x-auto scrollbar-hide",children:i.map(e=>(0,l.jsx)(d.B,{deckId:e.id,rank:e.rank,name:e.title,thumbnail:e.thumbnail,totalPosts:e.total_posted,isAdmin:!1,relevantContest:e.contest},e.id))})};var h=s(57803);let f=e=>{let{interval:t,onSelectInterval:s}=e;return(0,l.jsx)("header",{className:"flex items-center justify-between p-3 gap-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("h1",{className:"text-white-400 font-bold text-3xl tracking-wide",children:"Trending"}),(0,l.jsx)(h.m,{className:"min-w-28",interval:t,onSelect:s})]})})};var p=s(23405);let v=e=>{let{p:t="p-3",children:s}=e;return(0,l.jsx)("h4",{className:(0,p.cn)(t,"text-white-400/75 tracking-wide font-bold uppercase text-sm truncate"),children:s})};var b=s(91151),j=s(57837),g=s(75635),w=s(77606),N=s(96245),k=s(72363),y=s(25845);let z=()=>{var e;let t=(0,N.TL)(),s=(0,N.CG)(w.lf),{searchInterval:d,setSearchInterval:m}=(0,j.K)(),{search:h,searchDebounced:p,onSearch:z}=(0,g.U)(),{data:C}=(0,u.iS)(),{currentData:_,isFetching:D,isLoading:I}=(0,b.w)({search:p,interval:d,sort_by:k.a.Hot,nsfw:!1,exclude_active_contest:!0}),O=(0,a.useMemo)(()=>p.length>0,[p.length]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.E,{autofocus:!0,border:"border-b border-transparent",value:h,onSearch:z,searchInterval:d,onSelectInterval:()=>null}),!O&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f,{interval:d,onSelectInterval:m}),(0,l.jsxs)(v,{children:["Top Decks ",(0,y.qr)(d)]}),(0,l.jsx)(x,{interval:d}),(0,l.jsx)(v,{p:"px-3 pt-6 pb-0",children:"Trending Posts"})]}),O&&_&&(0,l.jsx)(i.d,{stats:_}),(0,l.jsx)(n.o,{items:null!==(e=null==_?void 0:_.memes)&&void 0!==e?e:[],noResultsMessage:O?"":"No memes ".concat((0,y.qr)(d).toLowerCase()),isFetching:D,isLoading:I,hasFetched:!!_,hasSearched:O,renderItem:(e,s)=>(0,l.jsx)(c.P,{post:e,imageQuality:30,priorityLoadImage:s<10,onClick:C?void 0:()=>t((0,w.it)())},"".concat(s,"-").concat(e.id))}),s&&(0,l.jsx)(r.c,{isOpen:s,onClose:()=>t((0,w.Rs)())})]})}},87335:function(e,t,s){"use strict";s.d(t,{i:function(){return c}});var l=s(26382),a=s(9710),n=s(88377),i=s(6213),r=s(62284),o=(0,a.Gp)((e,t)=>{var s;let{as:a,className:o,children:c,...d}=e,u=(0,n.gy)(t),{slots:m,classNames:x}=(0,l.R)(),h=(0,i.W)(null==x?void 0:x.footer,o);return(0,r.jsx)(a||"div",{ref:u,className:null==(s=m.footer)?void 0:s.call(m,{class:h}),...d,children:c})});o.displayName="NextUI.CardFooter";var c=o}},function(e){e.O(0,[2446,8938,9303,1271,4607,3453,322,1866,6127,3316,6157,9675,5219,621,3746,4058,102,276,4868,2046,1744],function(){return e(e.s=2073)}),_N_E=e.O()}]);