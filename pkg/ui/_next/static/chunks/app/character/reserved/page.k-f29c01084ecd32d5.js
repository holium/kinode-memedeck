(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[890],{68484:function(e,t,s){Promise.resolve().then(s.bind(s,67616))},67616:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var a=s(91104),l=s(51163),r=s(63137),n=s(33968),c=s(4180),i=s(83301),d=s(42891);let o=e=>{let{characterId:t,interval:s}=e,[l,o]=(0,r.useState)(null),[u,h]=(0,r.useState)(!0),x=(0,r.useCallback)(async(e,t)=>{o(await n.P.getCharacter(e,{interval:t}))},[]);return((0,r.useEffect)(()=>{h(!0),x(t,s).then(()=>{h(!1)})},[t,x,s]),u&&!l)?(0,a.jsxs)("div",{className:"flex flex-col gap-4 pt-1 pb-3 px-5",children:[(0,a.jsx)("div",{className:"animate-pulse rounded-xl size-28 md:size-40 bg-gray-200 shadow-lg"}),(0,a.jsxs)("header",{className:"w-full flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"animate-pulse rounded bg-gray-200 h-9 md:h-10 w-40"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"animate-pulse rounded bg-gray-200 h-7 w-28"}),(0,a.jsx)("div",{className:"animate-pulse rounded bg-gray-200 h-7 w-28"}),(0,a.jsx)("div",{className:"animate-pulse rounded bg-gray-200 h-7 w-28"})]})]})]}):l?(0,a.jsxs)("div",{className:"flex flex-col gap-4 pt-1 pb-3 px-5",children:[(0,a.jsx)(i.default,{width:200,height:200,alt:l.name,src:l.thumbnail,className:"rounded-xl size-28 md:size-40 bg-black-400/10 object-cover object-center shadow-lg select-none border-1 border-white-400/10"}),(0,a.jsx)("header",{className:"w-full flex flex-col",children:(0,a.jsxs)("div",{className:"flex flex-1 flex-col gap-3",children:[(0,a.jsxs)("div",{className:"w-full flex gap-3 justify-between items-center",children:[(0,a.jsxs)("h1",{className:"text-3xl md:text-4xl flex gap-3",children:[(0,a.jsx)("span",{className:"text-white-400 font-bold truncate",children:l.name}),(0,a.jsxs)("span",{className:"text-white-400/70 font-bold",children:["#",l.rank]})]}),(0,a.jsx)(d.F,{title:"Generate ".concat(l.name),variant:"ghost",color:"default",queryParam:"?character=".concat(t),className:"w-auto lg:min-w-52 max-w-[260px] rounded-full"})]}),l.description&&(0,a.jsx)("p",{className:"text-tiny md:text-sm text-white-400/60",children:l.description}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("p",{className:"flex gap-1.5 text-base",children:[(0,a.jsx)("span",{className:"font-bold",children:l.total_generations}),(0,a.jsx)("span",{className:"text-white-400/60",children:(0,c._6)(l.total_generations,"generation","generations")})]}),(0,a.jsxs)("p",{className:"flex gap-1.5 text-base",children:[(0,a.jsx)("span",{className:"font-bold",children:l.total_posted}),(0,a.jsx)("span",{className:"text-white-400/60",children:(0,c._6)(l.total_posted,"post","posts")})]}),(0,a.jsxs)("p",{className:"flex gap-1.5 text-base",children:[(0,a.jsx)("span",{className:"font-bold",children:l.creator_count}),(0,a.jsx)("span",{className:"text-white-400/60",children:(0,c._6)(l.creator_count,"creator","creators")})]})]})]})})]}):null};var u=s(26816),h=s(64737),x=s(87221),m=s(61698),f=s(9051),p=s(29398),b=s(35650),g=s(41116);async function j(e,t){return(await n.P.search(e,t)).memes}let w=e=>{let{characterId:t}=e,s=(0,u.useRouter)(),{searchInterval:l,setSearchInterval:n}=(0,g.useProfile)(),[c,i]=(0,r.useState)(""),[d,w]=(0,r.useState)([]),[v,N]=(0,r.useState)(!1),{isFetching:y,onSearch:k}=(0,h.M)({feed:d,setFeed:w,hasFetched:v,setHasFetched:N,searchQuery:c,setSearchQuery:i,fetchOnLoad:!0,characterId:t,interval:l,fetchFn:j});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.y,{title:"Character",onGoBack:()=>s.push("/explore")}),(0,a.jsx)(o,{characterId:t,interval:l}),(0,a.jsxs)("div",{className:"flex pr-3 items-center justify-between border-b border-white-400/15",children:[(0,a.jsx)(x.SearchBar,{hideLogo:!0,border:"",value:c,onSearch:k}),(0,a.jsx)(b.m,{size:"md",interval:l,onSelect:e=>{w([]),n(e),k("",e)}})]}),(0,a.jsx)(m.o,{memes:d,isFetching:y,hasFetched:v,hasSearched:c.length>0,renderItem:(e,t)=>(0,a.jsx)(f.P,{meme:e},t)})]})};function v(e){let{params:t}=e,{id:s}=(0,l.u)({params:t,key:"id"});return(0,a.jsx)(w,{characterId:s})}},42891:function(e,t,s){"use strict";s.d(t,{F:function(){return d}});var a=s(91104),l=s(26816),r=s(83301),n=s(57826),c=s(41116),i=s(61281);let d=e=>{let{title:t="Generate",variant:s="shadow",color:d="primary",queryParam:o="",className:u="mt-3 md:w-full min-w-[50px] rounded-full"}=e,h=(0,l.useRouter)(),{profile:x,setIsSignupModalOpen:m}=(0,c.useProfile)();return(0,a.jsx)(n.A,{type:"button",variant:s,color:d,className:u,size:"lg",radius:"full",disableRipple:!0,isIconOnly:!0,onClick:()=>{if(!x){m(!0);return}h.push("/studio".concat(o))},children:(0,a.jsxs)("div",{className:"flex gap-2 items-center justify-center w-full lg:px-4",children:[(0,a.jsx)(r.default,{src:i.Z,alt:"Generate",className:"size-6"}),(0,a.jsx)("h1",{className:"hidden lg:block text-base truncate",children:t})]})})}},87221:function(e,t,s){"use strict";s.r(t),s.d(t,{SearchBar:function(){return c}});var a=s(91104),l=s(26816),r=s(26645),n=s(18262);let c=e=>{let{value:t,autofocus:s,initialSearch:c,responsiveness:i="",border:d="border-b border-white-400/15",placeholder:o,hideLogo:u=!1,onSearch:h}=e,x=(0,l.useRouter)();return(0,a.jsxs)("div",{className:"sticky top-0 z-10 flex gap-3 h-16 w-full items-center bg-black-0 px-3 ".concat(i," ").concat(d),onClick:()=>{h||x.push("/explore")},children:[!u&&(0,a.jsx)("div",{className:"sm:hidden size-10 max-w-10",children:(0,a.jsx)(r.Ew,{})}),(0,a.jsx)(n.T,{value:t,autofocus:s,initialSearch:c,placeholder:o,onSearch:h})]})}},35650:function(e,t,s){"use strict";s.d(t,{m:function(){return c}});var a=s(91104),l=s(71035),r=s(41340),n=s(21204);let c=e=>{let{size:t="sm",interval:s,onSelect:c}=e;return(0,a.jsx)(l.g,{size:t,radius:"full",variant:"bordered",color:"primary",placeholder:"Sort by",className:"w-32",value:s,selectedKeys:[s],onChange:e=>{c(e.target.value)},children:Object.values(n.u).map(e=>(0,a.jsx)(r.R,{children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}},29398:function(e,t,s){"use strict";s.d(t,{y:function(){return c}});var a=s(91104),l={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/arrow.left.37648ed6.svg",height:46,width:57,blurWidth:0,blurHeight:0},r=s(23640),n=s(48751);let c=e=>{let{title:t,border:s="border-b border-transparent",isLoading:c=!1,endContent:i,onGoBack:d}=e,{goBack:o}=(0,n.useAppHistory)();return(0,a.jsxs)("div",{className:"flex h-16 w-full items-center ".concat(s),children:[(0,a.jsx)(r.O,{src:l,alt:"Back",onClick:null!=d?d:o}),c?(0,a.jsx)("h1",{className:"h-6 w-24 animate-pulse rounded bg-gray-200"}):(0,a.jsx)("h1",{className:"flex-1 text-left text-lg font-bold truncate",children:t}),i]})}},64737:function(e,t,s){"use strict";s.d(t,{M:function(){return n}});var a=s(63137),l=s(29125),r=s(21204);let n=e=>{let{feed:t,setFeed:s,hasFetched:n,setHasFetched:c,searchQuery:i,setSearchQuery:d,fetchFn:o,initialQuery:u,characterId:h,interval:x=r.u.AllTime,fetchOnLoad:m=!0,pageSize:f=50,ignoreWindowScroll:p=!1,onFetchOnLoad:b}=e,[g,j]=(0,a.useState)(0),[w,v]=(0,a.useState)(!0),[N,y]=(0,a.useState)(!1),k=(0,a.useCallback)(async(e,t)=>{let a=await o(e,t);return s(t=>a.length>0&&Number(e.start)>0?[...t,...a]:a),y(!1),c(!0),v(a.length===f),a},[o,f,s,c]),S=(0,a.useMemo)(()=>(0,l.k)(k,1e3),[k]),C=(0,a.useCallback)(async(e,t)=>{var s,a,l,r;return y(!0),c(!1),S({search:null!==(s=e.search)&&void 0!==s?s:i,start:null!==(a=e.start)&&void 0!==a?a:g,limit:null!==(l=e.limit)&&void 0!==l?l:f,interval:null!==(r=e.interval)&&void 0!==r?r:x,...h&&{character_id:h}},t)},[h,S,x,f,i,c,g]),_=(0,a.useCallback)(()=>{if(!n||!w||N)return;let e=g+f;j(e),C({start:e})},[n,w,N,g,f,C]),z=(0,a.useCallback)(async()=>{let e=window.innerHeight;document.body.offsetHeight-window.scrollY<3*e&&_()},[_]),P=(0,a.useCallback)(e=>{let t=new URL(window.location.href);e.length>0?t.searchParams.set("query",e):t.searchParams.delete("query"),window.history.pushState({},"",t.toString())},[]),E=(0,a.useCallback)(async(e,t)=>{null==d||d(e),d&&P(e),j(0),v(!0),C({search:e,start:0,limit:f,interval:t})},[C,f,d,P]);return(0,a.useEffect)(()=>{if(!p)return window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)},[z,p]),(0,a.useEffect)(()=>{let e=new AbortController;if(!n&&!(t.length>0)&&m&&!N)return C({search:u,start:0,limit:f},e.signal).then(b),()=>{!e.signal.aborted&&N&&e.abort()}},[t.length,C,m,n,u,N,b,f]),{feed:t,setFeed:s,setHasMore:v,onSearch:E,isFetching:N,hasMore:w,setIsFetching:y,setHasFetched:c,onReachedEnd:_}}},51163:function(e,t,s){"use strict";s.d(t,{u:function(){return l}});var a=s(26816);let l=e=>{var t;let{key:s,index:l,params:r}=e,n=(0,a.usePathname)(),c=null!==(t=n&&n.split("/")[l||2])&&void 0!==t?t:"",i=r[s]||c;return{[s]:i}}}},function(e){e.O(0,[826,349,223,98,542,35,915,634,130,514,171,744],function(){return e(e.s=68484)}),_N_E=e.O()}]);