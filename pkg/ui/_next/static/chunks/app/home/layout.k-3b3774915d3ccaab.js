(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2032],{76019:function(e,t,s){Promise.resolve().then(s.bind(s,39120)),Promise.resolve().then(s.bind(s,16451)),Promise.resolve().then(s.bind(s,18702)),Promise.resolve().then(s.bind(s,44058)),Promise.resolve().then(s.bind(s,85248)),Promise.resolve().then(s.bind(s,95198)),Promise.resolve().then(s.bind(s,36255)),Promise.resolve().then(s.bind(s,59490)),Promise.resolve().then(s.bind(s,33843)),Promise.resolve().then(s.bind(s,33917)),Promise.resolve().then(s.bind(s,41174)),Promise.resolve().then(s.bind(s,77138)),Promise.resolve().then(s.bind(s,81748)),Promise.resolve().then(s.bind(s,36558)),Promise.resolve().then(s.bind(s,5739)),Promise.resolve().then(s.bind(s,33407)),Promise.resolve().then(s.bind(s,81841)),Promise.resolve().then(s.bind(s,70991)),Promise.resolve().then(s.bind(s,6332)),Promise.resolve().then(s.bind(s,72529)),Promise.resolve().then(s.bind(s,29739)),Promise.resolve().then(s.bind(s,31560)),Promise.resolve().then(s.bind(s,38164)),Promise.resolve().then(s.bind(s,54872)),Promise.resolve().then(s.bind(s,34665)),Promise.resolve().then(s.bind(s,46802)),Promise.resolve().then(s.bind(s,36420)),Promise.resolve().then(s.bind(s,60793)),Promise.resolve().then(s.bind(s,89298)),Promise.resolve().then(s.bind(s,18647)),Promise.resolve().then(s.bind(s,61502)),Promise.resolve().then(s.bind(s,59831)),Promise.resolve().then(s.bind(s,49449)),Promise.resolve().then(s.bind(s,64326)),Promise.resolve().then(s.bind(s,54520)),Promise.resolve().then(s.bind(s,55240)),Promise.resolve().then(s.bind(s,15178)),Promise.resolve().then(s.bind(s,10246)),Promise.resolve().then(s.bind(s,44688)),Promise.resolve().then(s.bind(s,9932)),Promise.resolve().then(s.bind(s,37192)),Promise.resolve().then(s.bind(s,73367))},77395:function(e,t,s){"use strict";s.d(t,{Ud:function(){return h},hd:function(){return d},Ew:function(){return m},QB:function(){return x}});var l=s(62284),i=s(7602),n=s(2793),a=s(35850),r={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo.a86b8f2b.svg",height:256,width:256,blurWidth:0,blurHeight:0},o=s(18957),c=s(14751);let d=()=>(0,l.jsx)("div",{className:"flex h-16 min-h-16 select-none items-center justify-center lg:justify-start",children:(0,l.jsxs)(a.default,{href:"/home",children:[(0,l.jsxs)("div",{className:"hidden gap-3 items-center lg:flex",children:[(0,l.jsx)(x,{}),(0,l.jsx)(h,{})]}),(0,l.jsx)("div",{className:"lg:hidden",children:(0,l.jsx)(m,{})})]})}),m=()=>(0,l.jsx)(n.default,{src:r,alt:"".concat(c.jG," Icon"),"aria-label":"".concat(c.jG," - ").concat(c.VR),className:"h-10 min-w-10 w-full select-none"}),x=e=>{let{className:t="h-12 w-[120px] object-cover"}=e;return(0,l.jsx)(n.default,{priority:!0,src:o.Z,alt:"".concat(c.jG," Logo"),"aria-label":"".concat(c.jG," - ").concat(c.VR),className:t,draggable:!1})},h=()=>(0,l.jsx)(i.z,{size:"sm",color:"warning",classNames:{base:"mb-0.5 text-yellow-400 bg-yellow-50 border-1 border-yellow-400/10"},children:"Alpha"})},68871:function(e,t,s){"use strict";s.d(t,{n:function(){return r}});var l=s(62284),i=s(35850);s(59297);var n=s(60719),a=s(85493);let r=e=>{let{onToggleSidebar:t}=e;return(0,l.jsxs)("footer",{className:"flex flex-col p-3 gap-3",children:[(0,l.jsxs)("div",{className:"flex gap-2 flex-wrap xl:flex-nowrap",children:[(0,l.jsx)(n.m,{onClick:t}),(0,l.jsx)(a.q,{onClick:t})]}),(0,l.jsxs)("div",{className:"text-white-400/35 text-xs leading-5",children:[(0,l.jsx)(i.default,{href:"/legal/terms",className:"hover:underline mr-2",children:"Terms of Service"}),(0,l.jsx)(i.default,{href:"/legal/privacy",className:"hover:underline mr-2",children:"Privacy Policy"}),(0,l.jsx)("p",{children:"\xa9 2024 Holium Corporation"})]})]})}},3070:function(e,t,s){"use strict";s.d(t,{L:function(){return f},z:function(){return u}});var l=s(62284),i=s(8836),n=s(23405),a=s(35850),r=s(59297),o=s(8059),c=s(93684),d=s(72363),m=s(21317),x=s(25845),h=s(82258);let u=e=>{var t,s,u,f,p,v;let{deck:j,radius:w,rank:g,metric:b="memes",px:N="px-4",onClickNavigate:y}=e,k=(0,r.useMemo)(()=>j.has_active_contest?(0,h.o4)(j.id,{sort_by:d.a.Contest}):(0,h.o4)(j.id,{sort_by:d.a.Hot}),[j.id,j.has_active_contest]);return(0,l.jsxs)(a.default,{href:k,className:(0,n.cn)("flex items-center gap-2",N,"h-[54px] py-2 text-sm","hover:bg-white-400/5",w),onClick:y,children:[g&&(0,l.jsx)("h2",{className:"text-white-400 font-medium text-md",children:g}),(0,l.jsx)("div",{className:(0,n.cn)("size-10 border-3 rounded-md overflow-hidden",j.has_active_contest?"border-violet-500":"border-transparent"),children:(0,l.jsx)(i.h,{size:"md",radius:"none",src:null!==(s=null!==(t=j.cover_photo)&&void 0!==t?t:j.thumbnail)&&void 0!==s?s:"",alt:j.title,classNames:{base:"ml-[-3px] mt-[-3px] bg-black-400",img:"!size-full object-cover object-center"}})}),(0,l.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,l.jsx)("div",{className:"max-w-48 truncate text-md font-semibold leading-tight",children:j.title}),(0,l.jsx)("div",{className:"text-white-400/50 text-sm truncate",children:"memes"===b?"".concat((0,m.CZ)(null!==(u=j.total_posted)&&void 0!==u?u:0)," ").concat((0,x._6)(null!==(f=j.total_posted)&&void 0!==f?f:0,"meme","memes")):"".concat((0,m.CZ)(null!==(p=j.follower_count)&&void 0!==p?p:0)," ").concat((0,x._6)(null!==(v=j.follower_count)&&void 0!==v?v:0,"follower","followers"))})]}),j.is_admin?(0,l.jsx)(c.g,{deckId:j.id,onEdit:y}):(0,l.jsx)(o.g,{size:"sm",deck:j})]},j.id)},f=()=>(0,l.jsxs)("div",{className:"flex items-center gap-2 h-[54px] px-4 py-2 text-sm w-full",children:[(0,l.jsx)("div",{className:"bg-white-400/5 size-3 rounded-sm"}),(0,l.jsx)("div",{className:"bg-white-400/10 size-10 border-3 border-transparent rounded-md"}),(0,l.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,l.jsx)("div",{className:"bg-white-400/10 h-[18px] w-1/2 rounded-md"}),(0,l.jsx)("div",{className:"bg-white-400/5 h-[20px] w-1/3 rounded-md"})]})]})},39120:function(e,t,s){"use strict";s.d(t,{HomeFeed:function(){return ee}});var l=s(62284),i=s(68880),n=s(59297),a=s(23405),r=s(25845);let o=e=>{let{count:t,onClick:s}=e;return(0,l.jsx)("div",{className:(0,a.cn)("flex w-full justify-center items-center px-3 h-14","hover:bg-black-400","border-b border-white-400/15","cursor-pointer"),onClick:s,children:(0,l.jsx)("p",{className:"text-sm text-primary-600",children:"Show ".concat(t," ").concat((0,r._6)(t,"post","posts"))})})};var c=s(46231),d=s(7602),m=s(77618),x=s(2793);let h=e=>{let{newPosts:t,onClick:s}=e,i=(0,n.useMemo)(()=>{let e=new Set;return t.forEach(t=>{t.by.avatar&&e.add(t.by.avatar)}),e},[t]),r=(0,n.useCallback)(()=>{window.scrollTo({top:0,behavior:"smooth"}),s()},[s]);return(0,l.jsx)(m.E.div,{className:"fixed z-10 top-0 left-1/2",initial:{y:-100},animate:{y:12},exit:{y:-100},transition:{duration:.3},children:(0,l.jsxs)(d.z,{size:"lg",color:"primary",variant:"shadow",classNames:{base:(0,a.cn)("-translate-x-1/2 md:translate-x-[-170px] lg:translate-x-[-100px]","cursor-pointer shadow-2xl","hover:bg-primary-500"),content:"flex items-center gap-1 pl-1 pr-2"},onClick:r,children:[(0,l.jsx)(c.JO,{icon:"akar-icons:arrow-up"}),(0,l.jsx)("div",{className:"flex gap-1 items-center",children:Array.from(i).slice(0,3).map((e,t)=>(0,l.jsx)(x.default,{src:e,alt:"Avatar",width:24,height:24,className:(0,a.cn)("rounded-full size-6",t>0?"-ml-2":"")},e))}),(0,l.jsx)("span",{className:"text-sm",children:"posted"})]})})};var u=s(1433),f=s(65615),p=s(9067),v=s(98335),j=s(88938),w=s(79083),g=s(92449),b=s(66975),N=s(45780),y=s(86127),k=s(13848),C=s(15837),_=s(8836),z=s(77249),P=s(15219),S=s(82258);let O=e=>{let{post:t}=e,s=(0,g.useRouter)(),{appearsIn:i,isAddingToDeck:a,onSelectDeck:r}=(0,z.l)(null!=t?t:{}),o=(0,n.useMemo)(()=>{var e;return null==t?void 0:null===(e=t.meme)||void 0===e?void 0:e.id.replace("meme:","")},[t]),d=(0,n.useMemo)(()=>{var e;return null==t?void 0:null===(e=t.image)||void 0===e?void 0:e.id.replace("image:","")},[t]),[m,{data:x,isLoading:h}]=(0,P.lC)(),u=(0,n.useCallback)(e=>{var t;return null!==(t=null==i?void 0:i.some(t=>t.id===e.id))&&void 0!==t&&t},[i]),f=(0,n.useMemo)(()=>x?x.filter(e=>u(e)).filter(e=>"internal"!==e.category):[],[x,u]),p=(0,n.useMemo)(()=>x?x.filter(e=>!u(e)).filter(e=>"internal"!==e.category):[],[x,u]),v=(0,n.useCallback)(()=>{m({start:0,limit:20,...o?{meme_id:o}:{},...d?{image_id:d}:{}})},[m,o,d]),w=(0,n.useCallback)(async e=>{try{let t=p.find(t=>t.id===e);await r(e,t),(0,b.yv)("Added to deck",{variant:"success",action:(0,l.jsx)(j.A,{size:"sm",variant:"flat",onClick:()=>{s.push((0,S.o4)(t.id)),(0,b.sy)()},children:"View"})})}catch(e){(0,b.yv)("Failed to add to deck",{variant:"error"})}},[r,s,p]);return(0,l.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,l.jsxs)(y.g,{"aria-label":"Add to deck",size:"sm",radius:"sm",variant:"bordered",classNames:{base:"min-w-16 max-w-16",popoverContent:"min-w-[240px] md:min-w-[300px] md:min-h-[320px]",listboxWrapper:"min-w-[240px] md:min-w-[300px] md:min-h-[320px] md:px-1"},startContent:(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(c.JO,{className:"size-5 text-white-400",icon:"tabler:plus"})}),isLoading:h||a,onChange:e=>{let t=e.target.value.toString();t&&w(t)},onClick:e=>{e.stopPropagation(),e.preventDefault()},onOpenChange:e=>{e&&v()},children:[(0,l.jsx)(k.y,{title:"Matching Decks",children:p.map(e=>{var t;return(0,l.jsx)(C.R,{value:e.id,title:e.title,description:(0,l.jsx)("span",{className:"!text-white-400/50",children:"by @".concat(e.by.handle)}),startContent:(0,l.jsx)(_.h,{src:null!==(t=e.cover_photo)&&void 0!==t?t:void 0,size:"sm",radius:"sm",className:"min-w-8"}),classNames:{title:"font-semibold"}},e.id)})}),(0,l.jsx)(k.y,{title:"Already added",children:f.map(e=>{var t;return(0,l.jsx)(C.R,{value:e.id,title:e.title,isDisabled:!0,isReadOnly:!0,description:(0,l.jsx)("span",{className:"!text-white-400/50",children:"by @".concat(e.by.handle)}),startContent:(0,l.jsx)(_.h,{src:null!==(t=e.cover_photo)&&void 0!==t?t:void 0,size:"sm",radius:"sm",className:"min-w-8"}),endContent:(0,l.jsx)(c.JO,{className:"size-5 min-w-5 text-white-400/75",icon:"tabler:check"}),className:"max-w-full truncate",classNames:{wrapper:"truncate",base:"truncate",title:"font-semibold truncate"}},e.id)})})]})})};var D=s(4988),A=s(44135);let M=e=>{let{post:t,onClickShare:s}=e,{data:i}=(0,P.iS)(),[n]=(0,P.NU)(),[a]=(0,P.Rp)(),{isRemixing:r,onClickRemix:o}=(0,D.o)();return(0,l.jsx)("footer",{className:"flex w-full flex-row items-center gap-2",children:"contest_winner"===t.post_type||"contest_start"===t.post_type?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"flex gap-2 flex-1",children:i&&(0,l.jsx)(N.I,{postId:t.id,user:i,deckPageId:"feed",initialVotes:t.votes,postVoteApi:n,deleteVoteApi:a})})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex gap-2 flex-1",children:[i&&(0,l.jsx)(N.I,{postId:t.id,user:i,deckPageId:"feed",initialVotes:t.votes,postVoteApi:n,deleteVoteApi:a}),(0,l.jsx)(O,{post:t})]}),(0,l.jsx)(j.A,{size:"sm",variant:"bordered",startContent:(0,l.jsx)(x.default,{src:A.Z,alt:"Remix",className:"size-4"}),isDisabled:r,onClick:()=>o(t),children:"Remix"}),(0,l.jsx)(j.A,{isIconOnly:!0,size:"sm",variant:"ghost",className:"flex sm:hidden",onClick:s,children:(0,l.jsx)(c.JO,{icon:"ri:share-2-line",width:18})})]})})};var I=s(49846),L=s(91250),E=s(72488),T=s(74651),F=s(72363),J=s(380),R=s(48108),W=s(23628),V=s(14751),U=s(21317),Z=s(14903),H=s(20102);let G=e=>{var t,s;let{postId:i,item:r,alt:o="",priorityLoadImage:c,preloadImgWithGenerationSrc:d}=e,{previousPostId:m,rawSrc:h}=(0,H.C)(),u=(0,n.useMemo)(()=>{if(d)return i===m?h:void 0},[i,d,m,h]),f=(0,n.useMemo)(()=>(0,S.LA)(r),[r]),[p,v]=(0,n.useState)(r.is_nsfw);return(0,l.jsxs)("div",{className:"relative size-full select-none overflow-hidden rounded-md bg-white-400/10",children:[(0,l.jsx)(x.default,{draggable:!1,className:(0,a.cn)("absolute z-1 inset-0 size-full object-contain",p?"blur-xl":""),src:f,placeholder:u,alt:o,width:null!==(t=r.width)&&void 0!==t?t:1152,height:null!==(s=r.height)&&void 0!==s?s:1152,priority:!r.is_nsfw&&c}),p&&(0,l.jsx)(Z.T,{src:f,onClickShow:()=>v(!1)})]})},Y=e=>{let{item:t}=e,s=(0,n.useMemo)(()=>{var e,s,l;if("prompt"in t)return null===(e=t.prompt)||void 0===e?void 0:e.user_positive_prompt;let i=Object.values(null!==(l=t.panels)&&void 0!==l?l:{}).find(e=>"image"===e.panel_type);return i?null===(s=i.panel_config.prompt)||void 0===s?void 0:s.user_positive_prompt:null},[t]);return s?(0,l.jsx)("footer",{className:(0,a.cn)("xs:hidden","opacity-0 group-hover:opacity-100 transition-opacity duration-300","absolute inset-x-3 bottom-3 p-3 py-4","text-white-400 bg-black-400/75 rounded-sm"),children:(0,l.jsx)("p",{className:"line-clamp-5",children:s})}):null};var q=e=>{let{post:t,item:s,aspectRatio:i,index:n}=e,{post_type:a}=t,{description:r}=(0,V.zD)(t),{getDateRange:o}=(0,R.S)({timeStyle:"short"});switch(a){case"meme":case"image":return(0,l.jsxs)("div",{className:"relative w-full",style:{aspectRatio:i},children:[s&&(0,l.jsx)(G,{postId:t.id,item:s,alt:"feed post meme",priorityLoadImage:n<5,preloadImgWithGenerationSrc:0===n}),s&&(0,l.jsx)(Y,{item:s})]},"meme-".concat(t.id));case"contest_start":if(!t.contest)return null;let{title:d,description:m,start_time:h,end_time:u,prize:f}=t.contest;return(0,l.jsxs)("div",{className:"flex flex-col gap-1 border-2 border-violet-400 bg-[#140726]/90 p-4 rounded-xl w-full",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,l.jsx)(c.JO,{icon:"bxs:party",className:"size-8 text-violet-400"}),(0,l.jsxs)("h2",{className:"sm:text-lg text-sm text-violet-400 pb-1 text-wrap",children:[(0,l.jsx)("b",{children:d})," contest has started!",m&&(0,l.jsx)("p",{className:"text-white-400/70 sm:text-sm text-xs font-normal text-wrap",children:m})]})]}),(0,l.jsxs)("div",{className:"flex flex-row justify-between items-start gap-2 mt-2 border-t-1 border-violet-400/20 pt-3",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1.5 flex-1",children:[(0,l.jsx)("p",{className:"text-white-400 sm:text-sm text-xs uppercase font-semibold",children:"Prize"}),(0,l.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,l.jsx)(c.JO,{icon:"formkit:solana",className:"opacity-70 min-w-4",width:18}),(0,l.jsxs)("p",{className:"text-white-400/90 sm:text-sm text-xs",children:["+",(0,U._s)(f.token_amount)," ",f.ticker]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-1.5 flex-1 items-end",children:[(0,l.jsx)("p",{className:"text-white-400 sm:text-sm text-xs uppercase font-semibold",children:"Ends on"}),(0,l.jsxs)("div",{className:"flex flex-row sm:items-center items-start gap-2",children:[(0,l.jsx)(c.JO,{icon:"formkit:date",className:"opacity-70 min-w-4",width:18}),(0,l.jsx)("p",{className:"text-white-400/90 sm:text-sm text-xs text-wrap text-end",children:new Date((0,J.Aj)(u).toDate()).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"})})]})]})]})]});case"contest_winner":var p,v,j,w,g,b,N,y,k;if(!t.contest||!t.contest.winner)return null;return(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(x.default,{draggable:!1,className:"bg-white-400/10 rounded-xl rounded-b-none object-cover border-2 border-b-1 border-yellow-400",src:null!==(b=null===(p=t.contest.winner)||void 0===p?void 0:p.post_url)&&void 0!==b?b:"",alt:"Winning meme",width:null!==(N=t.contest.winner.width)&&void 0!==N?N:1152,height:null!==(y=t.contest.winner.height)&&void 0!==y?y:1152,priority:n<5}),(0,l.jsx)("div",{className:"absolute -bottom-4 -translate-x-1/2 left-1/2",children:(0,l.jsx)(x.default,{src:W.Z,width:48,height:48,alt:"Winning meme icon",className:"size-10"})})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 border-2 border-yellow-400 bg-[#1A1406]/90 p-4 rounded-b-xl",children:[(0,l.jsxs)("h2",{className:"sm:text-lg text-sm text-yellow-400 pb-1 text-wrap",children:[(0,l.jsx)("b",{children:t.contest.title})," has a winner!",t.contest.description&&(0,l.jsx)("p",{className:"sm:text-sm text-xs text-white-400/70 font-normal text-wrap",children:t.contest.description})]}),(0,l.jsxs)("div",{className:"flex flex-row justify-between items-center gap-2  border-t-1 border-yellow-400/20 pt-3",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1.5 flex-1",children:[(0,l.jsx)("p",{className:"text-white-400 sm:text-sm text-xs uppercase font-semibold",children:"Winner"}),(0,l.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,l.jsx)(_.h,{src:null!==(k=null===(j=t.contest.winner)||void 0===j?void 0:null===(v=j.contestant)||void 0===v?void 0:v.avatar)&&void 0!==k?k:"",alt:"Winning meme icon",size:"sm",className:"!size-5"}),(0,l.jsx)("div",{className:"flex flex-col",children:(0,l.jsx)("p",{className:"text-white-400/90 sm:text-sm text-xs",children:null===(g=t.contest.winner)||void 0===g?void 0:null===(w=g.contestant)||void 0===w?void 0:w.name})})]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-1.5 flex-1 items-center",children:[(0,l.jsx)("p",{className:"text-white-400 sm:text-sm text-xs uppercase font-semibold text-center",children:"Prize"}),(0,l.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,l.jsx)(c.JO,{icon:"formkit:solana",className:"opacity-70 min-w-4",width:18}),(0,l.jsxs)("p",{className:"text-white-400/90 sm:text-sm text-xs",children:["+",(0,U._s)(t.contest.prize.token_amount)," ",t.contest.prize.ticker]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-1.5 flex-1 items-end",children:[(0,l.jsx)("p",{className:"text-white-400 sm:text-sm text-xs uppercase font-semibold",children:"Votes"}),(0,l.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,l.jsx)(c.JO,{icon:"majesticons:arrow-up",className:"opacity-70 min-w-4",width:18}),(0,l.jsx)("p",{className:"font-bold sm:text-sm text-xs text-white-400/90",children:t.contest.winner.total_votes})]})]})]})]})]});default:return null}};let B=e=>{var t;let{index:s,post:i}=e,r=(0,g.useRouter)(),{isOpen:o,onOpen:d,onClose:m,onOpenChange:x}=(0,u.q)(),{onOpenPost:h}=(0,T.h)(),{onClickOpenContestInfo:N}=(0,L.Y)(null!==(t=i.contest)&&void 0!==t?t:void 0),{getOpenHref:y}=(0,E.e)(),[k,C]=(0,n.useState)(!1),_=(0,n.useMemo)(()=>{var e;return null!==(e=i.meme)&&void 0!==e?e:i.image},[i.meme,i.image]),z=(0,n.useMemo)(()=>i.meme?i.meme.width/i.meme.height:i.image?i.image.width/i.image.height:1152/896,[i.image,i.meme]),P=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),r.push("/u/".concat(i.by.handle))},[i.by.handle,r]),O=(0,n.useCallback)(()=>{let e=y({postId:i.id}),t="".concat(window.location.origin).concat(e);navigator.clipboard.writeText(t),m(),(0,b.yv)("Link copied to clipboard",{variant:"success",autoHideDuration:1500})},[y,i.id,m]),D=(0,n.useCallback)(async()=>{if(!i.meme)return null;try{C(!0);let e=await fetch(i.meme.url);if(!e.ok)throw Error("Network response was not ok.");let t=await e.blob(),s=new File([t],"post.png",{type:"image/png"});await navigator.share({title:"Share Meme",text:"Check out this meme on Memedeck",files:[s]})}catch(e){}finally{C(!1)}m()},[m,i.meme]);return(0,l.jsxs)("article",{className:(0,a.cn)("group","flex flex-col items-start justify-start","min-h-0 min-w-full max-w-full cursor-pointer gap-2 overflow-hidden","border-b border-white-400/15 transition-colors hover:bg-black-400","px-3 pb-3 pt-2.5"),onClick:()=>{if("contest_winner"===i.post_type)N();else if("contest_start"===i.post_type){var e;(null===(e=i.contest)||void 0===e?void 0:e.deck)&&r.push((0,S.o4)(i.contest.deck.id.replace("deck:",""),{sort_by:F.a.Contest}))}else h(i.id)},children:[(0,l.jsx)(I.i,{post:i,by:i.by,onProfileClick:P}),(0,l.jsx)(q,{post:i,item:_,aspectRatio:z,index:s}),(0,l.jsx)(M,{post:i,onClickShare:d}),(0,l.jsx)(f.R,{isOpen:o,placement:"bottom",hideCloseButton:!0,onOpenChange:x,children:(0,l.jsx)(p.A,{children:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(v.I,{className:"flex gap-3 pt-4",children:[(0,l.jsx)(j.A,{variant:"light",className:"flex justify-start",startContent:(0,l.jsx)(c.JO,{icon:"tdesign:link",width:18}),onClick:O,children:"Copy link"}),!!navigator.share&&(0,l.jsx)(j.A,{variant:"light",className:"flex justify-start",startContent:(0,l.jsx)(c.JO,{icon:"ri:share-2-line",width:18}),isLoading:k,onClick:D,children:"Share post via..."})]}),(0,l.jsx)(w.R,{children:(0,l.jsx)(j.A,{variant:"bordered",fullWidth:!0,onPress:e,children:"Cancel"})})]})})})]})};var K=s(25120),Q=s(96245),X=s(81255);let $=e=>{let{pausePolling:t=!1}=e,s=(0,Q.TL)(),[l,i]=(0,n.useState)(1),[a,r]=(0,n.useState)([]),[o]=(0,P.zI)(),c=(0,P.ws)({start:10*(l-1),limit:10,deck_id:"feed"}),d=(0,n.useCallback)(()=>{c.isFetching||c.isLoading||c.isError||i(e=>c.data&&0!==c.data.length?e+1:e)},[c.data,c.isError,c.isFetching,c.isLoading]),m=(0,n.useMemo)(()=>(0,X.D)(d,250),[d]),x=(0,n.useCallback)(async()=>{let e=window.innerHeight;document.body.offsetHeight-window.scrollY<3*e&&m()},[m]),h=(0,n.useCallback)(async()=>{var e,s;if(t||c.isFetching||c.isLoading||c.isError||c.isUninitialized)return r([]);let l=null===(s=c.data)||void 0===s?void 0:null===(e=s[0])||void 0===e?void 0:e.created_at;if(!l)return r([]);let i=new Date(l).toISOString(),n=new Date().toISOString(),{data:a}=await o({limit:10,deck_id:"feed",from:i,to:n});return a?r(a.filter(e=>{var t;return!(null===(t=c.data)||void 0===t?void 0:t.some(t=>t.id===e.id))})):r([])},[o,t,c.data,c.isError,c.isFetching,c.isLoading,c.isUninitialized]),u=(0,n.useCallback)(()=>{s(P.vK.util.updateQueryData("getPosts",{deck_id:"feed"},e=>e?[...a,...e]:a)),r([])},[s,a]);return(0,n.useEffect)(()=>(window.addEventListener("scroll",x),()=>{window.removeEventListener("scroll",x)}),[x]),(0,n.useEffect)(()=>{let e=setInterval(()=>{h()},15e3);return()=>{clearInterval(e)}},[h]),(0,n.useEffect)(()=>{c.isSuccess&&h()},[]),{newPosts:a,loadInNewPosts:u,...c}},ee=()=>{let{isPosting:e,isGenerating:t}=(0,H.C)(),{data:s,isFetching:a,newPosts:r,loadInNewPosts:c}=$({pausePolling:e||t}),[d,m]=(0,n.useState)(window.scrollY<200);(0,n.useEffect)(()=>{let e=()=>{m(window.scrollY<200)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]);let x=(0,n.useMemo)(()=>(null!=s?s:[]).filter((e,t,s)=>t===s.findIndex(t=>t.id===e.id)),[s]);return(0,l.jsxs)(l.Fragment,{children:[r.length>0&&(0,l.jsx)(l.Fragment,{children:d?(0,l.jsx)(o,{count:r.length,onClick:c}):(0,l.jsx)(h,{newPosts:r,onClick:c})}),(0,l.jsx)(K.Y,{}),(0,l.jsx)("div",{className:"relative min-w-full max-w-full",children:x.map((e,t)=>(0,l.jsx)(B,{index:t,post:e},"feed-item-".concat(t,"-").concat(e.id)))}),(0,l.jsx)("div",{className:"flex w-full justify-center items-center h-16",children:a&&(0,l.jsx)(i.c,{})})]})}},16451:function(e,t,s){"use strict";s.d(t,{FeedHeaderMobile:function(){return b}});var l=s(62284),i=s(46231),n=s(88938),a=s(2793),r=s(35850),o=s(59297),c=s(23405),d=s(8836),m=s(92449),x=s(54161),h=s(76295),u=s(45064),f=s(68871),p=s(35976),v=s(15219);let j=e=>{let{isOpen:t,onToggle:s}=e;(0,p.y)({locked:t});let a=(0,m.useRouter)(),{data:r}=(0,v.iS)(),j=(0,o.useCallback)(()=>{if(!r)return s();a.push("/u/".concat(r.handle))},[r,a,s]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z,{isOpen:t,onClick:s,children:(0,l.jsx)("div",{})}),(0,l.jsx)("aside",{className:(0,c.cn)("fixed top-0 left-0 h-full w-72 z-[100]","bg-black-300 shadow-2xl","transform transition-transform duration-200",{"translate-x-0":t,"-translate-x-full":!t}),children:(0,l.jsxs)("div",{className:"size-full flex flex-col",children:[(0,l.jsx)("section",{className:"flex flex-col px-3",children:(0,l.jsxs)("header",{className:"h-16 min-h-16 flex items-center justify-between gap-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(n.A,{isIconOnly:!0,size:"md",variant:"light",onClick:s,children:(0,l.jsx)(i.JO,{icon:"mdi:menu",className:"size-7"})}),(0,l.jsx)(u.B,{keepMemeDeck:!0})]}),(0,l.jsx)(n.A,{isIconOnly:!0,size:"md",radius:"full",variant:"light",onClick:j,children:r&&(0,l.jsx)(d.h,{size:"sm",name:r.name,src:r.avatar})})]})}),(0,l.jsx)("section",{className:"flex flex-1 min-h-0 px-3 overflow-y-auto pb-3",children:(0,l.jsx)(x._,{closeParentModal:s})}),(0,l.jsx)(f.n,{onToggleSidebar:s})]})})]})};var w=s(77395),g=s(96934);let b=()=>{let[e,t]=(0,o.useState)(!1),s=(0,o.useCallback)(()=>{t(e=>!e)},[]);return(0,l.jsxs)("nav",{className:"h-16 border-b border-white-400/10 bg-black-500 sm:hidden xs:block px-3",children:[(0,l.jsxs)("div",{className:"flex size-full w-full items-center justify-between gap-3",children:[(0,l.jsx)(n.A,{isIconOnly:!0,size:"md",variant:"light",onClick:s,children:(0,l.jsx)(i.JO,{icon:"mdi:menu",className:"size-7"})}),(0,l.jsx)("div",{className:"flex flex-1 justify-center items-center",children:(0,l.jsxs)(r.default,{href:"/home",className:"flex items-center gap-1",children:[(0,l.jsx)(w.QB,{className:"w-28"}),(0,l.jsx)(w.Ud,{})]})}),(0,l.jsx)(n.A,{as:r.default,href:"/trending",isIconOnly:!0,variant:"light",radius:"full",children:(0,l.jsx)(a.default,{src:g.Z,alt:"Search",className:"size-6"})})]}),(0,l.jsx)(j,{isOpen:e,onToggle:s})]})}},18702:function(e,t,s){"use strict";s.d(t,{HomeSidebar:function(){return O}});var l=s(62284),i=s(46902),n=s(23405),a=s(59297),r=s(46231),o=s(88938),c=s(56049),d=s(15219);let m=()=>{let{currentData:e}=(0,d.ft)(),[t]=(0,d.ny)();if(!e||0===Object.keys(e).length||!e.date_formatted)return null;let s=new Date(e.date_formatted.replace(/\.\d{3}\d*Z$/,".000Z")).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"});return(0,l.jsxs)(i.w,{shadow:"lg",className:"w-full rounded-lg pb-4 p-2 bg-[url('https://nextuipro.nyc3.cdn.digitaloceanspaces.com/components-images/abstract-dark-bg4.jpg')] bg-right-bottom",children:[(0,l.jsx)(o.A,{isIconOnly:!0,className:"absolute right-2 top-2 z-20",radius:"full",size:"sm",variant:"light",onClick:()=>t(e.id),children:(0,l.jsx)(r.JO,{className:"text-default-400",icon:"iconamoon:close-thin",width:24})}),(0,l.jsxs)(c.G,{className:"px-3 pb-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-start gap-4",children:[(0,l.jsx)(r.JO,{icon:"ic:sharp-tips-and-updates",className:"size-6"}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"text-small text-default-500/50",children:s}),(0,l.jsx)("h2",{className:"text-lg leading-6 font-black",children:(null==e?void 0:e.title)||"Product Updates"})]})]}),(0,l.jsx)("ul",{className:"mt-3",children:Object.entries(null==e?void 0:e.details).sort((e,t)=>e[0]-t[0]).map(e=>(0,l.jsxs)("li",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"min-w-4 pt-1",children:(0,l.jsx)(r.JO,{icon:"ic:sharp-check-circle",className:"size-4 text-white-400/75"})}),(0,l.jsx)("p",{className:"text-small text-white-400/75",children:e[1]})]},"product-update-feature"+e[0].toString()))})]})]})};var x=s(3070),h=s(72363);let u=()=>{let{isLoading:e,data:t}=(0,d.oX)({limit:4,interval:h.u.Week}),s=(0,a.useMemo)(()=>Object.values(null!=t?t:{}).filter(e=>"deck:feed"!==e.id).sort((e,t)=>e.rank-t.rank).slice(0,3),[t]);return e&&0===s.length?(0,l.jsx)("div",{className:"flex flex-col",children:[1,2,3].map(e=>(0,l.jsx)(x.L,{},e))}):(0,l.jsx)("div",{className:"flex flex-col",children:s.map((e,t)=>(0,l.jsx)(x.z,{rank:t+1,deck:e},e.id))})};var f=s(35850);let p=e=>{let{title:t,onClickOverride:s}=e;return(0,l.jsxs)("h2",{className:"flex gap-1.5 items-center justify-between w-full mb-2 px-4 pt-3 text-md font-bold",children:[(0,l.jsx)(f.default,{href:"/trending",className:"hover:underline",onClick:e=>{s&&(e.preventDefault(),s())},children:t}),(0,l.jsx)(f.default,{href:"/trending",className:"text-white-400/40 font-medium text-sm hover:underline",onClick:e=>{s&&(e.preventDefault(),s())},children:"This week"})]})};var v=s(37630),j=s(63006),w=s(2793),g=s(82258);let b=()=>(0,l.jsxs)(i.w,{className:"border-white-400/15 bg-transparent w-full min-w-full rounded-xl border",children:[(0,l.jsxs)(v.u,{className:"flex flex-row justify-between items-center pl-4 pr-3 pt-3",children:[(0,l.jsx)("h2",{className:"text-white-400 text-md font-bold",children:"Meme War"}),(0,l.jsx)("div",{className:"bg-white-400/10 w-32 h-4 rounded-md"})," "]}),(0,l.jsxs)(c.G,{className:"px-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center w-full mb-2",children:[(0,l.jsx)(N,{}),(0,l.jsx)("div",{className:"bg-white-400/10 size-6 rounded-full"})," ",(0,l.jsx)(N,{})]}),(0,l.jsxs)("div",{className:"px-1",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mt-2",children:[(0,l.jsx)(y,{}),(0,l.jsx)(y,{})]}),(0,l.jsx)("div",{className:"w-full h-6 bg-white-400/10 rounded-full overflow-hidden relative mt-0.5"}),(0,l.jsx)("div",{className:"flex justify-center w-full my-1",children:(0,l.jsx)("span",{className:"text-white-400/35 text-tiny text-center",children:"Total memes"})})]})]})]}),N=()=>(0,l.jsx)("div",{className:"flex flex-col items-center",children:(0,l.jsx)("div",{className:"bg-white-400/10 size-32 rounded-lg"})}),y=()=>(0,l.jsx)("div",{className:"flex flex-row items-end gap-1 mb-1",children:(0,l.jsx)("div",{className:"bg-white-400/10 w-10 h-6 rounded-md"})});var k=e=>{let{id:t,vsImageUrl:s}=e,{data:n}=(0,d.N3)(t),{character1:o,character2:m}=n||{},[x,h]=(0,a.useState)((null==o?void 0:o.count)||0),[u,p]=(0,a.useState)((null==m?void 0:m.count)||0),[N,y]=(0,a.useState)(0),[k,C]=(0,a.useState)(0);return((0,a.useEffect)(()=>{h((null==o?void 0:o.count)||0),p((null==m?void 0:m.count)||0)},[null==o?void 0:o.count,null==m?void 0:m.count]),(0,a.useEffect)(()=>{let e=x+u;y(x/e*100),C(u/e*100)},[x,u]),n&&o&&m)?(0,l.jsxs)(i.w,{className:"border-white-400/15 bg-transparent w-full min-w-full rounded-xl border",children:[(0,l.jsxs)(v.u,{className:"flex flex-row justify-between items-center pl-4 pr-3 pt-3",children:[(0,l.jsx)("h2",{className:"text-white-400 text-md font-bold",children:"Meme War"}),(0,l.jsxs)(f.default,{color:"foreground",href:"/deck/".concat(n.battle_deck),className:"flex items-center text-foreground/50 text-sm justify-center",children:[n.battle_deck_text?"View ".concat(n.battle_deck_text," deck"):"View deck",(0,l.jsx)(r.JO,{icon:"uim:angle-right",className:"size-4"})]})]}),(0,l.jsxs)(c.G,{className:"px-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center w-full mb-2",children:[(0,l.jsx)(j.e,{content:"View ".concat(o.name," deck"),delay:100,closeDelay:0,placement:"bottom",children:(0,l.jsx)(f.default,{className:"flex flex-col items-center cursor-pointer hover:bg-white-400/15 transition-all duration-300 ease-in-out rounded-lg",href:(0,g.o4)(o.deck),children:(0,l.jsx)(w.default,{src:o.avatar,alt:o.name,width:90,height:90,className:"size-32 rounded-lg object-cover"})})}),(0,l.jsx)(w.default,{src:s,alt:"VS",width:32,height:32,className:"size-7"}),(0,l.jsx)(j.e,{content:"View ".concat(m.name," deck"),delay:100,closeDelay:0,placement:"bottom",children:(0,l.jsx)(f.default,{className:"flex flex-col items-center cursor-pointer hover:bg-white-400/15 transition-all duration-300 ease-in-out rounded-lg",href:(0,g.o4)(m.deck),children:(0,l.jsx)(w.default,{src:m.avatar,alt:m.name,width:90,height:90,className:"size-32 rounded-lg object-cover"})})})]}),(0,l.jsxs)("div",{className:"px-1",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mt-2",children:[(0,l.jsxs)("span",{className:"text-blue-500",children:[(0,l.jsx)("span",{className:"text-xl font-bold",children:x.toLocaleString()})," ",(0,l.jsx)("span",{className:"text-sm uppercase",children:o.name})]}),(0,l.jsxs)("span",{className:"text-red-500",children:[(0,l.jsx)("span",{className:"text-sm uppercase",children:m.name})," ",(0,l.jsx)("span",{className:"text-xl font-bold",children:u.toLocaleString()})]})]}),(0,l.jsxs)("div",{className:"w-full h-6 bg-gray-800 rounded-full overflow-hidden relative mt-0.5",children:[(0,l.jsx)("div",{className:"absolute left-0 h-full bg-blue-500 transition-all duration-500 ease-in-out",style:{width:"".concat(N,"%")}}),(0,l.jsx)("div",{className:"absolute right-0 h-full bg-red-500 transition-all duration-500 ease-in-out",style:{width:"".concat(k,"%")}})]}),(0,l.jsx)("div",{className:"flex justify-center w-full my-1",children:(0,l.jsx)("span",{className:"text-white-400/35 text-tiny text-center",children:"Total memes"})})]})]})]}):(0,l.jsx)(b,{})},C=s(49804);let _=e=>{let{posters:t,isLoading:s}=e;return s&&0===t.length?(0,l.jsx)("div",{className:"flex flex-col",children:[1,2,3,4,5].map(e=>(0,l.jsx)(C.y,{},e))}):(0,l.jsx)("div",{className:"flex flex-col",children:t.map(e=>(0,l.jsx)(f.default,{href:"/u/".concat(e.handle),"aria-label":"View @".concat(e.handle,"'s profile"),className:"hover:bg-white-400/5",children:(0,l.jsx)(C.W,{poster:e})},e.handle))})};var z=s(68871),P=s(344),S=s(26649);let O=()=>{let[e,t]=(0,a.useState)(!1),{data:s,isLoading:r,isFetching:o}=(0,d.S2)({interval:h.u.Week,start:0,limit:e?50:5}),c=(0,a.useMemo)(()=>null!=s?s:[],[s]);return(0,l.jsxs)("div",{className:(0,n.cn)("hidden md:block","flex-1 max-h-full","min-w-[272px] max-w-[272px] xl:min-w-[318px] xl:max-w-[318px]"),children:[(0,l.jsxs)("div",{className:"sticky right-0 top-0 flex flex-col gap-3 pt-3 pb-1 h-screen overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-3 flex-1 -mb-1",children:[(0,l.jsxs)(i.w,{className:"border-white-400/15 bg-transparent w-full min-w-full rounded-xl border pb-4",children:[(0,l.jsx)(p,{title:"Top Decks"}),(0,l.jsx)(u,{})]}),(0,l.jsxs)(i.w,{className:"border-white-400/15 bg-transparent w-full min-w-full rounded-xl border pb-4",children:[(0,l.jsx)(p,{title:"Top Posters",onClickOverride:()=>t(!0)}),(0,l.jsx)(_,{posters:c.slice(0,5),isLoading:r})]}),(0,l.jsx)(k,{id:"usa_election_2024",vsImageUrl:"https://media.memedeck.xyz/ai-characters/election/vs-badge.png"}),(0,l.jsx)(m,{})]}),(0,l.jsx)(z.n,{})]}),(0,l.jsx)(P.y,{title:"Top Posters",count:c.length,body:(0,l.jsx)(S.A,{posters:c,isLoading:o}),isOpen:e,onClose:()=>t(!1)})]})}},54161:function(e,t,s){"use strict";s.d(t,{_:function(){return k}});var l=s(62284),i=s(46231),n=s(88938),a=s(59297),r=s(3070),o=s(65615),c=s(9067),d=s(15382),m=s(98335);let x=e=>{let{title:t,children:s,onScroll:i,onClose:n}=e;return(0,l.jsx)(o.R,{isOpen:!0,onOpenChange:n,children:(0,l.jsxs)(c.A,{className:"pb-4",children:[(0,l.jsx)(d.k,{className:"flex items-center gap-3 px-6",children:(0,l.jsx)("h3",{children:t})}),(0,l.jsx)(m.I,{className:"max-h-96 min-h-96 overflow-y-auto px-2 py-0",onScroll:i,children:s})]})})};var h=s(68880),u=s(15219),f=s(72363);let p=e=>{let{onClose:t}=e,[s,i]=(0,a.useState)(1),{data:n,isLoading:o,isFetching:c,isError:d}=(0,u.Ug)({start:0,limit:100*s,interval:f.u.Month}),m=(0,a.useCallback)(()=>{c||o||d||i(e=>{let t=!n||0===n.length,s=(null!=n?n:[]).length<100*e;return t||s?e:e+1})},[n,d,c,o]),p=(0,a.useCallback)(e=>{let{scrollLeft:t,clientWidth:s,scrollWidth:l}=e.currentTarget;t+s>=l-400&&m()},[m]),v=(0,a.useMemo)(()=>(null!=n?n:[]).filter(e=>e.title.length>0).filter(e=>!e.is_following&&!e.is_admin),[n]);return(0,l.jsx)(x,{title:"Explore Decks",onScroll:p,onClose:t,children:(0,l.jsxs)("div",{className:"flex flex-col size-full",children:[c||0!==v.length?v.map(e=>(0,l.jsx)(r.z,{deck:e,radius:"rounded-sm",onClickNavigate:t},e.id)):(0,l.jsx)("p",{className:"mx-4 text-tiny text-white-400/50 mt-1",children:"No more decks"}),c&&(0,l.jsx)("div",{className:"flex w-full justify-center p-3",children:(0,l.jsx)(h.c,{})})]})})};var v=s(65104),j=s(7602);let w=e=>{let{title:t,count:s,endContent:i,onClick:n}=e;return(0,l.jsxs)("header",{className:"h-10 mt-2 min-h-10 flex items-center justify-between border-b border-white-400/10",children:[(0,l.jsxs)(v.O,{className:"flex items-center gap-3 cursor-pointer",onClick:n,children:[(0,l.jsx)("h3",{className:"text-white-400 font-base",children:t}),s>0&&(0,l.jsx)(j.z,{size:"sm",variant:"flat",children:s})]}),i]})};var g=s(21797);let b=e=>{let{title:t,icon:s,onClick:n}=e;return(0,l.jsxs)("div",{className:"flex items-center gap-2 px-1.5 h-8 min-h-8 cursor-pointer",onClick:n,children:[(0,l.jsx)("div",{className:"flex items-center justify-center size-5",children:(0,l.jsx)(i.JO,{icon:s,className:"size-5 text-white-400/75"})}),(0,l.jsx)("span",{className:"text-white-400/75 text-sm",children:t})]})},N=e=>{let{isFetching:t,decks:s,collapsedLength:i,showAllTitle:n,newPostCounts:r,onClickShowAll:o}=e,[c,d]=(0,a.useState)(i),m=(0,a.useMemo)(()=>s.map(e=>{var t;return{...e,newPosts:null!==(t=null==r?void 0:r[e.id])&&void 0!==t?t:0}}).sort((e,t)=>t.newPosts!==e.newPosts?t.newPosts-e.newPosts:t.has_active_contest!==e.has_active_contest?t.has_active_contest?1:-1:e.title.localeCompare(t.title)).slice(0,c),[s,r,c]),x=(0,a.useMemo)(()=>m.length<s.length,[s,m]),h=(0,a.useMemo)(()=>m.length<s.length&&s.length>i,[i,s.length,m.length]),u=(0,a.useMemo)(()=>m.length===s.length&&s.length>i,[i,s.length,m.length]),f=(0,a.useCallback)(()=>d(s.length),[s.length]),p=(0,a.useCallback)(()=>d(i),[i]);return(0,l.jsxs)("div",{className:"flex flex-col gap-1.5",children:[t?[1,2,3].map(e=>(0,l.jsx)(g.h,{},e)):0===m.length?(0,l.jsx)("p",{className:"text-tiny text-white-400/50 mt-1",children:"No decks"}):m.map(e=>{let{newPosts:t,...s}=e;return(0,l.jsx)(g.D,{deck:s,newPosts:t},s.id)}),x&&h&&(0,l.jsx)(b,{title:"Show more",icon:"mdi:chevron-down",onClick:f}),u&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b,{title:n,icon:"tabler:list",onClick:o}),(0,l.jsx)(b,{title:"Show less",icon:"mdi:chevron-up",onClick:p})]})]})};var y=s(16040);let k=e=>{var t,s;let{closeParentModal:o}=e,c=(0,u.iS)(),d=(0,u.m4)(),{isCreating:m,onClickNewDeck:h}=(0,y.W)(),[f,v]=(0,a.useState)(!1),[j,g]=(0,a.useState)(!1),[b,k]=(0,a.useState)(!1),C=(0,a.useMemo)(()=>d.currentData,[d.currentData]),_=(0,a.useMemo)(()=>{var e,t;return Object.values(null!==(t=null===(e=c.currentData)||void 0===e?void 0:e.decks)&&void 0!==t?t:{}).filter(e=>e.is_creator||e.is_admin)},[null===(t=c.currentData)||void 0===t?void 0:t.decks]),z=(0,a.useMemo)(()=>_.filter(e=>e.title.length>0).sort((e,t)=>{var s,l;return new Date(null!==(s=t.updated_at)&&void 0!==s?s:t.created_at).getTime()-new Date(null!==(l=e.updated_at)&&void 0!==l?l:e.created_at).getTime()}),[_]),P=(0,a.useMemo)(()=>{var e,t;return Object.values(null!==(t=null===(e=c.currentData)||void 0===e?void 0:e.decks)&&void 0!==t?t:{}).filter(e=>e.is_following&&!e.is_creator)},[null===(s=c.currentData)||void 0===s?void 0:s.decks]),S=(0,a.useMemo)(()=>C?P.slice().filter(e=>!e.is_admin).sort((e,t)=>{var s,l,i,n;let a=null!==(s=C[e.id])&&void 0!==s?s:0,r=null!==(l=C[t.id])&&void 0!==l?l:0;return r!==a?r-a:(null!==(i=t.follower_count)&&void 0!==i?i:0)-(null!==(n=e.follower_count)&&void 0!==n?n:0)}):P,[P,C]);return c.currentData||c.isFetching?(0,l.jsxs)("div",{className:"flex flex-col gap-1 size-full",children:[(0,l.jsx)(w,{title:"My Decks",count:_.length,endContent:(0,l.jsx)(n.A,{size:"sm",isIconOnly:!0,variant:"light",isLoading:m,onClick:()=>{h(),null==o||o()},children:(0,l.jsx)(i.JO,{icon:"mdi:plus",className:"size-6 text-white-400/75"})}),onClick:()=>{v(!0),null==o||o()}}),(0,l.jsx)(N,{isFetching:c.isLoading,decks:z,collapsedLength:3,newPostCounts:C,showAllTitle:"All decks",onClickShowAll:()=>{v(!0),null==o||o()}}),(0,l.jsx)(w,{title:"Following",count:P.length,endContent:(0,l.jsx)(n.A,{size:"sm",isIconOnly:!0,variant:"light",onClick:()=>{k(!0),null==o||o()},children:(0,l.jsx)(i.JO,{icon:"mdi:search",className:"size-5 text-white-400/75"})}),onClick:()=>{g(!0),null==o||o()}}),(0,l.jsx)(N,{isFetching:c.isLoading,decks:P,collapsedLength:10,newPostCounts:C,showAllTitle:"All following",onClickShowAll:()=>{g(!0),null==o||o()}}),f&&(0,l.jsx)(x,{title:"My Decks",onClose:()=>v(!1),children:(0,l.jsxs)("div",{className:"flex flex-col size-full",children:[0===z.length&&(0,l.jsx)("p",{className:"mx-4 text-sm text-white-400/50 mt-1",children:"No decks"}),z.map(e=>(0,l.jsx)(r.z,{deck:e,metric:"followers",radius:"rounded-sm",onClickNavigate:()=>v(!1)},"".concat(e.id,"-").concat(e.cover_photo)))]})}),j&&(0,l.jsx)(x,{title:"Following",onClose:()=>g(!1),children:(0,l.jsxs)("div",{className:"flex flex-col size-full",children:[0===S.length&&(0,l.jsx)("p",{className:"mx-4 text-sm text-white-400/50 mt-1",children:"No decks"}),S.map(e=>(0,l.jsx)(r.z,{deck:e,metric:"followers",radius:"rounded-sm",onClickNavigate:()=>g(!1)},e.id))]})}),b&&(0,l.jsx)(p,{onClose:()=>k(!1)}),(0,l.jsx)("div",{className:"w-full h-3 min-h-3"})]}):null}},76295:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var l=s(62284),i=s(23405);let n=e=>{let{isOpen:t=!0,children:s,onClick:n}=e;return(0,l.jsx)("div",{className:(0,i.cn)("modal-overlay","fixed inset-0 z-50 flex size-full max-h-full min-h-0 items-start xs:items-center justify-center overflow-y-auto overflow-x-hidden","bg-white-100 px-4 py-[10vh]","transition-opacity duration-100",{"opacity-0":!t,"opacity-100":t,"pointer-events-none":!t}),onClick:n,children:s})}},45064:function(e,t,s){"use strict";s.d(t,{B:function(){return r}});var l=s(62284),i=s(23405),n=s(2793),a=s(18957);let r=e=>{let{keepMemeDeck:t=!1,keepStudio:s=!1}=e;return(0,l.jsxs)("div",{className:"flex items-center h-8 min-h-8",children:[(0,l.jsx)(n.default,{priority:!0,src:a.Z,alt:"Meme Deck",className:(0,i.cn)("h-8 w-auto xl:block",t?"":"hidden"),draggable:!1}),(0,l.jsx)("h1",{className:(0,i.cn)("text-stone-300 text-lg sm:block",s?"":"hidden"),children:"Studio"})]})}},85493:function(e,t,s){"use strict";s.d(t,{q:function(){return j}});var l=s(62284),i=s(46231),n=s(88938),a=s(59297),r=s(65615),o=s(9067),c=s(15382),d=s(98335),m=s(15254),x=s(44443),h=s(44941),u=s(79083),f=s(35850),p=s(66975);let v=e=>{let{isOpen:t=!1,onClose:s}=e,[v,j]=(0,a.useState)(""),[w,g]=(0,a.useState)(""),[b,N]=(0,a.useState)(!1),y=(0,a.useCallback)(async e=>{e.preventDefault();try{if(N(!0),!await fetch("https://formspree.io/f/xvgpewyq",{method:"POST",headers:{Accept:"application/json"},body:new FormData(e.currentTarget)}))throw Error();(0,p.yv)("Thank you!",{variant:"success"}),s()}catch(e){(0,p.yv)("Failed to submit form",{variant:"error"})}finally{N(!1)}},[s]);return(0,l.jsx)(r.R,{isOpen:t,onClose:s,title:"Contest Terms and Conditions",children:(0,l.jsx)(o.A,{children:(0,l.jsxs)("form",{onSubmit:y,children:[(0,l.jsxs)(c.k,{className:"flex gap-2 items-center",children:[(0,l.jsx)(i.JO,{icon:"mdi:chat",className:"size-5"}),(0,l.jsx)("h1",{children:"Support"})]}),(0,l.jsxs)(d.I,{children:[(0,l.jsx)(m.Y,{label:"Email",name:"email",placeholder:"youremail@gmail.com",description:"Enter the best way to reach you.",type:"email",classNames:{inputWrapper:"bg-white-400/5"},isRequired:!0,value:v,onValueChange:j}),(0,l.jsx)(x.Y,{label:"Message",name:"message",placeholder:'"Faceswap isn\'t working" or "I want video functionality"',description:(0,l.jsxs)("span",{children:["For immediate support, reach out in our"," ",(0,l.jsxs)(f.default,{href:"https://t.me/memedeck",target:"_blank",className:"inline-flex underline -mr-0.5",children:["Telegram",(0,l.jsx)(h.x,{})]}),"chat."]}),type:"text",classNames:{inputWrapper:"bg-white-400/5"},isRequired:!0,value:w,onValueChange:g})]}),(0,l.jsx)(u.R,{children:(0,l.jsx)(n.A,{type:"submit",isLoading:b,isDisabled:!v||!w,children:"Submit"})})]})})})},j=e=>{let{onClick:t}=e,[s,r]=(0,a.useState)(!1);return(0,l.jsxs)("div",{children:[(0,l.jsx)(n.A,{variant:"flat",size:"sm",startContent:(0,l.jsx)(i.JO,{icon:"mdi:chat"}),onClick:()=>{r(!0),null==t||t()},children:(0,l.jsx)("h4",{children:"Support"})}),(0,l.jsx)(v,{isOpen:s,onClose:()=>r(!1)})]})}},18957:function(e,t){"use strict";t.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo-wide.572ec4d3.svg",height:256,width:702,blurWidth:0,blurHeight:0}},12688:function(e,t,s){"use strict";s.d(t,{C:function(){return x}});var l=s(9710),i=(0,s(63179).tv)({slots:{base:["px-1.5","py-0.5","inline-flex","space-x-0.5","rtl:space-x-reverse","items-center","font-sans","font-normal","text-center","text-small","shadow-small","bg-default-100","text-foreground-600","rounded-small"],abbr:"no-underline",content:""},variants:{},defaultVariants:{}}),n=s(32094),a=s(6213),r=s(59297),o={command:"⌘",shift:"⇧",ctrl:"⌃",option:"⌥",enter:"↵",delete:"⌫",escape:"⎋",tab:"⇥",capslock:"⇪",up:"↑",right:"→",down:"↓",left:"←",pageup:"⇞",pagedown:"⇟",home:"↖",end:"↘",help:"?",space:"␣"},c={command:"Command",shift:"Shift",ctrl:"Control",option:"Option",enter:"Enter",delete:"Delete",escape:"Escape",tab:"Tab",capslock:"Caps Lock",up:"Up",right:"Right",down:"Down",left:"Left",pageup:"Page Up",pagedown:"Page Down",home:"Home",end:"End",help:"Help",space:"Space"},d=s(62284),m=(0,l.Gp)((e,t)=>{let{Component:s,children:m,slots:x,classNames:h,keysToRender:u,getKbdProps:f}=function(e){let[t,s]=(0,l.oe)(e,i.variantKeys),{as:o,children:c,className:d,keys:m,title:x,classNames:h,...u}=t,f=(0,r.useMemo)(()=>i({...s}),[(0,n.Xx)(s)]),p=(0,a.W)(null==h?void 0:h.base,d);return{Component:o||"kbd",slots:f,classNames:h,title:x,children:c,keysToRender:"string"==typeof m?[m]:Array.isArray(m)?m:[],getKbdProps:(e={})=>({...u,...e,className:(0,a.W)(f.base({class:(0,a.W)(p,e.className)}))})}}({...e}),p=(0,r.useMemo)(()=>u.map(e=>(0,d.jsx)("abbr",{className:x.abbr({class:null==h?void 0:h.abbr}),title:c[e],children:o[e]},e)),[u]);return(0,d.jsxs)(s,{ref:t,...f(),children:[p,m&&(0,d.jsx)("span",{className:x.content({class:null==h?void 0:h.content}),children:m})]})});m.displayName="NextUI.Kbd";var x=m}},function(e){e.O(0,[4586,2446,8938,9303,1271,4607,3453,322,1866,6127,3316,6157,9675,6018,6844,4026,5217,3089,4729,5219,621,3746,4058,102,6040,46,4868,2046,1744],function(){return e(e.s=76019)}),_N_E=e.O()}]);