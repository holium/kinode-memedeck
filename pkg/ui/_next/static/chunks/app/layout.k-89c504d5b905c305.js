(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[556],{65579:function(e,t,r){Promise.resolve().then(r.t.bind(r,40877,23)),Promise.resolve().then(r.bind(r,61450)),Promise.resolve().then(r.bind(r,19918)),Promise.resolve().then(r.bind(r,32770)),Promise.resolve().then(r.t.bind(r,8154,23)),Promise.resolve().then(r.t.bind(r,63798,23)),Promise.resolve().then(r.t.bind(r,58764,23)),Promise.resolve().then(r.t.bind(r,45688,23)),Promise.resolve().then(r.bind(r,48751)),Promise.resolve().then(r.bind(r,60402)),Promise.resolve().then(r.bind(r,33120)),Promise.resolve().then(r.bind(r,41116)),Promise.resolve().then(r.bind(r,65805)),Promise.resolve().then(r.bind(r,71668))},26645:function(e,t,r){"use strict";r.d(t,{Ud:function(){return f},hd:function(){return d},Ew:function(){return u},QB:function(){return m}});var l=r(91104),s=r(30027),i=r(83301),n={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo.a86b8f2b.svg",height:256,width:256,blurWidth:0,blurHeight:0},a=r(8748),o=r(51115),c=r(18159);let d=()=>(0,l.jsx)("div",{className:"flex h-16 select-none items-center justify-center lg:px-2 lg:text-left",children:(0,l.jsxs)(s.default,{href:"/home",children:[(0,l.jsxs)("div",{className:"hidden gap-1 items-center lg:flex",children:[(0,l.jsx)(m,{}),(0,l.jsx)(f,{})]}),(0,l.jsx)("div",{className:"lg:hidden",children:(0,l.jsx)(u,{})})]})}),u=()=>(0,l.jsx)(i.default,{src:n,alt:"".concat(o.jG," Icon"),"aria-label":"".concat(o.jG," - ").concat(o.vk),className:"h-10 w-full select-none"}),m=e=>{let{className:t="h-12 w-auto"}=e;return(0,l.jsx)(i.default,{priority:!0,src:a.Z,alt:"".concat(o.jG," Logo"),"aria-label":"".concat(o.jG," - ").concat(o.vk),className:t,draggable:!1})},f=()=>(0,l.jsx)(c.z,{size:"sm",color:"warning",classNames:{base:"mb-0.5 text-yellow-400 bg-yellow-50 border-1 border-yellow-400/10"},children:"Alpha"})},42891:function(e,t,r){"use strict";r.d(t,{F:function(){return c}});var l=r(91104),s=r(26816),i=r(83301),n=r(57826),a=r(41116),o=r(61281);let c=e=>{let{className:t="mt-3 w-full min-w-[50px] rounded-full"}=e,r=(0,s.useRouter)(),{profile:c,setIsSignupModalOpen:d}=(0,a.useProfile)();return(0,l.jsx)(n.A,{type:"button",variant:"shadow",color:"primary",className:t,size:"lg",radius:"full",disableRipple:!0,isIconOnly:!0,onClick:()=>{if(!c){d(!0);return}r.push("/studio")},children:(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,l.jsx)(i.default,{src:o.Z,alt:"Generate",className:"size-6"}),(0,l.jsx)("h1",{className:"hidden lg:flex text-base",children:"Generate"})]})})}},61450:function(e,t,r){"use strict";r.r(t),r.d(t,{MenuDesktop:function(){return g}});var l=r(91104),s=r(26816),i=r(32440),n=r(26645),a=r(41116),o=r(63137),c=r(83301);let d=e=>{let{id:t,children:r,border:s="border border-white-400/10",bg:i="bg-black-300",padding:n="px-4",height:a="h-10",cursor:c="cursor-pointer",className:d,disabled:u,onClick:m,onClickOutside:f}=e;return(0,o.useEffect)(()=>{if(f){let e=e=>{e.target.id!==t&&f()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}},[t,f]),(0,l.jsx)("button",{id:t,className:"flex select-none items-center gap-2 rounded-full ".concat(a," ").concat(n," ").concat(s," ").concat(c," ").concat(i," ").concat(d),disabled:u,onClick:m,children:r})};var u={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/ellipsis.a4814300.svg",height:10,width:49,blurWidth:0,blurHeight:0},m=r(33968);let f=e=>{let{items:t,position:r="absolute inset-x-0 -top-16",width:s="w-auto",itemPadding:i="px-2"}=e;return(0,l.jsx)("div",{id:"profile-dropdown",className:"border-white-400/10 bg-black-300 z-10 mb-2 flex cursor-default flex-col items-center rounded-lg border py-2 drop-shadow ".concat(r," ").concat(s),children:t.map((e,t)=>(0,l.jsx)("button",{className:"hover:bg-black-400 w-full cursor-pointer text-left text-sm font-semibold leading-10 ".concat(i),onClick:e.onClick,children:(0,l.jsx)("p",{className:"truncate ".concat("danger"===e.type?"text-red-500":""),children:e.label})},"dropdown-item-".concat(e.label,"-").concat(t)))})},h=e=>{let{profile:t}=e,[r,s]=(0,o.useState)(!1),i=t.twitter_profile,n=e=>{let t=e.target;t.closest("#profile-pill")||t.closest("#profile-dropdown")||s(!1)};return(0,l.jsxs)(d,{id:"profile-pill",padding:"px-2 lg:px-4",className:"relative mb-4 h-12 max-w-52 justify-center gap-3 ",onClick:()=>(s(!0),document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}),children:[(0,l.jsx)(c.default,{src:i.profile_image_url_https,alt:i.name,className:"rounded-full lg:-ml-2",width:32,height:32}),(0,l.jsx)("p",{className:"hidden flex-1 truncate text-sm font-medium lg:flex",children:i.name}),(0,l.jsx)(c.default,{src:u,alt:"Account",className:"hidden w-4 lg:flex"}),r&&(0,l.jsx)(f,{items:[{label:"Log out @".concat(i.screen_name),onClick:()=>{m.P.logout().then(()=>{window.location.reload()})}}]})]})};var x=r(42891),p=r(30027),b=r(49566);let v=e=>{let{tab:t,pathname:r}=e,{profile:s}=(0,a.useProfile)(),n=(0,i.c1)(t,null==s?void 0:s.twitter_profile.screen_name),o=r.startsWith(n),c=(0,i.br)(t,o);return(0,l.jsx)(p.default,{href:n,className:"tab py-2",children:(0,l.jsxs)("div",{className:"tab-pill inline-flex size-12 w-full items-center justify-center rounded-full lg:min-w-44 lg:justify-normal lg:px-4 ".concat(o?"active border border-blue-500 bg-blue-100":"border border-black-0"),children:[(0,l.jsx)("div",{className:"flex size-6 items-center justify-center",children:(0,l.jsx)(b.JO,{icon:c,color:o?"rgb(147 197 253)":"white",className:"flex size-6"})}),(0,l.jsx)("h2",{className:"mx-3 ".concat(o?"text-blue-300":"text-stone-200"," hidden text-md lg:block"),children:t})]})})},g=()=>{let e=(0,s.usePathname)(),{profile:t}=(0,a.useProfile)();return(0,l.jsx)("aside",{className:"relative hidden w-12 min-w-12 sm:flex lg:w-52 lg:min-w-52",children:(0,l.jsxs)("div",{className:"fixed inset-y-0 flex flex-col",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)(n.hd,{}),(0,l.jsx)("div",{className:"relative mb-4 mt-2 flex flex-1 flex-col",children:Object.values(i.mQ).map(t=>(0,l.jsx)(v,{tab:t,pathname:e},t))}),(0,l.jsx)(x.F,{})]}),t&&(0,l.jsx)(h,{profile:t})]})})}},19918:function(e,t,r){"use strict";r.r(t),r.d(t,{MenuMobile:function(){return u}});var l=r(91104),s=r(26816),i=r(32440),n=r(45268),a=r(49566),o=r(41116);let c=e=>{let{tab:t,pathname:r}=e,c=(0,s.useRouter)(),{profile:d,setIsSignupModalOpen:u}=(0,o.useProfile)(),m=(0,i.c1)(t,null==d?void 0:d.twitter_profile.screen_name),f=r.startsWith(m),h=(0,i.br)(t,f),x=null;return x=t===i.mQ.Profile?(0,l.jsx)(n.h,{size:"sm",className:"!size-7 ".concat(f?"border-1.5 border-blue-500":""),src:null==d?void 0:d.twitter_profile.profile_image_url_https}):(0,l.jsx)(a.JO,{icon:h,color:f?"rgb(147 197 253)":"white",className:"flex size-6"}),(0,l.jsx)("button",{className:"flex flex-1 justify-center",onClick:()=>{if(!d){u(!0);return}c.push(m)},children:(0,l.jsx)("div",{className:"inline-flex h-16 items-center justify-center rounded-full",children:x})})};var d=r(42891);let u=()=>{let e=(0,s.usePathname)();return(0,l.jsxs)("nav",{className:"fixed inset-x-0 px-3 bottom-0 z-50 h-16 border-t border-white-400/10 bg-black-400 sm:hidden xs:fixed",children:[(0,l.jsx)("div",{className:"flex w-full items-center justify-center gap-3",children:Object.values(i.mQ).map(t=>(0,l.jsx)(c,{tab:t,pathname:e},t))}),(0,l.jsx)("div",{className:"fixed bottom-20 right-4 sm:right-6 block sm:hidden size-12",children:(0,l.jsx)(d.F,{className:"mt-0 size-16"})})]})}},32440:function(e,t,r){"use strict";var l,s;r.d(t,{br:function(){return i},c1:function(){return n},mQ:function(){return l}}),(0,r(73147).Cb)("all"),(s=l||(l={})).Home="Home",s.Explore="Explore",s.Library="My Library",s.Profile="Profile";let i=(e,t)=>{switch(e){case"Home":return t?"fluent:home-24-filled":"fluent:home-24-regular";case"Explore":return"fluent:search-24-filled";case"My Library":return t?"fluent:emoji-meme-24-filled":"fluent:emoji-meme-24-regular";case"Profile":return t?"fluent:person-24-filled":"fluent:person-24-regular"}},n=(e,t)=>{switch(e){case"Home":return"/home";case"Explore":return"/explore";case"My Library":return"/library";case"Profile":return"/u/".concat(t)}}},65805:function(e,t,r){"use strict";r.r(t),r.d(t,{UIProvider:function(){return i}});var l=r(91104),s=r(35618);function i(e){let{children:t}=e;return(0,l.jsx)(s.w,{className:"flex min-h-0 w-full min-w-0 flex-1",children:t})}},71668:function(e,t,r){"use strict";r.r(t),r.d(t,{UploadProvider:function(){return b},useUpload:function(){return v}});var l=r(91104),s=r(36623),i=r(63137);let n=e=>{let t=new FileReader;return new Promise((r,l)=>{t.onload=e=>{var t;let s=null===(t=e.target)||void 0===t?void 0:t.result;if(!s){l(Error("Failed to read file"));return}r(new Uint8Array(s))},t.onerror=()=>l(t.error),t.readAsArrayBuffer(e)})};var a=r(57826);let o=e=>{let{text:t,textButton:r,onClick:s}=e;return(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[t,r&&s&&(0,l.jsx)(a.A,{variant:"solid",color:"success",size:"sm",className:"text-white-400",onClick:s,children:r})]})};var c=r(29125),d=r(41116),u=r(26816),m=r(60402),f=r(33968),h=r(4180),x=r(98127);let p=(0,i.createContext)({}),b=e=>{let{children:t}=e,r=(0,u.useRouter)(),{openMemeModal:a}=(0,x.T)(),{isPostingMemes:b,setIsHovering:v}=(0,d.useProfile)(),{onUploadMeme:g}=(0,m.useFeed)(),[w,j]=(0,i.useState)([]),[y,k]=(0,i.useState)(),[N,P]=(0,i.useState)(!1),_=(0,i.useCallback)(async(e,t)=>{try{(0,s.sy)();let r=e.name.slice(0,20),i=(0,s.yv)("Uploading ".concat(r),{variant:"info",persist:!0});k(i);let c=await n(e),d="";if(void 0!==t){let r=await f.P.postDeckSubmission({deckId:t,filename:(0,h.Df)(e.name),filetype:e.type,bytes:c});if(!r)throw Error("Failed to upload");d=r.meme_id}else{let t=await f.P.postMeme({filename:(0,h.Df)(e.name),filetype:e.type,bytes:c});if(!t)throw Error("Failed to upload");d=t.id;let r={...t,votes:{up:[],down:[]}};j(e=>[r,...e]),g(r)}(0,s.sy)(y),k(void 0);let u=(0,s.yv)((0,l.jsx)(o,{text:"Successfully uploaded",textButton:"View",onClick:()=>{(0,s.sy)(u),a(d)}}),{variant:"success",autoHideDuration:3e3})}catch(e){console.error(e),k(void 0),(0,s.sy)(),(0,s.yv)("Failed to upload some memes",{variant:"error"})}},[y,a,g,j]),C=(0,i.useCallback)(async e=>{try{let t=(0,h.Df)(e),r=t.slice(0,20),i=(0,s.yv)("Uploading ".concat(r),{variant:"info",persist:!0});k(i);let n=await f.P.postMeme({filename:t,filetype:"image",source_url:e});if(!n)throw Error("Failed to paste link");j(e=>[n,...e]),g(n),(0,s.sy)(y),k(void 0);let c=(0,s.yv)((0,l.jsx)(o,{text:"Successfully pasted link",textButton:"View",onClick:()=>{(0,s.sy)(c),a(n.id)}}),{variant:"success",autoHideDuration:3e3})}catch(e){console.error(e),(0,s.yv)("Failed to paste link",{variant:"error"})}},[y,a,g]),E=(0,i.useMemo)(()=>(0,c.k)(_,1e3),[_]),z=(0,i.useCallback)(async(e,t)=>{if(void 0===y){if(e.size>33554432){(0,s.yv)("Please upload files 32MB or less",{variant:"error"});return}return E(e,t)}},[E,y]),D=(0,i.useCallback)(async e=>{if(e.clipboardData){let t=e.clipboardData.items;for(let e=0;e<t.length;e++){let r=t[e];if(r.type.includes("image")){let e=r.getAsFile();e&&await z(e)}}}},[z]);(0,i.useEffect)(()=>(window.addEventListener("paste",D),()=>{window.removeEventListener("paste",D)}),[D]);let L=async e=>{if(!(e.dataTransfer.items.length>0)||!e.dataTransfer.items[0].type.includes("image"))return!1;e.preventDefault(),v(!1),P(!0);let t=e.dataTransfer.files;try{for(let e=0;e<t.length;e++){let r=t[e];r.type.includes("image")&&await z(r)}b||r.push("/library")}catch(e){console.error(e)}finally{P(!1)}};return(0,l.jsx)(p.Provider,{value:{uploads:w,setUploads:j,startUpload:z,pasteImageLink:C,isBatchUploading:N},children:(0,l.jsx)("div",{className:"flex min-h-0 w-full min-w-0 flex-1",onDragOver:e=>{e.preventDefault(),e.dataTransfer.items.length>0&&e.dataTransfer.items[0].type.includes("image")&&v(!0)},onDragLeave:()=>v(!1),onDrop:L,children:t})})},v=()=>(0,i.useContext)(p)},51115:function(e,t,r){"use strict";r.d(t,{K7:function(){return i},jG:function(){return s},vk:function(){return n}});var l=r(59458);let s="MemeDeck",i="Meme With Frens",n="Create & discover memes with AI.";"".concat(s," – ").concat(i),new URL(l.j7?"http://localhost:8080":"https://memedeck.xyz")},40877:function(){},8748:function(e,t){"use strict";t.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo-wide.572ec4d3.svg",height:256,width:702,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[826,349,223,98,542,237,915,120,514,171,744],function(){return e(e.s=65579)}),_N_E=e.O()}]);