(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2584],{83447:function(e,t,n){Promise.resolve().then(n.bind(n,13108)),Promise.resolve().then(n.bind(n,74913))},72320:function(e,t,n){"use strict";n.d(t,{B:function(){return c}});var r=n(57348),s=n(45155),l=n(13881),a=n(89765),o=n(81727),i=n(93276);let c=e=>{let{deckId:t,thumbnail:n,name:c,ranking:u,totalPosts:d,isAdmin:m,w:h="min-w-28 w-28 md:min-w-48 md:w-48"}=e;return(0,r.jsx)(l.default,{href:(0,i.o4)(t),className:"scale-img-on-hover select-none",children:(0,r.jsxs)("div",{className:"relative cursor-pointer overflow-hidden flex flex-col justify-center bg-black-400 hover:bg-black-200 rounded-lg shadow-lg hover:shadow-2xl ".concat(h),children:[(0,r.jsx)("div",{className:"size-full aspect-square overflow-hidden bg-black-100/25",children:n&&(0,r.jsx)(s.default,{src:n,alt:c,width:256,height:256,className:"size-full object-cover object-center"})}),(0,r.jsxs)("footer",{className:"flex flex-col gap-1 pl-3 pr-1 py-3",children:[(0,r.jsxs)("div",{className:"flex gap-3 items-center justify-between truncate",children:[(0,r.jsxs)("h3",{className:"flex gap-2 font-semibold text-sm md:text-base tracking-wide w-full truncate",children:[(0,r.jsx)("span",{className:"text-white-400 truncate",children:c}),u&&(0,r.jsxs)("span",{className:"text-white-400/70",children:["#",u]})]}),m&&(0,r.jsx)(a.g,{deckId:t,onDelete:()=>{window.location.reload()}})]}),(0,r.jsxs)("span",{className:"flex gap-1 text-sm",children:[(0,r.jsx)("span",{className:"text-white-400 font-medium",children:d}),(0,r.jsx)("span",{className:"text-white-400/75",children:(0,o._6)(d,"meme","memes")})]})]})]})})}},74913:function(e,t,n){"use strict";n.r(t),n.d(t,{TrendingPageContent:function(){return S}});var r=n(57348),s=n(15346),l=n(8485),a=n(24605),o=n(11781),i=n(95967),c=n(6076),u=n(72320),d=n(35878);let m=e=>{let{interval:t}=e,[n,l]=(0,s.useState)([]),[a,o]=(0,s.useState)(!0),i=(0,s.useCallback)(async e=>{let n=await d.P.getTopDecks({interval:t,limit:20,category:"character"},e);n&&l(n)},[t]);return((0,s.useEffect)(()=>{let e=new AbortController;return o(!0),i(e.signal).finally(()=>o(!1)),()=>e.abort()},[i]),a)?(0,r.jsx)("div",{className:"flex px-3 gap-3 w-full overflow-x-auto scrollbar-hide",children:[1,2,3,4,5,6,7,8,9].map(e=>(0,r.jsxs)("div",{className:"min-w-[112px] w-[112px] h-[152px] md:min-w-48 md:h-[264px] bg-black-400 rounded-lg shadow-lg hover:shadow-2xl overflow-hidden",children:[(0,r.jsx)("div",{className:"w-full aspect-square bg-black-100/25"}),(0,r.jsx)("div",{className:"w-full h-10 px-3 flex items-center",children:(0,r.jsx)("div",{className:"w-1/2 h-5 bg-black-100/50 rounded-md"})})]},e))}):(0,r.jsx)("div",{className:"flex px-3 gap-3 w-full overflow-x-auto scrollbar-hide",children:n.map((e,t)=>(0,r.jsx)(u.B,{deckId:e.id,ranking:t+1,name:e.title,thumbnail:e.thumbnail,totalPosts:e.total_posted,isAdmin:!1},e.id))})};var h=n(67425),p=n(9806),f=n(16818),b=n(72148),x=n(87140),w=n(41307),v=n(71402);let g="create-contest-trending-page",C=e=>{let{interval:t,onSelectInterval:n}=e,{profile:s}=(0,v.useProfile)(),{isCreating:l,onClickStart:a}=(0,w.y)();return(0,r.jsxs)("header",{className:"flex items-center justify-between p-3 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("h1",{className:"text-white-400 font-bold text-3xl tracking-wide",children:"Trending"}),(0,r.jsx)(f.m,{interval:t,onSelect:n})]}),s&&(0,r.jsx)(h.A,{variant:"bordered",id:g,isLoading:l===g,isDisabled:null!==l,onClick:()=>a(g),children:"New Deck"}),(0,r.jsx)(p.D,{providerKey:"deckId",Provider:b.EditDeckProvider,useIsSavingHook:b.useEditDeck,BodyWrapper:x.DiffusionConfigProvider})]})};var j=n(5265),y=n(35971),k=n(64720),N=n(69467),O=n(74859),P=n(81727);async function D(e,t,n){n(null);let r=Date.now(),s=await d.P.search(e,t),l=Date.now();return n({total_memes:s.total_memes,time_ms:l-r}),s.memes}let F=(0,O.k)(D,500),S=()=>{let{profile:e}=(0,v.useProfile)(),{isSignupModalOpen:t,setIsSignupModalOpen:n}=(0,k.useSidebar)(),[u,d]=(0,s.useState)(null),{searchQuery:h,setSearchQuery:p,searchResults:f,setSearchResults:b,hasFetchedSearchResults:x,setHasFetchedSearchResults:w}=(0,y.useFeed)(),{isFetching:g,onSearch:O,searchInterval:D,onSelectInterval:S}=(0,j.M)({feed:f,setFeed:b,hasFetched:x,setHasFetched:w,searchQuery:h,setSearchQuery:p,fetchOnLoad:!0,fetchFn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return F(...t,d)}}),I=(0,s.useMemo)(()=>h.length>0,[h.length]),A=(0,s.useMemo)(()=>f.filter(e=>!(0,N.kl)(e)),[f]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.SearchBar,{autofocus:!0,border:"border-b border-transparent",value:h,onSearch:e=>O(e,D),searchInterval:D,onSelectInterval:S}),!I&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C,{interval:D,onSelectInterval:S}),(0,r.jsxs)("h4",{className:"p-3 text-white-400/70 tracking-wide font-bold uppercase text-sm",children:["Top Characters ",(0,P.qr)(D)]}),(0,r.jsx)(m,{interval:D}),(0,r.jsx)("h4",{className:"px-3 pt-6 pb-0 text-white-400/70 tracking-wide font-bold uppercase text-sm",children:"Trending Posts"})]}),u&&(0,r.jsx)(a.d,{isFetching:g,hasSearched:I,stats:u}),(0,r.jsx)(l.o,{memes:A,noResultsMessage:I?"":"No memes ".concat((0,P.qr)(D).toLowerCase()),isFetching:g,hasFetched:x,hasSearched:I,renderItem:(t,s)=>(0,r.jsx)(c.P,{meme:t,onClick:e?void 0:()=>n(!0)},s)}),t&&(0,r.jsx)(o.c,{isOpen:t,onClose:()=>n(!1)})]})}},82896:function(e,t,n){"use strict";var r=n(15346);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class o extends r.Component{componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){let e=window&&window.innerWidth||1/0,t=this.props.breakpointCols;"object"!=typeof t&&(t={default:parseInt(t)||2});let n=1/0,r=t.default||2;for(let s in t){let l=parseInt(s);l>0&&e<=l&&l<n&&(n=l,r=t[s])}r=Math.max(1,parseInt(r)||1),this.state.columnCount!==r&&this.setState({columnCount:r})}itemsInColumns(){let e=this.state.columnCount,t=Array(e),n=r.Children.toArray(this.props.children);for(let r=0;r<n.length;r++){let s=r%e;t[s]||(t[s]=[]),t[s].push(n[r])}return t}renderColumns(){let{column:e,columnAttrs:t={},columnClassName:n}=this.props,l=this.itemsInColumns(),o="".concat(100/l.length,"%"),i=n;i&&"string"!=typeof i&&(this.logDeprecated('The property "columnClassName" requires a string'),void 0===i&&(i="my-masonry-grid_column"));let c=a(a(a({},e),t),{},{style:a(a({},t.style),{},{width:o}),className:i});return l.map((e,t)=>r.createElement("div",s({},c,{key:t}),e))}logDeprecated(e){console.error("[Masonry]",e)}render(){let e=this.props,{children:t,breakpointCols:n,columnClassName:l,columnAttrs:a,column:o,className:i}=e,c=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]),u=i;return"string"!=typeof i&&(this.logDeprecated('The property "className" requires a string'),void 0===i&&(u="my-masonry-grid")),r.createElement("div",s({},c,{className:u}),this.renderColumns())}constructor(e){let t;super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this),t=this.props.breakpointCols&&this.props.breakpointCols.default?this.props.breakpointCols.default:parseInt(this.props.breakpointCols)||2,this.state={columnCount:t}}}o.defaultProps={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},t.Z=o},950:function(e,t,n){"use strict";n.d(t,{i:function(){return c}});var r=n(93720),s=n(97308),l=n(59485),a=n(89707),o=n(57348),i=(0,s.Gp)((e,t)=>{var n;let{as:s,className:i,children:c,...u}=e,d=(0,l.gy)(t),{slots:m,classNames:h}=(0,r.R)(),p=(0,a.W)(null==h?void 0:h.footer,i);return(0,o.jsx)(s||"div",{ref:d,className:null==(n=m.footer)?void 0:n.call(m,{class:p}),...u,children:c})});i.displayName="NextUI.CardFooter";var c=i}},function(e){e.O(0,[7398,7425,4175,3159,8797,2079,6002,3881,7686,1639,6440,9028,4822,1510,6814,1718,5952,9394,3520,1202,8230,5878,8852,5658,2238,937,7114,1744],function(){return e(e.s=83447)}),_N_E=e.O()}]);