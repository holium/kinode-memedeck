"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4058],{44058:function(A,e,t){t.d(e,{PageLayoutBase:function(){return u}});var s=t(62284),a=t(46231),l=t(23405),r=t(59297),i=t(68880),c=t(2793),n=t(484),d={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/cloud.c8336d47.svg",height:74,width:74,blurWidth:0,blurHeight:0};let o=()=>{let{isBatchUploading:A}=(0,n.V)();return(0,s.jsx)("div",{className:"relative size-full min-w-0 p-3",children:(0,s.jsx)("div",{className:"relative flex size-full min-w-0 items-center justify-center rounded-xl border-3 border-dashed border-blue-400",children:A?(0,s.jsx)(i.c,{}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,s.jsx)(c.default,{src:d,width:64,height:64,alt:"cloud",loading:"eager",className:"size-24"}),(0,s.jsx)("h2",{className:"text-center text-xl font-semibold text-white-400",children:"Drop bangers to upload"})]})})})};var E=t(76967),g=t(77606),m=t(15219),B=t(96245),x=t(1993);(0,a.Cb)("local");let u=A=>{let{children:e,isGated:t=!0,border:a="xs:border-0 sm:border-x border-white-400/15"}=A,i=(0,m.iS)(),c=(0,B.CG)(g.KS),{isGenerating:n}=(0,x.e)(),d=(0,r.useCallback)(()=>{i.currentData&&!n&&i.refetch()},[i,n]);return((0,r.useEffect)(()=>{let A=setInterval(d,3e4);return()=>clearInterval(A)},[d]),!t||i.currentData||i.isFetching)?(0,s.jsx)("div",{className:(0,l.cn)("relative size-full min-w-0 xs:pb-16",a),children:c?(0,s.jsx)(o,{}):e}):(0,s.jsx)(E.c,{isOpen:!0})}},76967:function(A,e,t){t.d(e,{c:function(){return u}});var s=t(62284),a=t(46231),l=t(88938),r=t(2793),i=t(35850),c=t(59297),n=t(12972),d=t(71987);let o=()=>{let A=(0,c.useMemo)(()=>{let A=(0,d.bd)();return"".concat((0,d.bR)(),"/v2/auth/twitter/login?redirect_url=").concat(A)},[]);return(0,s.jsxs)(l.A,{as:i.default,className:"flex items-center justify-center gap-2 bg-blue-500 px-6 py-1 text-sm",href:A,children:[(0,s.jsx)("h4",{className:"text-lg",children:"Login with"}),(0,s.jsx)(r.default,{src:n.Z,alt:"x",className:"w-5"})]})};var E=t(23405);let g=[{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/1.8823d877.png",height:400,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEUwECpnToZJLk5PFTY7EjBlS3FfM2guDykqDCU8HEBhHUa5V4+zLXNuRnW+RJBNM1txXoiQKWLIXah7T3KBKVJsT4lFK2NZN3f/bKwsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAP0lEQVR4nCXGSRKAIAwAwUECSdjE/f8/tSz71Kjizke2sdcIWlob9RRUSu5HBMxzTwYqvqbF4H7yn3CFOYPbC0QLAfmn2m20AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},color:"#2E102A"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/7.9c2f0914.jpg",height:400,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGwE//EABcQAAMBAAAAAAAAAAAAAAAAAAECAxX/2gAIAQEAAQUCF20f/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPwF//8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/AUy//8QAGBAAAgMAAAAAAAAAAAAAAAAAAAEDEiL/2gAIAQEABj8CcVsn/8QAFxAAAwEAAAAAAAAAAAAAAAAAADFRwf/aAAgBAQABPyGiWI//2gAMAwEAAgADAAAAEA//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQMBAT8QHb//xAAXEQADAQAAAAAAAAAAAAAAAAAAARFB/9oACAECAQE/EFxNR//EABsQAQACAgMAAAAAAAAAAAAAAAERIQAxQXGB/9oACAEBAAE/EH2ToSxO/cSfW+M//9k=",blurWidth:8,blurHeight:8},color:"#F9FEF7"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/3.acc61f95.jpg",height:400,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAGAD//EABcQAAMBAAAAAAAAAAAAAAAAAAACAxT/2gAIAQEAAQUCzUQ//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8Bj//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABcQAAMBAAAAAAAAAAAAAAAAAAABAjH/2gAIAQEABj8CcZbR/8QAGBABAAMBAAAAAAAAAAAAAAAAAQARIXH/2gAIAQEAAT8hauaBtnJ//9oADAMBAAIAAwAAABD7/8QAFREBAQAAAAAAAAAAAAAAAAAAAQD/2gAIAQMBAT8QQhf/xAAVEQEBAAAAAAAAAAAAAAAAAAABAP/aAAgBAgEBPxAUW//EABgQAQADAQAAAAAAAAAAAAAAAAEAESEx/9oACAEBAAE/EEKAdrIm1KvuM//Z",blurWidth:8,blurHeight:8},color:"#A26F52"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/5.622e0a3d.png",height:400,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAaVBMVEX+597hycD54tgDEQny3dQlMCdKTELq1MpXVkoTGxOMfnO1mH6ii2u0n5dGLxx8aVSwjnQqGxSRh3tBPSxXSTfGu6DSvLSLXjpyWDnJjoNVPydDIReaYDK1gUdlFg1tSSzdqH7x2bi2dVxKpx53AAAACXBIWXMAAAsTAAALEwEAmpwYAAAARElEQVR4nAXBBQLAIAwEsENbHOZu/3/kEkjBxlgCpFfOqQ7Q7NzQW4LkPIfIAkjL+Y6BoHU5njoRkFqO30rwbbvLftUfVrcDKlF8AaEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},color:"#AF7A43"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/6.3512ffdd.jpg",height:400,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABhBP/xAAWEAADAAAAAAAAAAAAAAAAAAACBCL/2gAIAQEAAQUCklP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDAQE/AX//xAAVEQEBAAAAAAAAAAAAAAAAAAABAP/aAAgBAgEBPwEL/8QAFxAAAwEAAAAAAAAAAAAAAAAAACExAf/aAAgBAQAGPwK4qz//xAAYEAEAAwEAAAAAAAAAAAAAAAARAAEhgf/aAAgBAQABPyEqlOR1pP/aAAwDAQACAAMAAAAQD//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABYRAQEBAAAAAAAAAAAAAAAAAAEAMf/aAAgBAgEBPxADL//EABkQAQACAwAAAAAAAAAAAAAAAAEAEUFRkf/aAAgBAQABPxBVNkLVVsZFUTm5/9k=",blurWidth:8,blurHeight:8},color:"#050209"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/4.a25addea.png",height:400,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAclBMVEWxytHK0sjNycCCjIvtyKSrx9G61NrD0MzArqKfmI+4s8HPycliUkyuoak6NS4+QS+xlpVTdFibjpWIcWW9zcvX2M28x8E+JBOYk6tCWkDdtIyMgYt/cXtLlHD+1KfOrZLTspjKtKtMXkOej367tMKigGtkNwxvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARUlEQVR4nAXBhQGAMAADsI65G+76/4sk4BxCAEArJaU9kSCdDk6rBo1VM1PJwnjD9iu9GJf1OH0pcPFmT6gaw7TlHL/6A2CTA5qj0o+1AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},color:"#BDB9C3"},{src:{src:"/memedeck:memedeck:meme-deck.os/_next/static/media/2.2ae7b3c0.jpg",height:339,width:339,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABoBR//8QAFhABAQEAAAAAAAAAAAAAAAAAAwIR/9oACAEBAAEFAmaN/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8Br//EABYRAAMAAAAAAAAAAAAAAAAAAAABAv/aAAgBAgEBPwFSf//EABgQAAIDAAAAAAAAAAAAAAAAAAABETEy/9oACAEBAAY/Atq4P//EABcQAQEBAQAAAAAAAAAAAAAAAAERAIH/2gAIAQEAAT8hsijym//aAAwDAQACAAMAAAAQ8//EABcRAQADAAAAAAAAAAAAAAAAAAEAMWH/2gAIAQMBAT8QaGT/xAAXEQEAAwAAAAAAAAAAAAAAAAABABFR/9oACAECAQE/ECpdWf/EABoQAQACAwEAAAAAAAAAAAAAAAERMQAhUaH/2gAIAQEAAT8QcwB2ZEK4V7n/2Q==",blurWidth:8,blurHeight:8},color:"#A9E4EA"}],m=A=>{let{index:e,avatar:t}=A;return(0,s.jsx)(r.default,{src:t.src,draggable:!1,priority:!0,quality:25,style:{background:t.color},alt:"MemeDeck user ".concat(e),className:(0,E.cn)("size-11 rounded-full border-2 border-white-400",e>0?"ml-[-7px]":""),width:44,height:44})},B=A=>{let{children:e,isOpen:t,onClose:a}=A;return t?(0,s.jsx)("div",{className:(0,E.cn)("flex items-center justify-center","fixed inset-0 z-50","bg-white-100 size-full max-h-full min-h-0 overflow-y-auto overflow-x-hidden p-4"),onClick:a,children:(0,s.jsxs)("div",{className:(0,E.cn)("relative flex w-full max-w-[420px] flex-col items-center gap-6 px-6 pb-8 pt-6","glow bg-black-400 rounded-lg shadow-lg"),onClick:A=>A.stopPropagation(),children:[(0,s.jsx)("header",{className:"relative flex w-full items-center justify-between"}),(0,s.jsx)("div",{children:e})]})}):null};var x=t(14751);let u=A=>{let{isOpen:e,onClose:t}=A;return(0,s.jsx)(B,{isOpen:e,onClose:t,children:(0,s.jsxs)("div",{className:"flex flex-col gap-7 items-center",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,s.jsx)("h1",{className:"text-center text-3xl font-extrabold",children:x.K7}),(0,s.jsx)("p",{className:"text-center text-lg text-white-400/50",children:x.VR})]}),(0,s.jsx)("div",{className:"relative flex items-center justify-center select-none",children:g.map((A,e)=>(0,s.jsx)(m,{index:e,avatar:A},e))}),(0,s.jsxs)("footer",{className:"flex flex-col gap-1.5 items-center justify-center mt-3 mb-1",children:[(0,s.jsx)(o,{}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(a.JO,{icon:"solar:lock-bold-duotone",className:"size-3 text-white-400/40"}),(0,s.jsx)("p",{className:"text-[10px] text-white-400/35",children:"Read-only access"})]})]})]})})}},484:function(A,e,t){t.d(e,{UploadProvider:function(){return u},V:function(){return h}});var s=t(62284),a=t(92449),l=t(66975),r=t(59297),i=t(12563),c=t(88938);let n=A=>{let{text:e,textButton:t,onClick:a}=A;return(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[e,t&&a&&(0,s.jsx)(c.A,{variant:"solid",color:"success",size:"sm",className:"text-white-400",onClick:a,children:t})]})};var d=t(72488),o=t(77606),E=t(15219),g=t(81255);let m=A=>{let e=new FileReader;return new Promise((t,s)=>{e.onload=A=>{var e;let a=null===(e=A.target)||void 0===e?void 0:e.result;if(!a){s(Error("Failed to read file"));return}t(new Uint8Array(a))},e.onerror=()=>s(e.error),e.readAsArrayBuffer(A)})};var B=t(25845);let x=(0,r.createContext)({}),u=A=>{let{children:e}=A,t=(0,a.useRouter)(),{openLightBox:c}=(0,d.e)(),u=(0,i.I0)(),[h]=(0,E.V4)(),[Q,f]=(0,r.useState)([]),[w,D]=(0,r.useState)(),[C,z]=(0,r.useState)(!1),p=(0,r.useCallback)(async A=>{try{(0,l.sy)();let e=A.name.slice(0,20),s=(0,l.yv)("Uploading ".concat(e),{variant:"info",persist:!0});D(s);let a=await m(A),r=Array.from(new Uint8Array(a)),i=(await h({filename:(0,B.Df)(A.name),filetype:A.type,bytes:r})).data;if(!i)throw Error("Failed to upload");i.id,(0,l.sy)(w),D(void 0),t.push("/library/uploads")}catch(A){D(void 0),(0,l.sy)(),(0,l.yv)("Failed to upload some memes",{variant:"error"})}},[w,h,t]),v=(0,r.useCallback)(async A=>{try{let e=(0,B.Df)(A),t=e.slice(0,20),a=(0,l.yv)("Uploading ".concat(t),{variant:"info",persist:!0});D(a);let r=(await h({filename:e,filetype:"image",source_url:A})).data;if(!r)throw Error("Failed to paste link");f(A=>[r,...A]),(0,l.sy)(w),D(void 0);let i=(0,l.yv)((0,s.jsx)(n,{text:"Successfully pasted link",textButton:"View",onClick:()=>{(0,l.sy)(i),c({postId:r.id})}}),{variant:"success",autoHideDuration:3e3})}catch(A){(0,l.yv)("Failed to paste link",{variant:"error"})}},[w,c,h]),O=(0,r.useMemo)(()=>(0,g.k)(p,1e3),[p]),b=(0,r.useCallback)(async A=>{if(void 0===w){if(A.size>33554432){(0,l.yv)("Please upload files 32MB or less",{variant:"error"});return}return O(A)}},[O,w]),j=(0,r.useCallback)(async A=>{if(A.clipboardData){let e=A.clipboardData.items;for(let A=0;A<e.length;A++){let t=e[A];if(t.type.includes("image")){let A=t.getAsFile();A&&await b(A)}}}},[b]);(0,r.useEffect)(()=>(window.addEventListener("paste",j),()=>{window.removeEventListener("paste",j)}),[j]);let k=(0,r.useCallback)(async A=>{if(!(A.dataTransfer.items.length>0)||!A.dataTransfer.items[0].type.includes("image"))return!1;A.preventDefault(),u((0,o.yZ)(!1)),z(!0);let e=A.dataTransfer.files;try{for(let A=0;A<e.length;A++){let t=e[A];t.type.includes("image")&&await b(t)}}catch(A){}finally{z(!1)}},[u,b]);return(0,s.jsx)(x.Provider,{value:{uploads:Q,setUploads:f,startUpload:b,pasteImageLink:v,isBatchUploading:C},children:(0,s.jsx)("div",{className:"flex min-h-0 w-full min-w-0 flex-1",onDragOver:A=>{A.preventDefault(),A.dataTransfer.items.length>0&&A.dataTransfer.items[0].type.includes("image")&&(0,o.yZ)(!0)},onDragLeave:()=>(0,o.yZ)(!1),onDrop:k,children:e})})},h=()=>{let A=(0,r.useContext)(x);if(void 0===A)throw Error("useFeed must be used within UploadProvider");return A}},12972:function(A,e){e.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/x.493d8304.png",height:45,width:41,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAALVBMVEVMaXH+/v79/f3+/v79/f38/Pz8/Pz8/Pz9/f39/f39/f36+vr4+Pj9/f38/PwKLxeaAAAAD3RSTlMAS48j05o6aYO9pxgSs1uR71/vAAAACXBIWXMAABYlAAAWJQFJUiTwAAAANElEQVR4nBXBiRHAIAwEsT0/2AbSf7sZJJYcfNGR94SgzaYAt9w89pmAmso8KJyezXK40g8cqQDpZl1e6QAAAABJRU5ErkJggg==",blurWidth:7,blurHeight:8}}}]);