(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{77571:function(e,t,s){Promise.resolve().then(s.bind(s,3801))},3801:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return D}});var n=s(91104),l=s(63137),r=s(33968),a=s(29398),i=s(49566),c=s(9698),o=s(87091),u=s(57826),d=s(36623),f=s(41116),m=s(8846),x=s(31210),h=s(48845),v=s(72184),g=s(61484),b=s(64255),p=s(41908),y=s(38304),w=s(18159),j=s(4180),C=s(30027),k=s(45268),N=s(86600);let P=e=>{let{username:t}=e;return(0,n.jsxs)(C.default,{href:"https://twitter.com/".concat(t),target:"_blank",className:"flex flex-1 gap-2 sm:gap-3 items-center min-w-0 hover:underline",children:[(0,n.jsx)(k.h,{src:"https://unavatar.io/twitter/".concat(t),alt:t,name:t,showFallback:!0,size:"sm",className:"min-w-8"}),(0,n.jsxs)("p",{className:"flex tracking-wide",children:["@".concat(t),(0,n.jsx)(N.x,{})]})]})},z=e=>{let{columnKey:t,invite:s,isDeleting:l,onClickDelete:r}=e;if("created_at"===t)return(0,n.jsx)("p",{className:"flex-1 truncate text-xs sm:text-sm px-2 text-white-400/75",children:(0,j.Po)((0,y.sF)(s,t))});if("status"===t){let e=(0,y.sF)(s,t),a=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),c="ACCEPTED"===e;return(0,n.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,n.jsx)(w.z,{size:"sm",color:c?"success":"primary",classNames:{base:c?"bg-green-400 text-green-900":"text-white-400"},children:a}),!c&&(0,n.jsx)(u.A,{size:"sm",isIconOnly:!0,variant:"light",isLoading:l,onClick:r,children:(0,n.jsx)(i.JO,{icon:"mdi:remove",className:"text-white-400/75",width:16})})]})}if("to"===t){let e=(0,y.sF)(s,t);return(0,n.jsx)(P,{username:e})}},E=[{key:"to",value:"To"},{key:"created_at",value:"Sent"},{key:"status",value:"Status"}],B=e=>{let{invites:t,isFetching:s,isDeleting:l,onClickDeleteInvite:r}=e;return(0,n.jsxs)(m.b,{classNames:{wrapper:"p-2 lg:p-3",table:"max-w-full min-w-full relative flex flex-col gap-3",thead:"flex flex-col gap-0",th:"flex flex-1 items-center truncate min-h-0 bg-black-400",tbody:"flex flex-col gap-3",tr:"flex max-w-full min-w-full",td:"flex flex-1 items-center truncate px-1 py-0",emptyWrapper:"flex flex-col items-center justify-center"},children:[(0,n.jsx)(x.J,{columns:E,children:e=>(0,n.jsx)(h.j,{children:e.value},e.key)}),(0,n.jsx)(v.y,{items:t,emptyContent:(0,n.jsx)("p",{className:"p-3",children:"No invites issued yet"}),children:s?(0,n.jsxs)(g.g,{children:[(0,n.jsx)(b.X,{children:""}),(0,n.jsx)(b.X,{children:(0,n.jsx)("div",{className:"w-full h-[160px] flex items-center justify-center",children:(0,n.jsx)(p.c,{})})}),(0,n.jsx)(b.X,{children:""})]}):t.sort((e,t)=>"ACCEPTED"===e.status&&"ACCEPTED"!==t.status?1:"ACCEPTED"!==e.status&&"ACCEPTED"===t.status?-1:new Date(t.created_at/1e6).getTime()-new Date(e.created_at/1e6).getTime()).map(e=>(0,n.jsx)(g.g,{children:t=>(0,n.jsx)(b.X,{children:(0,n.jsx)(z,{columnKey:t,invite:e,isDeleting:l===e.id,onClickDelete:()=>r(e.id)},t)})},e.id))})]})};function D(){var e;let{profile:t}=(0,f.useProfile)(),s=null!==(e=null==t?void 0:t.user.invite_cap)&&void 0!==e?e:5,[m,x]=(0,l.useState)([]),[h,v]=(0,l.useState)(!0),[g,b]=(0,l.useState)(""),[p,y]=(0,l.useState)(!1),[w,j]=(0,l.useState)(null),C=(0,l.useMemo)(()=>m.length>=s,[s,m.length]),k=(0,l.useCallback)(async()=>{x(await r.P.getInvites()),v(!1)},[]),N=(0,l.useCallback)(async()=>{if(p||C)return;let e=g.trim().replace(/^@/,"");if(m.some(t=>t.to.toLowerCase()===e.toLowerCase())){(0,d.yv)("User already invited",{variant:"info"});return}try{y(!0);try{if((await r.P.getProfileByHandle(e)).id){(0,d.yv)("User already exists",{variant:"info"});return}}catch(e){}await r.P.postInvite({x_handle:e})}catch(e){(0,d.yv)("Failed to send invite",{variant:"error"})}finally{await k(),b(""),y(!1)}},[p,C,g,m,k]),P=(0,l.useCallback)(async e=>{if(w!==e)try{j(e),await r.P.deleteInvite(e)}catch(e){(0,d.yv)("Failed to delete invite",{variant:"error"})}finally{await k(),j(null)}},[k,w]);return(0,l.useEffect)(()=>{k()},[k]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.y,{title:(0,n.jsxs)("span",{className:"flex items-center gap-1 justify-between",children:["Invite Friends from X",(0,n.jsx)(c.e,{content:(0,n.jsx)("p",{className:"max-w-48",children:"As a Memedeck user you can invite a friend from X which allows them to skip the waitlist."}),children:(0,n.jsx)("div",{className:"flex items-center justify-center size-12",children:(0,n.jsx)(i.JO,{icon:"mdi:information-outline",className:"text-white-400/75",width:16})})})]}),border:"border-b border-white-400/10"}),(0,n.jsxs)("div",{className:"flex flex-col p-3 gap-3 min-w-full max-w-full",children:[(0,n.jsxs)("p",{className:"text-white-400/75 text-sm",children:["You have ",Number(s-m.length),"/",s," invites left."]}),(0,n.jsx)(o.Y,{type:"text",size:"lg",classNames:{input:"placeholder:text-white-400/50"},placeholder:"elonmusk",value:g,onValueChange:b,startContent:(0,n.jsx)(i.JO,{icon:"mdi:at",className:"text-white-400",width:20}),endContent:(0,n.jsx)(u.A,{size:"sm",color:"primary",isLoading:p,isDisabled:C,onClick:N,children:"Invite"}),onKeyDown:e=>{"Enter"===e.key&&N()}}),(0,n.jsx)(B,{invites:m,isFetching:h,isDeleting:w,onClickDeleteInvite:P})]})]})}},29398:function(e,t,s){"use strict";s.d(t,{y:function(){return i}});var n=s(91104),l={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/arrow.left.37648ed6.svg",height:46,width:57,blurWidth:0,blurHeight:0},r=s(23640),a=s(48751);let i=e=>{let{title:t,border:s="border-b border-transparent",isLoading:i=!1,endContent:c,onGoBack:o}=e,{goBack:u}=(0,a.useAppHistory)();return(0,n.jsxs)("div",{className:"flex h-16 w-full items-center ".concat(s),children:[(0,n.jsx)(r.O,{src:l,alt:"Back",onClick:null!=o?o:u}),i?(0,n.jsx)("h1",{className:"h-6 w-24 animate-pulse rounded bg-gray-200"}):(0,n.jsx)("h1",{className:"flex-1 text-left text-lg font-bold truncate",children:t}),c]})}},23640:function(e,t,s){"use strict";s.d(t,{O:function(){return r}});var n=s(91104),l=s(83301);let r=e=>{let{src:t,alt:s,id:r,margin:a="m-2",w:i="w-3.5",onClick:c}=e;return(0,n.jsx)("button",{id:r,className:"flex size-9 items-center justify-center rounded-full hover:bg-black-100 ".concat(a),onClick:c,children:(0,n.jsx)(l.default,{priority:!0,src:t,alt:s,className:"opacity-85 ".concat(i)})})}},48751:function(e,t,s){"use strict";s.r(t),s.d(t,{AppHistoryProvider:function(){return c},useAppHistory:function(){return o}});var n=s(91104),l=s(26816),r=s(36623),a=s(63137);let i=(0,a.createContext)({}),c=e=>{let{children:t}=e,s=(0,l.usePathname)(),c=(0,l.useRouter)(),[o,u]=(0,a.useState)([]),d=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/home",t=arguments.length>1?arguments[1]:void 0;console.log("goBack",{defaultRoute:e,ignoreRouteBase:t});let s=e;o.length>1&&(s=o[o.length-2],void 0!==t&&s.includes(t)&&(s=e)),"string"!=typeof s&&(s="/home"),c.push(s,{scroll:!1})},[o,c]);return(0,a.useEffect)(()=>{u(e=>e[e.length-1]!==s?[...e,s]:e)},[s]),(0,n.jsxs)(i.Provider,{value:{goBack:d},children:[t,(0,n.jsx)(r.wT,{dense:!0,maxSnack:3})]})},o=()=>(0,a.useContext)(i)},67511:function(e,t,s){"use strict";s.d(t,{f:function(){return l}});var n=s(91104),l=()=>(0,n.jsxs)("svg",{"aria-hidden":"true",fill:"none",height:"80%",role:"presentation",viewBox:"0 0 24 24",width:"80%",children:[(0,n.jsx)("path",{d:"M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M17.0809 14.1489C14.2909 12.2889 9.74094 12.2889 6.93094 14.1489C5.66094 14.9989 4.96094 16.1489 4.96094 17.3789C4.96094 18.6089 5.66094 19.7489 6.92094 20.5889C8.32094 21.5289 10.1609 21.9989 12.0009 21.9989C13.8409 21.9989 15.6809 21.5289 17.0809 20.5889C18.3409 19.7389 19.0409 18.5989 19.0409 17.3589C19.0309 16.1289 18.3409 14.9889 17.0809 14.1489Z",fill:"currentColor"})]})},5606:function(e,t,s){"use strict";s.d(t,{F:function(){return x}});var n=s(97915),l=s(4292),r=s(69901),a=s(93371),i=s(39276),c=s(88402),o=s(3511),u=s(73687),d=s(63137),f=s(63831),m=s(77785);function x(){var e,t,s,x,h;let v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=(0,n.C)(),b=!!g,{as:p,ref:y,src:w,name:j,icon:C,classNames:k,fallback:N,alt:P=j||"avatar",imgRef:z,color:E=null!=(e=null==g?void 0:g.color)?e:"default",radius:B=null!=(t=null==g?void 0:g.radius)?t:"full",size:D=null!=(s=null==g?void 0:g.size)?s:"md",isBordered:A=null!=(x=null==g?void 0:g.isBordered)&&x,isDisabled:I=null!=(h=null==g?void 0:g.isDisabled)&&h,isFocusable:_=!1,getInitials:F=i.e,ignoreFallback:G=!1,showFallback:J=!1,ImgComponent:S="img",imgProps:O,className:T,onError:M,...X}=v,H=p||"span",L=(0,a.gy)(y),U=(0,a.gy)(z),{isFocusVisible:W,isFocused:R,focusProps:V}=(0,u.Fx)(),{isHovered:K,hoverProps:Y}=(0,m.XI)({isDisabled:I}),Z="loaded"===(0,f.d)({src:w,onError:M,ignoreFallback:G}),q=(!w||!Z)&&J,Q=(0,d.useMemo)(()=>{var e;return(0,l.r)({color:E,radius:B,size:D,isBordered:A,isDisabled:I,isInGroup:b,isInGridGroup:null!=(e=null==g?void 0:g.isGrid)&&e})},[E,B,D,A,I,b,null==g?void 0:g.isGrid]),$=(0,c.W)(null==k?void 0:k.base,T),ee=(0,d.useMemo)(()=>_||"button"===p,[_,p]),et=(0,d.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ref:L,tabIndex:ee?0:-1,"data-hover":(0,o.PB)(K),"data-focus":(0,o.PB)(R),"data-focus-visible":(0,o.PB)(W),className:Q.base({class:(0,c.W)($,null==e?void 0:e.className)}),...(0,r.dG)(X,Y,ee?V:{})}},[ee,Q,$,V,X]),es=(0,d.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ref:U,src:w,"data-loaded":(0,o.PB)(Z),className:Q.img({class:null==k?void 0:k.img}),...(0,r.dG)(O,e)}},[Q,Z,O,w,U]);return{Component:H,ImgComponent:S,src:w,alt:P,icon:C,name:j,imgRef:U,slots:Q,classNames:k,fallback:N,isImgLoaded:Z,showFallback:q,ignoreFallback:G,getInitials:F,getAvatarProps:et,getImageProps:es}}},97915:function(e,t,s){"use strict";s.d(t,{C:function(){return l},k:function(){return n}});var[n,l]=(0,s(36711).k)({name:"AvatarGroupContext",strict:!1})},45268:function(e,t,s){"use strict";s.d(t,{h:function(){return o}});var n=s(67511),l=s(5606),r=s(63137),a=s(63471),i=s(91104),c=(0,a.Gp)((e,t)=>{let{Component:s,ImgComponent:a,src:c,icon:o=(0,i.jsx)(n.f,{}),alt:u,classNames:d,slots:f,name:m,showFallback:x,fallback:h,getInitials:v,getAvatarProps:g,getImageProps:b}=(0,l.F)({...e,ref:t}),p=(0,r.useMemo)(()=>!x&&c?null:h?(0,i.jsx)("div",{"aria-label":u,className:f.fallback({class:null==d?void 0:d.fallback}),role:"img",children:h}):m?(0,i.jsx)("span",{"aria-label":u,className:f.name({class:null==d?void 0:d.name}),role:"img",children:v(m)}):(0,i.jsx)("span",{"aria-label":u,className:f.icon({class:null==d?void 0:d.icon}),role:"img",children:o}),[x,c,h,m,d]);return(0,i.jsxs)(s,{...g(),children:[c&&(0,i.jsx)(a,{...b(),alt:u}),p]})});c.displayName="NextUI.Avatar";var o=c},4292:function(e,t,s){"use strict";s.d(t,{r:function(){return a},z:function(){return i}});var n=s(57978),l=s(18903),r=s(98293),a=(0,l.tv)({slots:{base:["flex","relative","justify-center","items-center","box-border","overflow-hidden","align-middle","text-white","z-0",...r.Dh],img:["flex","object-cover","w-full","h-full","transition-opacity","!duration-500","opacity-0","data-[loaded=true]:opacity-100"],fallback:[...r.z6,"flex","items-center","justify-center"],name:[...r.z6,"font-normal","text-center","text-inherit"],icon:[...r.z6,"flex","items-center","justify-center","text-inherit","w-full","h-full"]},variants:{size:{sm:{base:"w-8 h-8 text-tiny"},md:{base:"w-10 h-10 text-tiny"},lg:{base:"w-14 h-14 text-small"}},color:{default:{base:n.J.solid.default},primary:{base:n.J.solid.primary},secondary:{base:n.J.solid.secondary},success:{base:n.J.solid.success},warning:{base:n.J.solid.warning},danger:{base:n.J.solid.danger}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isBordered:{true:{base:"ring-2 ring-offset-2 ring-offset-background dark:ring-offset-background-dark"}},isDisabled:{true:{base:"opacity-disabled"}},isInGroup:{true:{base:["-ms-2 data-[hover=true]:-translate-x-3 transition-transform","data-[focus-visible=true]:-translate-x-3"]}},isInGridGroup:{true:{base:"m-0 data-[hover=true]:translate-x-0"}}},defaultVariants:{size:"md",color:"default",radius:"full"},compoundVariants:[{color:"default",isBordered:!0,class:{base:"ring-default"}},{color:"primary",isBordered:!0,class:{base:"ring-primary"}},{color:"secondary",isBordered:!0,class:{base:"ring-secondary"}},{color:"success",isBordered:!0,class:{base:"ring-success"}},{color:"warning",isBordered:!0,class:{base:"ring-warning"}},{color:"danger",isBordered:!0,class:{base:"ring-danger"}}]}),i=(0,l.tv)({base:"flex items-center justify-center h-auto w-max-content",variants:{isGrid:{true:"inline-grid grid-cols-4 gap-3"}}})},63831:function(e,t,s){"use strict";s.d(t,{d:function(){return r}});var n=s(63137),l=s(9328);function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{loading:t,src:s,srcSet:r,onLoad:a,onError:i,crossOrigin:c,sizes:o,ignoreFallback:u}=e,[d,f]=(0,n.useState)("pending");(0,n.useEffect)(()=>{f(s?"loading":"pending")},[s]);let m=(0,n.useRef)(),x=(0,n.useCallback)(()=>{if(!s)return;h();let e=new Image;e.src=s,c&&(e.crossOrigin=c),r&&(e.srcset=r),o&&(e.sizes=o),t&&(e.loading=t),e.onload=e=>{h(),f("loaded"),null==a||a(e)},e.onerror=e=>{h(),f("failed"),null==i||i(e)},m.current=e},[s,c,r,o,a,i,t]),h=()=>{m.current&&(m.current.onload=null,m.current.onerror=null,m.current=null)};return(0,l.G)(()=>{if(!u)return"loading"===d&&x(),()=>{h()}},[d,x,u]),u?"loaded":d}}},function(e){e.O(0,[826,349,223,98,42,915,514,171,744],function(){return e(e.s=77571)}),_N_E=e.O()}]);