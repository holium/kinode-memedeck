(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7984],{83325:function(e,t,s){Promise.resolve().then(s.bind(s,72251)),Promise.resolve().then(s.bind(s,59714)),Promise.resolve().then(s.bind(s,70221)),Promise.resolve().then(s.bind(s,8181)),Promise.resolve().then(s.bind(s,16859)),Promise.resolve().then(s.bind(s,54713)),Promise.resolve().then(s.bind(s,47023)),Promise.resolve().then(s.bind(s,65600)),Promise.resolve().then(s.bind(s,77340)),Promise.resolve().then(s.bind(s,92798)),Promise.resolve().then(s.bind(s,77390)),Promise.resolve().then(s.bind(s,95186)),Promise.resolve().then(s.bind(s,83860)),Promise.resolve().then(s.bind(s,6687)),Promise.resolve().then(s.bind(s,40679)),Promise.resolve().then(s.bind(s,89744)),Promise.resolve().then(s.bind(s,21170)),Promise.resolve().then(s.bind(s,35689)),Promise.resolve().then(s.bind(s,89560)),Promise.resolve().then(s.bind(s,99406)),Promise.resolve().then(s.bind(s,50158)),Promise.resolve().then(s.bind(s,42227)),Promise.resolve().then(s.bind(s,46773)),Promise.resolve().then(s.bind(s,46791)),Promise.resolve().then(s.bind(s,15840)),Promise.resolve().then(s.bind(s,70928)),Promise.resolve().then(s.bind(s,72145)),Promise.resolve().then(s.bind(s,38455)),Promise.resolve().then(s.bind(s,25065)),Promise.resolve().then(s.bind(s,47829)),Promise.resolve().then(s.bind(s,30505)),Promise.resolve().then(s.bind(s,50118)),Promise.resolve().then(s.bind(s,4819)),Promise.resolve().then(s.bind(s,22413)),Promise.resolve().then(s.bind(s,13336)),Promise.resolve().then(s.bind(s,71364)),Promise.resolve().then(s.bind(s,79652))},95320:function(e,t,s){"use strict";s.d(t,{Ud:function(){return m},hd:function(){return d},Ew:function(){return u},QB:function(){return h}});var l=s(59547),i=s(79886),r=s(15361),a={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo.a86b8f2b.svg",height:256,width:256,blurWidth:0,blurHeight:0},n=s(7692),o=s(1489),c=s(17432);let d=()=>(0,l.jsx)("div",{className:"flex h-16 select-none items-center justify-center lg:px-2 lg:text-left",children:(0,l.jsxs)(i.default,{href:"/home",children:[(0,l.jsxs)("div",{className:"hidden gap-1 items-center lg:flex",children:[(0,l.jsx)(h,{}),(0,l.jsx)(m,{})]}),(0,l.jsx)("div",{className:"lg:hidden",children:(0,l.jsx)(u,{})})]})}),u=()=>(0,l.jsx)(r.default,{src:a,alt:"".concat(o.jG," Icon"),"aria-label":"".concat(o.jG," - ").concat(o.vk),className:"h-10 w-full select-none"}),h=e=>{let{className:t="h-12 w-auto"}=e;return(0,l.jsx)(r.default,{priority:!0,src:n.Z,alt:"".concat(o.jG," Logo"),"aria-label":"".concat(o.jG," - ").concat(o.vk),className:t,draggable:!1})},m=()=>(0,l.jsx)(c.z,{size:"sm",color:"warning",classNames:{base:"mb-0.5 text-yellow-400 bg-yellow-50 border-1 border-yellow-400/10"},children:"Alpha"})},97426:function(e,t,s){"use strict";s.d(t,{h:function(){return r}});var l=s(59547),i=s(15361);let r=e=>{let{imageUrl:t,priorityLoadImage:s,alt:r="Meme"}=e;return(0,l.jsxs)("div",{className:"relative size-full select-none overflow-hidden rounded-xl bg-white-400/10",children:[(0,l.jsx)(i.default,{className:"absolute z-0 inset-0 object-cover blur-lg scale-110 size-full",src:t,alt:"Meme blur",width:400,height:400,quality:1,priority:s}),(0,l.jsx)(i.default,{draggable:!1,className:"absolute z-1 inset-0 size-full object-contain",src:t,alt:r,width:640,height:640,sizes:"640px",quality:50,priority:s})]})}},94663:function(e,t,s){"use strict";s.d(t,{k:function(){return a}});var l=s(59547),i=s(15361),r=s(7700);let a=e=>{var t,s,a,n,o,c,d,u,h;let{meme:m,priorityLoadImage:x}=e;return(0,l.jsxs)("div",{className:"relative size-full select-none overflow-hidden rounded-xl bg-white-400/10",children:[(0,l.jsx)(i.default,{className:"absolute z-0 inset-0 object-cover blur-lg scale-110 size-full",src:m.url,alt:"Meme blur",width:400,height:400,priority:x,quality:1}),(0,l.jsx)(r.g,{src:m.url,alt:(null!==(a=m.tags)&&void 0!==a?a:["Meme"]).join(", "),topText:null!==(n=null===(t=m.text_overlay)||void 0===t?void 0:t.top_text)&&void 0!==n?n:null,bottomText:null!==(o=null===(s=m.text_overlay)||void 0===s?void 0:s.bottom_text)&&void 0!==o?o:null,centerText:null,className:"z-[1]",imageWidth:null!==(c=m.width)&&void 0!==c?c:1024,imageHeight:null!==(d=m.height)&&void 0!==d?d:1024,canvasWidth:null!==(u=m.width)&&void 0!==u?u:1024,canvasHeight:null!==(h=m.height)&&void 0!==h?h:1024})]})}},8181:function(e,t,s){"use strict";s.r(t),s.d(t,{NewFeatures:function(){return d}});var l=s(59547),i=s(1463),r=s(93078),a=s(88942),n=s(82972),o=s(35732),c=s(30912);let d=()=>{let[e,t]=(0,c.useState)();if((0,c.useEffect)(()=>{i.P.getProductUpdates().then(e=>t(e))},[]),!e)return null;let s=new Date(e.date_formatted),d="".concat(s.getMonth()+1,"/").concat(s.getDate(),"/").concat(s.getFullYear());return e&&(0,l.jsxs)(a.w,{className:"border-white-400/5 w-full rounded-lg border pb-4 p-2 bg-[url('https://nextuipro.nyc3.cdn.digitaloceanspaces.com/components-images/abstract-dark-bg4.jpg')] bg-right-bottom",shadow:"sm",children:[(0,l.jsx)(n.A,{isIconOnly:!0,className:"absolute right-2 top-2 z-20",radius:"full",size:"sm",variant:"light",onClick:()=>{i.P.dismissProductUpdate(e.id),t(void 0)},children:(0,l.jsx)(r.JO,{className:"text-default-400",icon:"iconamoon:close-thin",width:24})}),(0,l.jsxs)(o.G,{className:"px-3 pb-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-start gap-4",children:[(0,l.jsx)(r.JO,{icon:"ic:sharp-tips-and-updates",className:"size-7 my-2"}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"text-small text-default-500/50",children:d}),(0,l.jsx)("h2",{className:"text-lg font-black",children:(null==e?void 0:e.title)||"Product Updates"})]})]}),(0,l.jsx)("ul",{className:"mt-3",children:Object.entries(null==e?void 0:e.details).sort((e,t)=>e[0]-t[0]).map(e=>(0,l.jsxs)("li",{className:"flex items-center gap-2",children:[(0,l.jsx)(r.JO,{icon:"ic:sharp-check-circle",className:"size-4"}),(0,l.jsx)("p",{className:"text-small text-default-500",children:e[1]})]},"product-update-feature"+e[0].toString()))})]})]})}},16859:function(e,t,s){"use strict";s.r(t),s.d(t,{Page:function(){return m}});var l=s(59547),i=s(30912),r=s(74600),a=s(15076),n=s(1463),o=s(47177),c=s(24449),d=s(65589),u=s(15361);let h=()=>{let{isBatchUploading:e}=(0,o.useUpload)();return(0,l.jsx)("div",{className:"relative size-full min-w-0 p-3",children:(0,l.jsx)("div",{className:"relative flex size-full min-w-0 items-center justify-center rounded-xl border-3 border-dashed border-blue-400",children:e?(0,l.jsx)(c.c,{}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,l.jsx)(u.default,{src:d.Z,width:64,height:64,alt:"cloud",loading:"eager",className:"size-24"}),(0,l.jsx)("h2",{className:"text-center text-xl font-semibold text-white-400",children:"Drop bangers to upload"})]})})})},m=e=>{let{children:t,isGated:s=!0,border:o="xs:border-0 sm:border-x border-white-400/15"}=e,c=(0,r.useRouter)(),{profile:d,setProfile:u,isHovering:m,isPostingMemes:x}=(0,a.useProfile)();return(0,i.useEffect)(()=>{s&&!d&&n.P.getMe().then(u).catch(e=>{console.error(e),c.push("/")})},[s,d,c,u]),(0,l.jsx)("div",{className:"relative size-full min-w-0 xs:pb-16 ".concat(o),children:m&&!x?(0,l.jsx)(h,{}):t})}},54713:function(e,t,s){"use strict";s.r(t),s.d(t,{PeopleToFollow:function(){return c}});var l=s(59547),i=s(30912),r=s(79886),a=s(1463),n=s(15076),o=s(36313);let c=()=>{let{recommendedFollows:e,setRecommendedFollows:t}=(0,n.useProfile)(),[s,c]=(0,i.useState)(!0),d=(0,i.useCallback)(async()=>{t(await a.P.getRecommendedFollows()),c(!1)},[t]);return((0,i.useEffect)(()=>{0===e.length&&d()},[d,e.length]),s&&0===e.length)?(0,l.jsx)("div",{className:"flex flex-col gap-1",children:[1,2,3,4,5,6,7].map(e=>(0,l.jsxs)("div",{style:{height:"60px"},className:"flex items-center gap-3 px-4 py-2 text-sm",children:[(0,l.jsx)("div",{className:"bg-white-400/10 size-10 rounded-full"}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col gap-2",children:[(0,l.jsx)("div",{className:"bg-white-400/10 h-4 w-1/2 rounded-md"}),(0,l.jsx)("div",{className:"bg-white-400/5 h-3 w-1/4 rounded-md"})]})]},"skeleton-avatar-".concat(e)))}):(0,l.jsx)("div",{className:"flex flex-col gap-1",children:e.slice(0,7).map(e=>(0,l.jsxs)(r.default,{href:"/u/".concat(e.screen_name),className:"hover:bg-white-400/5 flex items-center gap-3 px-4 py-2 text-sm",children:[(0,l.jsx)("div",{id:"creator-avatar",className:"bg-black-400 size-10 rounded-full",children:(0,l.jsx)(o.R,{className:"rounded-full",src:e.profile_image_url_https,alt:e.screen_name,width:40,height:40})}),(0,l.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,l.jsx)("div",{className:"max-w-48 truncate text-base font-semibold",children:e.name}),(0,l.jsxs)("div",{className:"text-white-400/50 text-sm",children:["@",e.screen_name]})]})]},e.screen_name))})}},47023:function(e,t,s){"use strict";s.r(t),s.d(t,{TrendingTopics:function(){return c}});var l=s(59547),i=s(30912),r=s(17432),a=s(1463),n=s(15076),o=s(67630);let c=e=>{let{limit:t,wrap:s="flex-wrap",onClickTag:c}=e,{trending:d,setTrending:u}=(0,n.useProfile)(),[h,m]=(0,i.useState)(!0),x=(0,i.useCallback)(async()=>{u(await a.P.getTrending(t)),m(!1)},[u,t]);return((0,i.useEffect)(()=>{let e=d.length;(0===e||e<t)&&x()},[x,t,d.length]),h&&0===d.length)?(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:[1,2,3].map(e=>(0,l.jsx)(r.z,{variant:"flat",className:"cursor-pointer select-none px-2 py-1 text-sm font-bold tracking-wide text-transparent",children:1===e?"abcdefg":"xyzw"},e))}):(0,l.jsx)(o.$,{wrap:s,tags:d.slice(0,t).map(e=>e.name),onClickTag:c})}},72251:function(e,t,s){"use strict";s.r(t),s.d(t,{SearchBar:function(){return n}});var l=s(59547),i=s(74600),r=s(95320),a=s(65883);let n=e=>{let{value:t,autofocus:s,initialSearch:n,responsiveness:o="",border:c="border-b border-white-400/15",placeholder:d,onSearch:u}=e,h=(0,i.useRouter)();return(0,l.jsxs)("div",{className:"sticky top-0 z-10 flex gap-3 h-16 w-full items-center bg-black-0 px-3 ".concat(o," ").concat(c),onClick:()=>{u||h.push("/explore")},children:[(0,l.jsx)("div",{className:"sm:hidden size-10 max-w-10",children:(0,l.jsx)(r.Ew,{})}),(0,l.jsx)(a.T,{value:t,autofocus:s,initialSearch:n,placeholder:d,onSearch:u})]})}},65883:function(e,t,s){"use strict";s.d(t,{T:function(){return o}});var l=s(59547),i=s(30912),r=s(15361),a=s(99854),n=s(61505);let o=e=>{let{value:t,autofocus:s,initialSearch:o,placeholder:c="Search for memes. (i.e. pepe)",onFocus:d,onSearch:u}=e,h=(0,i.useRef)(null);return(0,l.jsx)(a.Y,{isClearable:!0,onClear:()=>{null==u||u("")},radius:"full",classNames:{input:"text-base placeholder:text-base placeholder:text-white-400/50"},startContent:(0,l.jsx)(r.default,{priority:!0,src:n.Z,alt:"Dropdown",onClick:e=>{var t;e.preventDefault(),null===(t=h.current)||void 0===t||t.focus()},className:"mr-1 size-5 cursor-text select-none opacity-75"}),ref:h,autoFocus:s,defaultValue:o,placeholder:c,className:"h-10 min-w-24 flex-1 rounded-full border border-white-400/5 bg-white-400/5 shadow-sm outline-none placeholder:text-xl placeholder:text-white-400/50",value:t,onFocus:d,onChange:e=>null==u?void 0:u(e.target.value)})}},59714:function(e,t,s){"use strict";s.r(t),s.d(t,{HomeFeed:function(){return H}});var l=s(59547),i=s(24449),r=s(1463),a=s(30912),n=s(79886),o=s(74600),c=s(82972),d=s(20004),u=s(67887),h=s(60858),m=s(40538),x=s(39992),f=s(29619);let v=e=>{let{avatar:t,handle:s,publishedAt:i,submissionCount:r=0,name:a,description:n,onProfileClick:o}=e;return(0,l.jsxs)("header",{className:"flex w-full flex-col gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-start gap-1.5 text-sm",children:[(0,l.jsx)(f.z,{classNames:{base:"text-white-400/80 hover:text-white-400/100"},name:s,avatarProps:{src:t,className:"w-5 h-5 text-tiny"},onClick:o}),(0,l.jsx)("div",{className:"text-stone-700 text-xs",children:"•"}),r>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"text-white-400/40",children:[r," contributor",r>1?"s":""]}),(0,l.jsx)("div",{className:"text-stone-700 text-xs",children:"•"})]}),(0,l.jsx)("div",{className:"text-white-400/40",children:(0,x.Po)(i)})]}),(a||n)&&(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("h2",{className:"truncate text-lg font-bold tracking-wide",children:a}),(0,l.jsx)("p",{className:"text-sm font-normal text-white-400/75",children:n})]})]})};var b=s(93078),p=s(97426),g=s(94663);let j=e=>{let{memes:t,deckId:s}=e,i=(0,o.useRouter)(),r=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=r.current;if(e){let t=0,s=0,l=l=>{t=l.touches[0].clientX-e.offsetLeft,s=e.scrollLeft},i=l=>{let i=(l.touches[0].clientX-e.offsetLeft-t)*2;e.scrollLeft=s-i};return e.addEventListener("touchstart",l),e.addEventListener("touchmove",i),()=>{e.removeEventListener("touchstart",l),e.removeEventListener("touchmove",i)}}},[]),(0,l.jsx)("div",{className:"flex w-full overflow-x-scroll scrollbar-hide",children:(0,l.jsxs)("div",{ref:r,className:"z-[1] w-full flex gap-3 pt-1",children:[t.slice(0,4).map((e,t)=>{var r;return(0,l.jsx)("div",{className:"deckpreview relative size-44 min-w-44 overflow-hidden rounded-sm bg-white-400/5 border-black-400/10 shadow-sm",onClick:e=>{e.stopPropagation(),e.preventDefault(),i.push((0,m.Mm)(s,t),{scroll:!1})},children:"generated"===e.source?(0,l.jsx)(g.k,{meme:e}):(0,l.jsx)(p.h,{imageUrl:e.url,alt:null===(r=e.tags)||void 0===r?void 0:r.join(", ")})},e.id+t)}),(0,l.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault();let l=t.length>4?4:0;i.push((0,m.Mm)(s,l),{scroll:!1})},className:"flex size-44 min-w-44 items-center justify-center rounded-lg border-1 border-transparent bg-white-400/5 hover:bg-white-400/10 text-white-400/60",children:t.length>4?(0,l.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,l.jsx)(b.JO,{icon:"mdi:plus",width:24}),(0,l.jsx)("p",{className:"text-2xl font-medium tracking-widest uppercase",children:t.length-4})]}):(0,l.jsx)("div",{className:"flex flex-col items-center gap-2",children:(0,l.jsx)(b.JO,{icon:"mdi:image-add",className:"size-8"})})})]})})};var w=s(10822),N=s(15076);let k=e=>{var t;let{title:s,description:i,deck:x,by_avatar:f,by_handle:b,published_at:p}=e,g=(0,o.useRouter)(),{profile:k}=(0,N.useProfile)(),[P,y]=(0,a.useState)(x.is_bookmarked),z=(0,a.useCallback)(e=>{y(!e),r.P.bookmarkDeck(x.id,e).then(e=>{y((null==e?void 0:e.is_bookmarked)||!1)}).catch(()=>{y(e)})},[x.id]),C=(0,a.useMemo)(()=>x.submissions.filter((e,t,s)=>s.findIndex(t=>t.creator_handle===e.creator_handle)===t),[x.submissions]);return(0,l.jsxs)(n.default,{href:(0,m.s9)(x),scroll:!1,className:"flex min-h-0 min-w-full max-w-full flex-col items-start justify-start gap-2 border-b border-white-400/15 p-3 transition-colors hover:bg-black-400",children:[(0,l.jsx)(v,{avatar:f,handle:b,publishedAt:p,submissionCount:C.length,name:x.name||s,description:x.description||i,onProfileClick:e=>{e.preventDefault(),e.stopPropagation(),g.push("/u/".concat(b))}}),(0,l.jsx)(j,{deckId:x.id,memes:x.memes}),(0,l.jsxs)("footer",{className:"flex w-full items-center justify-between gap-3",children:[(0,l.jsxs)("div",{className:"flex select-none items-center gap-2",children:[(0,l.jsx)(w.I,{itemId:x.id,userId:null!==(t=null==k?void 0:k.user.id)&&void 0!==t?t:"",addVoteApi:r.P.createDeckReaction,removeVoteApi:r.P.deleteDeckReaction}),(0,l.jsx)(c.A,{isIconOnly:!0,size:"sm",radius:"full",variant:"ghost",onClick:e=>{e.stopPropagation(),e.preventDefault(),z(P)},children:(0,l.jsx)(h.JO,{icon:P?"material-symbols:bookmark":"material-symbols:bookmark-outline",width:18})})]}),(0,l.jsxs)(c.A,{variant:"ghost",radius:"full",color:"default",size:"sm",startContent:(0,l.jsx)(h.JO,{icon:"mdi:plus",width:18}),className:"gap-2",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-white-400",children:"Contribute"}),C.length>0&&(0,l.jsx)(d._,{className:"select-none",isDisabled:!0,size:"sm",color:"default",max:3,total:C.length>3?C.length:void 0,children:C.map(e=>(0,l.jsx)(u.h,{classNames:{base:"!size-[20px] !opacity-100"},size:"sm",src:e.creator_avatar,alt:e.creator_handle},e.id))})]})]})]})};var P=s(15361),y=s(71904),z=s(25866),C=s(48943),_=s(93190),M=s(4136),O=s(50594),A=s(34524),E=s(13296),S=s(17875),F=s(81737);let I=e=>{var t,s;let{meme:i,by_avatar:n,by_handle:d,published_at:u,priorityLoadImage:h}=e,m=(0,o.useRouter)(),{isOpen:x,onOpen:f,onClose:j,onOpenChange:k}=(0,C.q)(),{profile:I}=(0,N.useProfile)(),{onOpenMeme:R}=(0,z.useMemeModal)(),{getMemeModalPath:L}=(0,E.T)(),[D,H]=(0,a.useState)(i.is_saved),[T,J]=(0,a.useState)(!1),U=()=>{H(!D),r.P.saveMeme(i.id,D).catch(()=>{H(D)})},W=()=>{let e=L(i.id),t="".concat(window.location.origin).concat(e);navigator.clipboard.writeText(t),j(),(0,y.yv)("Link copied to clipboard",{variant:"success",autoHideDuration:1500})},Z=async()=>{try{J(!0);let e=await fetch(i.url);if(!e.ok)throw Error("Network response was not ok.");let t=await e.blob(),s=new File([t],"meme.png",{type:"image/png"});await navigator.share({title:"Share Meme",text:"Check out this meme on Memedeck",files:[s]})}catch(e){console.error("Error sharing:",e)}finally{J(!1)}j()};return(0,l.jsxs)("article",{className:"flex min-h-0 min-w-full max-w-full cursor-pointer flex-col items-start justify-start gap-2 overflow-hidden border-b border-white-400/15 p-3 transition-colors hover:bg-black-400",onClick:()=>R(i.id),children:[(0,l.jsx)(v,{avatar:n,handle:d,publishedAt:u,onProfileClick:e=>{e.preventDefault(),e.stopPropagation(),m.push("/u/".concat(d))}}),(0,l.jsx)("div",{className:"h-[320px] w-full md:h-[420px]",children:"generated"===i.source?(0,l.jsx)(g.k,{meme:i,priorityLoadImage:h}):(0,l.jsx)(p.h,{imageUrl:i.url,alt:null===(t=i.tags)||void 0===t?void 0:t.join(", "),priorityLoadImage:h})},"meme-".concat(i.id)),(0,l.jsxs)("footer",{className:"flex w-full flex-row items-center gap-2",children:[(0,l.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,l.jsx)(w.I,{itemId:i.id,userId:null!==(s=null==I?void 0:I.user.id)&&void 0!==s?s:"",addVoteApi:r.P.createMemeReaction,removeVoteApi:r.P.deleteMemeReaction}),(0,l.jsx)(c.A,{isIconOnly:!0,size:"sm",radius:"full",variant:"ghost",onClick:e=>{e.stopPropagation(),e.preventDefault(),U()},children:(0,l.jsx)(b.JO,{icon:D?"material-symbols:bookmark":"material-symbols:bookmark-outline",width:18})})]}),i.source&&F.F.includes(i.source)&&(0,l.jsx)(c.A,{size:"sm",variant:"bordered",startContent:(0,l.jsx)(P.default,{src:S.Z,alt:"Remix",className:"size-4"}),onClick:()=>{m.push("/studio?remix=".concat(i.id))},children:"Remix"}),(0,l.jsx)(c.A,{isIconOnly:!0,size:"sm",variant:"ghost",className:"flex sm:hidden",onClick:f,children:(0,l.jsx)(b.JO,{icon:"ri:share-2-line",width:18})})]}),(0,l.jsx)(_.R,{isOpen:x,placement:"bottom",hideCloseButton:!0,onOpenChange:k,children:(0,l.jsx)(M.A,{children:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(O.I,{className:"flex gap-3 pt-4",children:[(0,l.jsx)(c.A,{variant:"light",className:"flex justify-start",startContent:(0,l.jsx)(b.JO,{icon:"tdesign:link",width:18}),onClick:W,children:"Copy link"}),!!navigator.share&&(0,l.jsx)(c.A,{variant:"light",className:"flex justify-start",startContent:(0,l.jsx)(b.JO,{icon:"ri:share-2-line",width:18}),isLoading:T,onClick:Z,children:"Share post via..."})]}),(0,l.jsx)(A.R,{children:(0,l.jsx)(c.A,{variant:"bordered",fullWidth:!0,onPress:e,children:"Cancel"})})]})})})]})},R=e=>{let{index:t,post:s}=e;return"deck"===s.post_type?(0,l.jsx)(k,{...s,deck:s.post},s.id):(0,l.jsx)(I,{...s,meme:s.post,priorityLoadImage:t<2},s.id)};var L=s(46113),D=s(74491);let H=()=>{let{feed:e,setFeed:t,hasFetchedFeed:s,setHasFetchedFeed:a}=(0,D.useFeed)(),{isFetching:n}=(0,L.M)({feed:e,setFeed:t,hasFetched:s,setHasFetched:a,fetchFn:r.P.getFeed,pageSize:10});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"relative min-w-full max-w-full",children:e.map((e,t)=>(0,l.jsx)(R,{post:e,index:t},"feed--".concat(t)))}),n&&(0,l.jsx)("div",{className:"flex w-full justify-center px-3 py-6",children:(0,l.jsx)(i.c,{})})]})}},70221:function(e,t,s){"use strict";s.r(t),s.d(t,{FeedHeaderMobile:function(){return c}});var l=s(59547),i=s(79886),r=s(15361),a=s(82972),n=s(61505),o=s(95320);let c=()=>(0,l.jsx)("nav",{className:"h-16 border-b border-white-400/10 bg-black-500 sm:hidden xs:block px-3",children:(0,l.jsxs)("div",{className:"flex size-full w-full items-center justify-between gap-3",children:[(0,l.jsx)("div",{className:"size-[40px]"}),(0,l.jsx)("div",{className:"flex flex-1 justify-center items-center",children:(0,l.jsxs)(i.default,{href:"/home",className:"flex items-center gap-1",children:[(0,l.jsx)(o.QB,{className:"w-28"}),(0,l.jsx)(o.Ud,{})]})}),(0,l.jsx)(a.A,{as:i.default,href:"/explore",isIconOnly:!0,variant:"light",radius:"full",children:(0,l.jsx)(r.default,{src:n.Z,alt:"Search",className:"size-6"})})]})})},46113:function(e,t,s){"use strict";s.d(t,{M:function(){return r}});var l=s(30912),i=s(58741);let r=e=>{let{feed:t,setFeed:s,hasFetched:r,setHasFetched:a,searchQuery:n,setSearchQuery:o,fetchFn:c,initialQuery:d,fetchOnLoad:u=!0,pageSize:h=50,ignoreWindowScroll:m=!1,onFetchOnLoad:x}=e,[f,v]=(0,l.useState)(0),[b,p]=(0,l.useState)(!0),[g,j]=(0,l.useState)(!1),w=(0,l.useCallback)(async(e,t)=>{let l=await c(e,t);return s(t=>l.length>0&&Number(e.start)>0?[...t,...l]:l),j(!1),a(!0),p(l.length===h),l},[c,h,s,a]),N=(0,l.useMemo)(()=>(0,i.k)(w,1e3),[w]),k=(0,l.useCallback)(async(e,t)=>{var s,l,i;return j(!0),a(!1),N({search:null!==(s=e.search)&&void 0!==s?s:n,start:null!==(l=e.start)&&void 0!==l?l:f,limit:null!==(i=e.limit)&&void 0!==i?i:h},t)},[N,h,n,a,f]),P=(0,l.useCallback)(()=>{if(!r||!b||g)return;let e=f+h;v(e),k({start:e})},[r,b,g,f,h,k]),y=(0,l.useCallback)(async()=>{let e=window.innerHeight;document.body.offsetHeight-window.scrollY<3*e&&P()},[P]),z=(0,l.useCallback)(e=>{let t=new URL(window.location.href);e.length>0?t.searchParams.set("query",e):t.searchParams.delete("query"),window.history.pushState({},"",t.toString())},[]),C=(0,l.useCallback)(async e=>{null==o||o(e),o&&z(e),v(0),p(!0),k({search:e,start:0,limit:h})},[k,h,o,z]);return(0,l.useEffect)(()=>{if(!m)return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[y,m]),(0,l.useEffect)(()=>{let e=new AbortController;if(!r&&!(t.length>0)&&u&&!g)return k({search:d,start:0,limit:h},e.signal).then(x),()=>{!e.signal.aborted&&g&&e.abort()}},[t.length,k,u,r,d,g,x,h]),{feed:t,setFeed:s,setHasMore:p,onSearch:C,isFetching:g,hasMore:b,setIsFetching:j,setHasFetched:a,onReachedEnd:P}}},1489:function(e,t,s){"use strict";s.d(t,{K7:function(){return r},jG:function(){return i},vk:function(){return a}});var l=s(60044);let i="MemeDeck",r="Meme With Frens",a="Create & discover memes with AI.";"".concat(i," – ").concat(r),new URL(l.j7?"http://localhost:8080":"https://memedeck.xyz")},65589:function(e,t){"use strict";t.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/cloud.c8336d47.svg",height:74,width:74,blurWidth:0,blurHeight:0}},61505:function(e,t){"use strict";t.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/search.3dc28276.svg",height:18,width:18,blurWidth:0,blurHeight:0}},7692:function(e,t){"use strict";t.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/logo-wide.572ec4d3.svg",height:256,width:702,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[1775,1904,3817,2972,9886,920,3372,276,4283,417,5875,5924,858,5922,8723,975,4116,7177,5866,7930,3957,1744],function(){return e(e.s=83325)}),_N_E=e.O()}]);