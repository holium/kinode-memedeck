(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7405],{77571:function(e,t,n){Promise.resolve().then(n.bind(n,3801))},3801:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var r=n(91104),s=n(63137),a=n(33968),l=n(29398),i=n(49566),o=n(9698),c=n(87091),u=n(57826),d=n(36623),f=n(41116),m=n(8846),x=n(31210),h=n(48845),g=n(72184),v=n(61484),p=n(64255),b=n(41908),w=n(38304),j=n(18159),y=n(4180),C=n(30027),k=n(45268),N=n(86600);let P=e=>{let{username:t}=e;return(0,r.jsxs)(C.default,{href:"https://twitter.com/".concat(t),target:"_blank",className:"flex flex-1 gap-2 sm:gap-3 items-center min-w-0 hover:underline",children:[(0,r.jsx)(k.h,{src:"https://unavatar.io/twitter/".concat(t),alt:t,name:t,showFallback:!0,size:"sm",className:"min-w-8"}),(0,r.jsxs)("p",{className:"flex tracking-wide",children:["@".concat(t),(0,r.jsx)(N.x,{})]})]})},_=e=>{let{columnKey:t,invite:n,isDeleting:s,onClickDelete:a}=e;if("created_at"===t)return(0,r.jsx)("p",{className:"flex-1 truncate text-xs sm:text-sm px-2 text-white-400/75",children:(0,y.Po)((0,w.sF)(n,t))});if("status"===t){let e=(0,w.sF)(n,t),l=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),o="ACCEPTED"===e;return(0,r.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,r.jsx)(j.z,{size:"sm",color:o?"success":"primary",classNames:{base:o?"bg-green-400 text-green-900":"text-white-400"},children:l}),!o&&(0,r.jsx)(u.A,{size:"sm",isIconOnly:!0,variant:"light",isLoading:s,onClick:a,children:(0,r.jsx)(i.JO,{icon:"mdi:remove",className:"text-white-400/75",width:16})})]})}if("to"===t){let e=(0,w.sF)(n,t);return(0,r.jsx)(P,{username:e})}},S=[{key:"to",value:"To"},{key:"created_at",value:"Sent"},{key:"status",value:"Status"}],D=e=>{let{invites:t,isFetching:n,isDeleting:s,onClickDeleteInvite:a}=e;return(0,r.jsxs)(m.b,{classNames:{wrapper:"p-2 lg:p-3",table:"max-w-full min-w-full relative flex flex-col gap-3",thead:"flex flex-col gap-0",th:"flex flex-1 items-center truncate min-h-0 bg-black-400",tbody:"flex flex-col gap-3",tr:"flex max-w-full min-w-full",td:"flex flex-1 items-center truncate px-1 py-0",emptyWrapper:"flex flex-col items-center justify-center"},children:[(0,r.jsx)(x.J,{columns:S,children:e=>(0,r.jsx)(h.j,{children:e.value},e.key)}),(0,r.jsx)(g.y,{items:t,emptyContent:(0,r.jsx)("p",{className:"p-3",children:"No invites issued yet"}),children:n?(0,r.jsxs)(v.g,{children:[(0,r.jsx)(p.X,{children:""}),(0,r.jsx)(p.X,{children:(0,r.jsx)("div",{className:"w-full h-[160px] flex items-center justify-center",children:(0,r.jsx)(b.c,{})})}),(0,r.jsx)(p.X,{children:""})]}):t.sort((e,t)=>"ACCEPTED"===e.status&&"ACCEPTED"!==t.status?1:"ACCEPTED"!==e.status&&"ACCEPTED"===t.status?-1:new Date(t.created_at/1e6).getTime()-new Date(e.created_at/1e6).getTime()).map(e=>(0,r.jsx)(v.g,{children:t=>(0,r.jsx)(p.X,{children:(0,r.jsx)(_,{columnKey:t,invite:e,isDeleting:s===e.id,onClickDelete:()=>a(e.id)},t)})},e.id))})]})};function z(){var e;let{profile:t}=(0,f.useProfile)(),n=null!==(e=null==t?void 0:t.user.invite_cap)&&void 0!==e?e:5,[m,x]=(0,s.useState)([]),[h,g]=(0,s.useState)(!0),[v,p]=(0,s.useState)(""),[b,w]=(0,s.useState)(!1),[j,y]=(0,s.useState)(null),C=(0,s.useMemo)(()=>m.length>=n,[n,m.length]),k=(0,s.useCallback)(async()=>{x(await a.P.getInvites()),g(!1)},[]),N=(0,s.useCallback)(async()=>{if(b||C)return;let e=v.trim().replace(/^@/,"");if(m.some(t=>t.to.toLowerCase()===e.toLowerCase())){(0,d.yv)("User already invited",{variant:"info"});return}try{w(!0);try{if((await a.P.getProfileByHandle(e)).id){(0,d.yv)("User already exists",{variant:"info"});return}}catch(e){}await a.P.postInvite({x_handle:e})}catch(e){(0,d.yv)("Failed to send invite",{variant:"error"})}finally{await k(),p(""),w(!1)}},[b,C,v,m,k]),P=(0,s.useCallback)(async e=>{if(j!==e)try{y(e),await a.P.deleteInvite(e)}catch(e){(0,d.yv)("Failed to delete invite",{variant:"error"})}finally{await k(),y(null)}},[k,j]);return(0,s.useEffect)(()=>{k()},[k]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.y,{title:(0,r.jsxs)("span",{className:"flex items-center gap-1 justify-between",children:["Invite Friends from X",(0,r.jsx)(o.e,{content:(0,r.jsx)("p",{className:"max-w-48",children:"As a Memedeck user you can invite a friend from X which allows them to skip the waitlist."}),children:(0,r.jsx)("div",{className:"flex items-center justify-center size-12",children:(0,r.jsx)(i.JO,{icon:"mdi:information-outline",className:"text-white-400/75",width:16})})})]}),border:"border-b border-white-400/10"}),(0,r.jsxs)("div",{className:"flex flex-col p-3 gap-3 min-w-full max-w-full",children:[(0,r.jsxs)("p",{className:"text-white-400/75 text-sm",children:["You have ",Number(n-m.length),"/",n," invites left."]}),(0,r.jsx)(c.Y,{type:"text",size:"lg",classNames:{input:"placeholder:text-white-400/50"},placeholder:"elonmusk",value:v,onValueChange:p,startContent:(0,r.jsx)(i.JO,{icon:"mdi:at",className:"text-white-400",width:20}),endContent:(0,r.jsx)(u.A,{size:"sm",color:"primary",isLoading:b,isDisabled:C,onClick:N,children:"Invite"}),onKeyDown:e=>{"Enter"===e.key&&N()}}),(0,r.jsx)(D,{invites:m,isFetching:h,isDeleting:j,onClickDeleteInvite:P})]})]})}},29398:function(e,t,n){"use strict";n.d(t,{y:function(){return i}});var r=n(91104),s={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/arrow.left.37648ed6.svg",height:46,width:57,blurWidth:0,blurHeight:0},a=n(23640),l=n(48751);let i=e=>{let{title:t,border:n="border-b border-transparent",isLoading:i=!1,endContent:o,onGoBack:c}=e,{goBack:u}=(0,l.useAppHistory)();return(0,r.jsxs)("div",{className:"flex h-16 w-full items-center ".concat(n),children:[(0,r.jsx)(a.O,{src:s,alt:"Back",onClick:null!=c?c:u}),i?(0,r.jsx)("h1",{className:"h-6 w-24 animate-pulse rounded bg-gray-200"}):(0,r.jsx)("h1",{className:"flex-1 text-left text-lg font-bold truncate",children:t}),o]})}},23640:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var r=n(91104),s=n(83301);let a=e=>{let{src:t,alt:n,id:a,margin:l="m-2",w:i="w-3.5",onClick:o}=e;return(0,r.jsx)("button",{id:a,className:"flex size-9 items-center justify-center rounded-full hover:bg-black-100 ".concat(l),onClick:o,children:(0,r.jsx)(s.default,{priority:!0,src:t,alt:n,className:"opacity-85 ".concat(i)})})}},48751:function(e,t,n){"use strict";n.r(t),n.d(t,{AppHistoryProvider:function(){return o},useAppHistory:function(){return c}});var r=n(91104),s=n(26816),a=n(36623),l=n(63137);let i=(0,l.createContext)({}),o=e=>{let{children:t}=e,n=(0,s.usePathname)(),o=(0,s.useRouter)(),[c,u]=(0,l.useState)([]),d=(0,l.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/home",t=arguments.length>1?arguments[1]:void 0;console.log("goBack",{defaultRoute:e,ignoreRouteBase:t});let n=e;c.length>1&&(n=c[c.length-2],void 0!==t&&n.includes(t)&&(n=e)),"string"!=typeof n&&(n="/home"),o.push(n,{scroll:!1})},[c,o]);return(0,l.useEffect)(()=>{u(e=>e[e.length-1]!==n?[...e,n]:e)},[n]),(0,r.jsxs)(i.Provider,{value:{goBack:d},children:[t,(0,r.jsx)(a.wT,{dense:!0,maxSnack:3})]})},c=()=>(0,l.useContext)(i)},41116:function(e,t,n){"use strict";n.r(t),n.d(t,{ProfileProvider:function(){return i},useProfile:function(){return o}});var r=n(91104),s=n(21204),a=n(63137);let l=(0,a.createContext)(void 0),i=e=>{let{children:t}=e,[n,i]=(0,a.useState)(null),[o,c]=(0,a.useState)({}),[u,d]=(0,a.useState)({}),[f,m]=(0,a.useState)(s.u.AllTime),[x,h]=(0,a.useState)([]),[g,v]=(0,a.useState)([]),[p,b]=(0,a.useState)([]),[w,j]=(0,a.useState)(!1),[y,C]=(0,a.useState)(!1),[k,N]=(0,a.useState)(!1);return(0,r.jsx)(l.Provider,{value:{profile:n,setProfile:i,userMemes:o,setUserMemes:c,userBookmarks:u,setUserBookmarks:d,searchInterval:f,setSearchInterval:m,topCharacters:x,setTopCharacters:h,topCharactersWeekly:g,setTopCharactersWeekly:v,recommendedFollows:p,setRecommendedFollows:b,isSignupModalOpen:w,setIsSignupModalOpen:j,isPostingMemes:y,setIsPostingMemes:C,isHovering:k,setIsHovering:N},children:t})},o=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useProfile must be used within ProfileProvider");return e}},4180:function(e,t,n){"use strict";n.d(t,{Df:function(){return a},Po:function(){return s},RL:function(){return l},_6:function(){return o},uZ:function(){return i}});var r=n(9100);let s=e=>{let t=new Date(e/1e6),n=Math.round((new Date().getTime()-t.getTime())/1e3),r=Math.round(n/60),s=Math.round(r/60),a=Math.round(s/24);return n<60?"".concat(n,"s ago"):r<60?"".concat(r,"m ago"):s<24?"".concat(s,"h ago"):"".concat(a," day").concat(1===a?"":"s"," ago")},a=e=>e.replace(/[^a-z0-9]/gi,"_").toLowerCase(),l="image/*,.jpg_large,.png_large,.jpeg_large,.jpg_small,.png_small,.jpeg_small";function i(){let e=(0,r.Z)().replace(/-/g,"_"),t="meme:".concat(e);return console.log("Generated new meme id",t),t}function o(e,t,n){return 1===e?t:n}},67511:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var r=n(91104),s=()=>(0,r.jsxs)("svg",{"aria-hidden":"true",fill:"none",height:"80%",role:"presentation",viewBox:"0 0 24 24",width:"80%",children:[(0,r.jsx)("path",{d:"M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M17.0809 14.1489C14.2909 12.2889 9.74094 12.2889 6.93094 14.1489C5.66094 14.9989 4.96094 16.1489 4.96094 17.3789C4.96094 18.6089 5.66094 19.7489 6.92094 20.5889C8.32094 21.5289 10.1609 21.9989 12.0009 21.9989C13.8409 21.9989 15.6809 21.5289 17.0809 20.5889C18.3409 19.7389 19.0409 18.5989 19.0409 17.3589C19.0309 16.1289 18.3409 14.9889 17.0809 14.1489Z",fill:"currentColor"})]})},5606:function(e,t,n){"use strict";n.d(t,{F:function(){return x}});var r=n(97915),s=n(4292),a=n(69901),l=n(93371),i=n(39276),o=n(88402),c=n(3511),u=n(73687),d=n(63137),f=n(63831),m=n(77785);function x(){var e,t,n,x,h;let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=(0,r.C)(),p=!!v,{as:b,ref:w,src:j,name:y,icon:C,classNames:k,fallback:N,alt:P=y||"avatar",imgRef:_,color:S=null!=(e=null==v?void 0:v.color)?e:"default",radius:D=null!=(t=null==v?void 0:v.radius)?t:"full",size:z=null!=(n=null==v?void 0:v.size)?n:"md",isBordered:E=null!=(x=null==v?void 0:v.isBordered)&&x,isDisabled:B=null!=(h=null==v?void 0:v.isDisabled)&&h,isFocusable:A=!1,getInitials:G=i.e,ignoreFallback:I=!1,showFallback:F=!1,ImgComponent:T="img",imgProps:M,className:J,onError:O,...L}=g,X=b||"span",H=(0,l.gy)(w),R=(0,l.gy)(_),{isFocusVisible:U,isFocused:W,focusProps:Z}=(0,u.Fx)(),{isHovered:V,hoverProps:K}=(0,m.XI)({isDisabled:B}),Y="loaded"===(0,f.d)({src:j,onError:O,ignoreFallback:I}),q=(!j||!Y)&&F,Q=(0,d.useMemo)(()=>{var e;return(0,s.r)({color:S,radius:D,size:z,isBordered:E,isDisabled:B,isInGroup:p,isInGridGroup:null!=(e=null==v?void 0:v.isGrid)&&e})},[S,D,z,E,B,p,null==v?void 0:v.isGrid]),$=(0,o.W)(null==k?void 0:k.base,J),ee=(0,d.useMemo)(()=>A||"button"===b,[A,b]),et=(0,d.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ref:H,tabIndex:ee?0:-1,"data-hover":(0,c.PB)(V),"data-focus":(0,c.PB)(W),"data-focus-visible":(0,c.PB)(U),className:Q.base({class:(0,o.W)($,null==e?void 0:e.className)}),...(0,a.dG)(L,K,ee?Z:{})}},[ee,Q,$,Z,L]),en=(0,d.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ref:R,src:j,"data-loaded":(0,c.PB)(Y),className:Q.img({class:null==k?void 0:k.img}),...(0,a.dG)(M,e)}},[Q,Y,M,j,R]);return{Component:X,ImgComponent:T,src:j,alt:P,icon:C,name:y,imgRef:R,slots:Q,classNames:k,fallback:N,isImgLoaded:Y,showFallback:q,ignoreFallback:I,getInitials:G,getAvatarProps:et,getImageProps:en}}},97915:function(e,t,n){"use strict";n.d(t,{C:function(){return s},k:function(){return r}});var[r,s]=(0,n(36711).k)({name:"AvatarGroupContext",strict:!1})},45268:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r=n(67511),s=n(5606),a=n(63137),l=n(63471),i=n(91104),o=(0,l.Gp)((e,t)=>{let{Component:n,ImgComponent:l,src:o,icon:c=(0,i.jsx)(r.f,{}),alt:u,classNames:d,slots:f,name:m,showFallback:x,fallback:h,getInitials:g,getAvatarProps:v,getImageProps:p}=(0,s.F)({...e,ref:t}),b=(0,a.useMemo)(()=>!x&&o?null:h?(0,i.jsx)("div",{"aria-label":u,className:f.fallback({class:null==d?void 0:d.fallback}),role:"img",children:h}):m?(0,i.jsx)("span",{"aria-label":u,className:f.name({class:null==d?void 0:d.name}),role:"img",children:g(m)}):(0,i.jsx)("span",{"aria-label":u,className:f.icon({class:null==d?void 0:d.icon}),role:"img",children:c}),[x,o,h,m,d]);return(0,i.jsxs)(n,{...v(),children:[o&&(0,i.jsx)(l,{...p(),alt:u}),b]})});o.displayName="NextUI.Avatar";var c=o},4292:function(e,t,n){"use strict";n.d(t,{r:function(){return l},z:function(){return i}});var r=n(57978),s=n(18903),a=n(98293),l=(0,s.tv)({slots:{base:["flex","relative","justify-center","items-center","box-border","overflow-hidden","align-middle","text-white","z-0",...a.Dh],img:["flex","object-cover","w-full","h-full","transition-opacity","!duration-500","opacity-0","data-[loaded=true]:opacity-100"],fallback:[...a.z6,"flex","items-center","justify-center"],name:[...a.z6,"font-normal","text-center","text-inherit"],icon:[...a.z6,"flex","items-center","justify-center","text-inherit","w-full","h-full"]},variants:{size:{sm:{base:"w-8 h-8 text-tiny"},md:{base:"w-10 h-10 text-tiny"},lg:{base:"w-14 h-14 text-small"}},color:{default:{base:r.J.solid.default},primary:{base:r.J.solid.primary},secondary:{base:r.J.solid.secondary},success:{base:r.J.solid.success},warning:{base:r.J.solid.warning},danger:{base:r.J.solid.danger}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isBordered:{true:{base:"ring-2 ring-offset-2 ring-offset-background dark:ring-offset-background-dark"}},isDisabled:{true:{base:"opacity-disabled"}},isInGroup:{true:{base:["-ms-2 data-[hover=true]:-translate-x-3 transition-transform","data-[focus-visible=true]:-translate-x-3"]}},isInGridGroup:{true:{base:"m-0 data-[hover=true]:translate-x-0"}}},defaultVariants:{size:"md",color:"default",radius:"full"},compoundVariants:[{color:"default",isBordered:!0,class:{base:"ring-default"}},{color:"primary",isBordered:!0,class:{base:"ring-primary"}},{color:"secondary",isBordered:!0,class:{base:"ring-secondary"}},{color:"success",isBordered:!0,class:{base:"ring-success"}},{color:"warning",isBordered:!0,class:{base:"ring-warning"}},{color:"danger",isBordered:!0,class:{base:"ring-danger"}}]}),i=(0,s.tv)({base:"flex items-center justify-center h-auto w-max-content",variants:{isGrid:{true:"inline-grid grid-cols-4 gap-3"}}})},63831:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var r=n(63137),s=n(9328);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{loading:t,src:n,srcSet:a,onLoad:l,onError:i,crossOrigin:o,sizes:c,ignoreFallback:u}=e,[d,f]=(0,r.useState)("pending");(0,r.useEffect)(()=>{f(n?"loading":"pending")},[n]);let m=(0,r.useRef)(),x=(0,r.useCallback)(()=>{if(!n)return;h();let e=new Image;e.src=n,o&&(e.crossOrigin=o),a&&(e.srcset=a),c&&(e.sizes=c),t&&(e.loading=t),e.onload=e=>{h(),f("loaded"),null==l||l(e)},e.onerror=e=>{h(),f("failed"),null==i||i(e)},m.current=e},[n,o,a,c,l,i,t]),h=()=>{m.current&&(m.current.onload=null,m.current.onerror=null,m.current=null)};return(0,s.G)(()=>{if(!u)return"loading"===d&&x(),()=>{h()}},[d,x,u]),u?"loaded":d}}},function(e){e.O(0,[3107,6557,2376,7826,9749,5981,27,330,9566,1397,7042,3968,9514,5171,1744],function(){return e(e.s=77571)}),_N_E=e.O()}]);