(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3798],{39576:function(e,t,l){Promise.resolve().then(l.bind(l,44058)),Promise.resolve().then(l.bind(l,32033))},32420:function(e,t,l){"use strict";l.d(t,{y:function(){return c}});var s=l(62284),a=l(23405),n=l(14464),r=l(36991),i=l(42773);let c=e=>{let{title:t,subtitle:l,border:c="border-b border-transparent",isLoading:o=!1,endContent:u,onGoBack:d}=e,{goBack:m}=(0,r.h)();return(0,s.jsxs)("div",{className:(0,a.cn)("flex h-16 mb-3 w-full items-center",c),children:[(0,s.jsx)(n.O,{src:i.Z,alt:"Back",onClick:null!=d?d:m}),o?(0,s.jsx)("h1",{className:"h-6 w-24 animate-pulse rounded bg-white-400/10"}):(0,s.jsxs)("div",{className:"flex flex-col flex-1 truncate",children:[(0,s.jsx)("h1",{className:"flex-1 text-left text-lg font-bold truncate",children:t}),l]}),u]})}},14464:function(e,t,l){"use strict";l.d(t,{O:function(){return r}});var s=l(62284),a=l(23405),n=l(2793);let r=e=>{let{src:t,alt:l,id:r,margin:i="m-2",w:c="w-3.5",onClick:o}=e;return(0,s.jsx)("button",{id:r,className:(0,a.cn)("flex size-9 min-w-9 items-center justify-center rounded-full hover:bg-white-400/10",i),onClick:o,children:(0,s.jsx)(n.default,{priority:!0,src:t,alt:l,className:(0,a.cn)("opacity-85",c)})})}},76971:function(e,t,l){"use strict";l.d(t,{a:function(){return x}});var s=l(62284),a=l(63006),n=l(68880),r=l(2793),i=l(35850),c=l(59297),o=l(15219),u=l(72363),d=l(21317),m=l(25845),h=l(82258);let f=e=>{let{poster:t}=e,{data:l,isLoading:a}=(0,o.Ug)({start:0,limit:99,user_handle:t.handle}),{data:f,isLoading:x}=(0,o.t$)({sort_by:u.a.Hot,start:0,limit:5,user_handle:t.handle}),v=(0,c.useMemo)(()=>{var e;return null!==(e=t.avatar.replace("_normal",""))&&void 0!==e?e:""},[t.avatar]),p=(0,c.useMemo)(()=>"/u/".concat(t.handle),[t.handle]),b=(0,c.useMemo)(()=>{var e;return null!==(e=null==f?void 0:f.total_memes)&&void 0!==e?e:0},[null==f?void 0:f.total_memes]),g=(0,c.useMemo)(()=>{var e;return null!==(e=null==l?void 0:l.length)&&void 0!==e?e:0},[l]);return(0,s.jsxs)("div",{className:"flex flex-col gap-4 p-3 py-5 w-64 min-h-[215px]",onClick:e=>{e.stopPropagation(),e.preventDefault()},children:[(0,s.jsxs)("section",{className:"w-full flex gap-3 items-center",children:[(0,s.jsx)(i.default,{href:p,children:(0,s.jsx)(r.default,{className:"size-12 min-w-12 object-contain rounded-full bg-white-400/10",src:v,alt:"@".concat(t.handle),width:48,height:48,quality:100})}),(0,s.jsxs)("div",{className:"flex flex-col truncate",children:[(0,s.jsx)(i.default,{href:p,children:(0,s.jsx)("h4",{className:"text-lg font-bold leading-6 hover:underline truncate",children:t.name})}),(0,s.jsxs)("p",{className:"text-sm text-white-400/50 leading-4 truncate",children:["@",t.handle]})]})]}),x||a?(0,s.jsx)(n.c,{size:"sm"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("section",{className:"flex gap-3",children:[(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("span",{className:"font-bold",children:(0,d.CZ)(b)}),(0,s.jsx)("span",{className:"text-white-400/50",children:(0,m._6)(b,"post","posts")})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("span",{className:"font-bold",children:99===g?"99+":g}),(0,s.jsx)("span",{className:"text-white-400/50",children:(0,m._6)(g,"deck","decks")})]})]}),(0,s.jsx)("section",{className:"w-full max-w-full flex gap-1",children:Number(null==f?void 0:f.memes.length)>0?null==f?void 0:f.memes.filter(e=>e.meme||e.image).slice(0,3).map(e=>{var t;let l=null!==(t=e.meme)&&void 0!==t?t:e.image;return l?(0,s.jsx)(i.default,{href:(0,h.GY)(e.id),className:"flex-1",children:(0,s.jsx)(r.default,{className:"size-full rounded-md bg-white-400/10",src:l.url_watermarked||l.url||"",alt:l.created_at,width:64,height:64})},l.id):null}):(0,s.jsx)("div",{className:"text-white-400/50",children:"No posts yet"})})]})]})},x=e=>{let{poster:t,children:l}=e;return(0,s.jsx)(a.e,{delay:500,closeDelay:250,shadow:"lg",className:"xs:hidden",content:(0,s.jsx)(f,{poster:t},t.id),children:l})}},32033:function(e,t,l){"use strict";l.d(t,{ProfileBaseLayout:function(){return O}});var s,a,n=l(62284),r=l(46231),i=l(88938),c=l(53181),o=l(65104),u=l(44941),d=l(63006),m=l(23405),h=l(2793),f=l(59297),x=l(32420),v=l(57591),p=l(66224),b=l(7602),g=l(35850),j=l(28403);(s=a||(a={})).Posts="Posts",s.Decks="Decks";let w=(e,t)=>{let l=t.toLowerCase();switch(e){case"Posts":return"/u/".concat(l);case"Decks":return"/u/".concat(l,"/decks");default:return""}};var N=l(53498),y=l(57837),k=l(15219),C=l(21317);let _=e=>{let{handle:t}=e,l=(0,j.usePathname)(),{searchSortBy:s,setSearchSortBy:r}=(0,y.K)(),{data:i,isLoading:c}=(0,k.Ug)({start:0,limit:99,user_handle:t}),{data:o,isLoading:u}=(0,k.t$)({start:0,limit:50,sort_by:s,user_handle:t,exclude_active_contest:!0}),d=(0,f.useMemo)(()=>{var e;return null!==(e=null==o?void 0:o.total_memes)&&void 0!==e?e:0},[null==o?void 0:o.total_memes]),m=(0,f.useMemo)(()=>{var e;return null!==(e=null==i?void 0:i.length)&&void 0!==e?e:0},[i]),h=(0,f.useMemo)(()=>l.toLowerCase(),[l]);return(0,n.jsxs)("div",{className:"relative flex min-w-full max-w-full items-center justify-between gap-3 overflow-x-auto border-b-1 border-white-400/15 px-1.5",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)(v.n,{color:"primary",variant:"underlined","aria-label":"Profile tabs",radius:"full",selectedKey:h,classNames:{base:"w-full xs:mt-2 mt-1",tabList:"gap-4 w-full relative rounded-none p-0 border-b border-divider px-3 md:justify-start border-none",cursor:"w-full bg-blue-500",tab:"max-w-fit px-0 !h-12 select-none outline-none",tabContent:"group-data-[selected=true]:text-blue-500 px-1 text-white-400/75 font-semibold tracking-wide mb-1 !text-base !font-semibold"},children:Object.values(a).map(e=>{let l=w(e,t),s=e===a.Decks?m:d;return(0,n.jsx)(p.r,{href:l,className:"!focus-visible:outline-none",title:(0,n.jsxs)("h2",{className:"flex gap-2",children:[(0,n.jsx)("span",{children:e}),!u&&!c&&(0,n.jsx)(b.z,{size:"sm",className:"font-medium",children:(0,C.CZ)(s)})]}),as:g.default},l)})})}),h===w(a.Posts,t)&&(0,n.jsx)("div",{children:(0,n.jsx)(N.a,{size:"sm",sortBy:s,onSelect:r})})]})},P=e=>{let{handle:t=""}=e;return(0,n.jsxs)("div",{className:"flex flex-col gap-12",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 px-3",children:[(0,n.jsx)("div",{className:"size-24 rounded-full bg-black-300"}),(0,n.jsx)("div",{className:"mb-2 flex flex-col gap-2",children:(0,n.jsxs)("h3",{className:"text-lg font-medium leading-4 text-white-400/70",children:["@",t]})})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-3 px-3",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold leading-6",children:"This account doesnâ€™t exist"}),(0,n.jsx)("p",{className:"text-lg font-medium leading-4 text-white-400/70",children:"Try searching for another."})]})]})};var S=l(76967),z=l(94548),M=l(77606),D=l(96245),L=l(36991),E=l(16040);let O=e=>{let{params:t,children:l}=e,{handle:s}=(0,z.d)({params:t,key:"handle"}),a=(0,D.TL)(),[v]=(0,k._y)(),[p]=(0,k.CZ)(),[b]=(0,k.iq)(),{data:g}=(0,k.iS)(),j=(0,D.CG)(M.lf),{goBack:w}=(0,L.h)(),{isCreating:N,onClickNewDeck:y}=(0,E.W)(),[C,O]=(0,f.useState)(!0),[U,B]=(0,f.useState)(),A=(0,f.useMemo)(()=>(null==g?void 0:g.handle)===s,[s,g]),F=(0,f.useMemo)(()=>{var e;return null!==(e=null==U?void 0:U.avatar.replace("_normal",""))&&void 0!==e?e:""},[null==U?void 0:U.avatar]),I=(0,f.useCallback)(()=>{v().then(()=>{window.location.reload()})},[v]);return((0,f.useEffect)(()=>{g&&A?(B(g),O(!1)):b(s).then(e=>{e.data?B(e.data):B(null)}).catch(()=>B(null)).finally(()=>O(!1))},[b,s,A,g]),C)?(0,n.jsxs)("div",{className:"flex size-full flex-col gap-3",children:[(0,n.jsx)(x.y,{title:"",isLoading:!0}),(0,n.jsxs)("div",{className:"mb-2 flex items-center gap-3 px-3",children:[(0,n.jsx)("div",{className:"size-24 animate-pulse rounded-full bg-white-400/10"}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("div",{className:"h-6 w-48 animate-pulse rounded bg-white-400/10"}),(0,n.jsx)("div",{className:"h-4 w-32 animate-pulse rounded bg-white-400/10"})]})]})]}):U?(0,n.jsxs)("div",{className:"flex size-full flex-col gap-3",children:[(0,n.jsx)(x.y,{title:"Profile",onGoBack:()=>w("/home","/u/".concat(U.handle)),endContent:A?(0,n.jsxs)("div",{className:"flex md:hidden mr-3 gap-2",children:[(0,n.jsx)(i.A,{isIconOnly:!0,variant:"bordered",onClick:I,children:(0,n.jsx)(r.JO,{icon:"iconamoon:exit",width:16})}),(0,n.jsx)(i.A,{variant:"bordered",isLoading:N,onClick:y,children:"New Deck"})]}):void 0}),(0,n.jsx)(c.z,{name:(0,n.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,n.jsx)("h2",{className:"text-2xl font-black truncate",children:U.name}),U.badge_image_url&&(0,n.jsx)(d.e,{content:"Kinode user",children:(0,n.jsx)(h.default,{src:U.badge_image_url,alt:"badge",className:"rounded-md",width:24,height:24})})]}),classNames:{base:(0,m.cn)("flex-col gap-3 mb-2 px-3 justify-start","sm:flex-row sm:gap-4"),wrapper:(0,m.cn)("flex items-center gap-0 items-center max-w-full","sm:items-start sm:gap-0.5"),name:"text-2xl font-bold max-w-full"},description:(0,n.jsxs)(o.O,{href:"https://x.com/".concat(U.handle),size:"sm",className:"flex items-center text-base font-normal text-white-400/50",isExternal:!0,children:["@".concat(U.handle),(0,n.jsx)(u.x,{})]}),avatarProps:{className:"!size-20 sm:!size-24 overflow-hidden rounded-full",src:F,alt:U.handle,onError:async()=>{let e=await p(U.handle);e.data&&B(t=>({...t,...e.data}))}}}),(0,n.jsx)(_,{handle:s}),l,j&&(0,n.jsx)(S.c,{isOpen:j,onClose:()=>a((0,M.Rs)())})]}):(0,n.jsxs)("div",{className:"flex size-full flex-col gap-3",children:[(0,n.jsx)(x.y,{title:""}),(0,n.jsx)(P,{handle:s})]})}},53498:function(e,t,l){"use strict";l.d(t,{a:function(){return u}});var s=l(62284),a=l(46231),n=l(86127),r=l(15837),i=l(72363);let c={[i.a.Hot]:"ph:fire",[i.a.Recent]:"ph:clock",[i.a.Contest]:"ph:star",[i.a.Top]:"ph:trophy"},o=e=>{let{icon:t,label:l}=e;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[t&&(0,s.jsx)(a.JO,{icon:t,className:"min-w-5 size-5"}),l&&l.charAt(0).toUpperCase()+l.slice(1)]})},u=e=>{let{size:t="md",sortBy:l,onSelect:a}=e;return(0,s.jsx)(n.g,{"aria-label":"Sort by",placeholder:"Sort by",size:t,radius:"full",variant:"bordered",color:"primary",classNames:{trigger:"w-20 sm:w-[138px] px-3"},value:l,selectedKeys:[l],defaultSelectedKeys:[i.a.Hot],renderValue:()=>(0,s.jsx)(o,{"aria-label":l,label:l,icon:c[l]}),onChange:e=>{a(e.target.value)},children:Object.values(i.a).filter(e=>e!==i.a.Top).map(e=>(0,s.jsx)(r.R,{"aria-label":e,value:e,textValue:e,children:(0,s.jsx)(o,{label:e,icon:c[e]})},e))})}},35976:function(e,t,l){"use strict";l.d(t,{y:function(){return a}});var s=l(59297);let a=e=>{let{locked:t=!0}=e;(0,s.useEffect)(()=>{if(t){if(window.innerWidth>1024){let e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>document.body.style.overflow=e}{let e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>document.body.style.overflow=e}}},[t])}},57837:function(e,t,l){"use strict";l.d(t,{K:function(){return c}});var s=l(28403),a=l(92449),n=l(59297),r=l(75635),i=l(72363);let c=()=>{var e,t,l;let c=(0,a.useRouter)(),o=(0,s.usePathname)(),u=(0,s.useSearchParams)(),{search:d,searchDebounced:m,onSearch:h}=(0,r.U)(null!==(e=u.get("query"))&&void 0!==e?e:""),[f,x]=(0,n.useState)(null!==(t=u.get("interval"))&&void 0!==t?t:i.u.Week),[v,p]=(0,n.useState)(null!==(l=u.get("sort_by"))&&void 0!==l?l:i.a.Hot),b=(0,n.useCallback)((e,t)=>{let l=new URLSearchParams(u.toString());l.set(t,e),c.push(o+"?"+l.toString(),{scroll:!1})},[o,c,u]);return{searchQuery:d,searchQueryDebounced:m,searchInterval:f,searchSortBy:v,setSearchQuery:(0,n.useCallback)(e=>{h(e),b(e,"query")},[h,b]),setSearchInterval:(0,n.useCallback)(e=>{x(e),b(e,"interval")},[b]),setSearchSortBy:(0,n.useCallback)(e=>{p(e),b(e,"sort_by")},[b])}}},75635:function(e,t,l){"use strict";l.d(t,{U:function(){return n}});var s=l(59297),a=l(81255);function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[t,l]=(0,s.useState)(e),[n,r]=(0,s.useState)(e),i=(0,s.useMemo)(()=>(0,a.D)(r,500),[]);return{search:t,searchDebounced:n,onSearch:(0,s.useCallback)(e=>{l(e),i(e)},[i])}}},94548:function(e,t,l){"use strict";l.d(t,{d:function(){return r}});var s=l(28403),a=l(59297),n=l(72488);let r=e=>{let{key:t,index:l,params:r}=e,i=(0,s.usePathname)(),c=(0,a.useMemo)(()=>{if("postId"===t&&!(0,n.N)(i))return r[t]||"";if("imageId"!==t){var e;let s=null!==(e=i&&i.split("/")[l||2])&&void 0!==e?e:"";return r[t]||s}},[l,t,r,i]);return{[t]:c?decodeURIComponent(c):""}}},36991:function(e,t,l){"use strict";l.d(t,{AppHistoryProvider:function(){return o},h:function(){return u}});var s=l(62284),a=l(28403),n=l(92449),r=l(66975),i=l(59297);let c=(0,i.createContext)({}),o=e=>{let{children:t}=e,l=(0,a.usePathname)(),o=(0,n.useRouter)(),[u,d]=(0,i.useState)([]),m=(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/home",t=arguments.length>1?arguments[1]:void 0,l=e;u.length>1&&(l=u[u.length-2],void 0!==t&&l.includes(t)&&(l=e)),"string"!=typeof l&&(l="/home"),o.push(l,{scroll:!1})},[u,o]);return(0,i.useEffect)(()=>{d(e=>e[e.length-1]!==l?[...e,l]:e)},[l]),(0,s.jsxs)(c.Provider,{value:{goBack:m},children:[t,(0,s.jsx)(r.wT,{dense:!0,maxSnack:3})]})},u=()=>{let e=(0,i.useContext)(c);if(void 0===e)throw Error("useFeed must be used within AppHistoryProvider");return e}},99378:function(e,t,l){"use strict";async function s(e){let{ctx:t,image:l,targetWidth:s,targetHeight:a,imageWidth:n,imageHeight:r,anchorX:i=0,anchorY:c=0}=e;return new Promise(e=>{let o=Math.max(s/n,a/r),u=n*o,d=r*o;t.save(),t.beginPath(),t.rect(i,c,s,a),t.clip(),t.drawImage(l,i+(s-u)/2,c+(a-d)/2,u,d),t.restore(),e()})}l.d(t,{h:function(){return s}})},21317:function(e,t,l){"use strict";function s(){return Math.floor(1e12*Math.random())}function a(e){let t=atob(e),l=t.length,s=new Uint8Array(new ArrayBuffer(l));for(let e=0;e<l;e++)s[e]=t.charCodeAt(e);return Array.from(s)}function n(e){return e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:9})}function r(e){let t=parseFloat(e.replace(/,/g,""));return isNaN(t)?0:t}function i(e){return e<1e3?e:e<1e6?"".concat((e/1e3).toFixed(1),"k"):"".concat((e/1e6).toFixed(1),"m")}l.d(t,{CG:function(){return r},CZ:function(){return i},RG:function(){return a},_s:function(){return n},qb:function(){return s}})},42773:function(e,t){"use strict";t.Z={src:"/memedeck:memedeck:meme-deck.os/_next/static/media/arrow.left.37648ed6.svg",height:46,width:57,blurWidth:0,blurHeight:0}},35743:function(e,t,l){"use strict";l.d(t,{a:function(){return h}});var s=l(59297),a=l(52119),n=l(63179),r=l(33659),i=(0,n.tv)({slots:{base:["inline-flex items-center justify-center gap-2 rounded-small outline-none",...r.Dh],wrapper:"inline-flex flex-col items-start",name:"text-small text-inherit",description:"text-tiny text-foreground-400"}}),c=l(6213),o=l(98720),u=l(2680),d=l(88377),m=l(98223);function h(e){let{as:t,ref:l,name:n,description:r,className:h,classNames:f,isFocusable:x=!1,avatarProps:v={},...p}=e,b={isFocusable:!1,...v},g=t||"div",j="string"==typeof g,w=(0,d.gy)(l),{isFocusVisible:N,isFocused:y,focusProps:k}=(0,a.F)({}),C=(0,s.useMemo)(()=>x||"button"===t,[x,t]),_=(0,s.useMemo)(()=>i(),[]),P=(0,c.W)(null==f?void 0:f.base,h),S=(0,s.useCallback)(()=>({ref:w,tabIndex:C?0:-1,"data-focus-visible":(0,o.PB)(N),"data-focus":(0,o.PB)(y),className:_.base({class:P}),...(0,m.d)((0,u.z)(p,{enabled:j}),C?k:{})}),[C,_,P,k,p]);return{Component:g,className:h,slots:_,name:n,description:r,classNames:f,baseStyles:P,avatarProps:b,getUserProps:S}}},53181:function(e,t,l){"use strict";l.d(t,{z:function(){return c}});var s=l(35743),a=l(9710),n=l(8836),r=l(62284),i=(0,a.Gp)((e,t)=>{let{Component:l,name:a,slots:i,classNames:c,description:o,avatarProps:u,getUserProps:d}=(0,s.a)({...e,ref:t});return(0,r.jsxs)(l,{...d(),children:[(0,r.jsx)(n.h,{...u}),(0,r.jsxs)("div",{className:i.wrapper({class:null==c?void 0:c.wrapper}),children:[(0,r.jsx)("span",{className:i.name({class:null==c?void 0:c.name}),children:a}),(0,r.jsx)("span",{className:i.description({class:null==c?void 0:c.description}),children:o})]})]})});i.displayName="NextUI.User";var c=i},92271:function(e,t,l){"use strict";l.d(t,{Cj:function(){return i},H2:function(){return n},vT:function(){return r}});var s=l(59297),a=(0,s.createContext)(void 0),n=({children:e,stepCount:t,isNextDisabled:l=()=>!1,isBackDisabled:n=()=>!1,onBack:r,onNext:i})=>{let[c,o]=(0,s.useState)(0),u=(0,s.useCallback)(()=>{!l(c)&&(null==i||i(c),c<t-1&&o(c+1))},[l,c,t,i]),d=(0,s.useCallback)(()=>{!n(c)&&(null==r||r(c),c>0&&o(c-1))},[n,c,t,r]),m=(0,s.useCallback)(()=>{o(0)},[]);return s.createElement(a.Provider,{value:{index:c,stepCount:t,isNextDisabled:l(c),isBackDisabled:n(c),goForward:u,goBack:d,cancelFlow:m}},e)},r=()=>{let e=(0,s.useContext)(a);if(!e)throw Error("usePromenade must be used within a PromenadeProvider");return e},i=({index:e,children:t})=>{let{index:l}=r();return e!==l?null:s.createElement("div",null,t)}}},function(e){e.O(0,[2446,8938,9303,1271,4607,3453,322,1866,6127,3316,6157,6018,6844,4026,5219,621,4058,6040,4868,2046,1744],function(){return e(e.s=39576)}),_N_E=e.O()}]);