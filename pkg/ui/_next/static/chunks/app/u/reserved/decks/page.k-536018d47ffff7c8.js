(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3804],{15097:function(e,t,n){Promise.resolve().then(n.bind(n,12247))},12247:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(62284),s=n(86478),i=n(12890),a=n(94548),l=n(15219);function o(e){let{params:t}=e,{handle:n}=(0,a.d)({params:t,key:"handle"}),{data:o,isLoading:c}=(0,l.Ug)({start:0,limit:50,user_handle:n});return(0,r.jsx)(i.o,{items:null!=o?o:[],noResultsMessage:"No decks",hasFetched:!!o,hasSearched:!1,isFetching:c,isLoading:c,renderItem:e=>{var t;return(0,r.jsx)(s.B,{deckId:e.id,thumbnail:e.cover_photo,name:e.title,rank:e.rank,totalPosts:null!==(t=e.total_posted)&&void 0!==t?t:0,w:"min-w-full w-full",isAdmin:e.is_admin,relevantContest:null},e.id)}})}},12890:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(62284),s=n(68880),i=n(44593),a=n(91151);let l={default:3,1100:3,700:2,500:1},o=e=>{let{items:t,isLoading:n,isFetching:o,hasFetched:c,hasSearched:u,noResultsMessage:d="No memes",className:m="relative overflow-hidden pl-3 pt-3",breakpoints:h=l,renderItem:f}=e;return(0,r.jsxs)("div",{className:m,children:[!o&&0===t.length&&(c||u)?(0,r.jsx)("div",{className:"text-sm text-white-400/50",children:d}):null,n?(0,r.jsx)("div",{className:"flex w-full justify-center p-3",children:(0,r.jsx)(s.c,{})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{breakpointCols:h,className:"my-masonry-grid min-w-full max-w-full",columnClassName:"my-masonry-grid_column",children:t.map(f)}),o&&t.length>=a.I&&(0,r.jsx)("div",{className:"flex w-full justify-center p-3",children:(0,r.jsx)(s.c,{})})]})]})}},55578:function(e,t,n){"use strict";n.d(t,{B:function(){return i}});var r=n(62284),s=n(23405);let i=e=>{let{bg:t="bg-black-400",trailColor:n="#8B5CF6",trailWidth:i=500,staticBorderColor:a,rounded:l="rounded-2xl",hideTrail:o=!1,children:c,onClick:u}=e;return(0,r.jsxs)(r.Fragment,{children:[o?null:(0,r.jsx)("div",{className:(0,s.cn)("size-full box-border","absolute inset-0","border-2 border-transparent",l),children:(0,r.jsx)("div",{className:"trail",style:{width:i,"--trail-color":n}})}),(0,r.jsx)("div",{className:(0,s.cn)("size-full min-h-full box-border z-10","overflow-hidden","border-2 border-transparent",l,null!=a?a:""),onClick:u,children:(0,r.jsx)("div",{className:(0,s.cn)("size-full flex flex-col gap-1",t,l),children:c})})]})}},91475:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(62284),s=n(46231),i=n(23405),a=n(59297),l=n(12010);let o=e=>{let{contest:t,textSize:n="text-[12px] leading-4",textColor:o="text-white-400/75",iconSize:c="size-4 min-w-4",iconColor:u="text-white-400/75",hideIcon:d=!1}=e,{timeLeft:m}=(0,l.h)({contest:t}),h=(0,a.useMemo)(()=>{let{days:e,hours:n,minutes:r,seconds:s}=m,i=[e?"".concat(e,"d"):"",e||n?"".concat(n,"h"):"",e||n||r?"".concat(r,"m"):"","".concat(s,"s")].filter(Boolean).join(" ");switch(t.status){case"active":default:return i;case"ended":return new Date(t.end_time).toLocaleDateString("en-US",{month:"short",day:"numeric"})}},[t.end_time,t.status,m]),f=(0,a.useMemo)(()=>{switch(t.status){case"active":return"Ends in ";case"ended":return"Ended ";default:return"Starts in "}},[t.status]),p=(0,a.useMemo)(()=>{switch(t.status){case"active":return"ph:clock-countdown";case"upcoming":return"ph:clock";default:return"akar-icons:calendar"}},[t.status]);return(0,r.jsxs)("div",{className:"flex gap-1 items-center truncate",children:[!d&&(0,r.jsx)(s.JO,{icon:p,className:(0,i.cn)(c,u)}),(0,r.jsxs)("p",{className:(0,i.cn)("truncate text-left",n,o),children:[(0,r.jsx)("span",{children:f}),(0,r.jsx)("span",{className:"truncate",children:h})]})]})}},69734:function(e,t,n){"use strict";n.d(t,{E:function(){return a}});var r=n(62284),s=n(46231),i=n(23405);let a=e=>{let{prize:t,textSize:n="text-[12px] leading-4",textColor:a="text-white-400/75",iconSize:l="size-4 min-w-4",iconColor:o="text-white-400/75",hideIcon:c=!1}=e;return(0,r.jsxs)("div",{className:"flex gap-1 items-center",children:[!c&&(0,r.jsx)(s.JO,{icon:"healthicons:money-bag",className:(0,i.cn)(l,o)}),(0,r.jsxs)("p",{className:(0,i.cn)("text-left",n,a),children:[t.token_amount," ",t.ticker]})]})}},91098:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(62284),s=n(46231),i=n(23405),a=n(21317),l=n(25845);let o=e=>{var t;let{contest:n,textSize:o="text-[12px] leading-4",textColor:c="text-white-400/75",iconSize:u="size-4 min-w-4",iconColor:d="text-white-400/75",hideIcon:m=!1}=e,h="draft"===n.status,f="upcoming"===n.status;return h||f?null:(0,r.jsxs)("div",{className:"flex items-center gap-1 truncate",children:[!m&&(0,r.jsx)(s.JO,{icon:"basil:send-solid",className:(0,i.cn)(u,d)}),(0,r.jsxs)("div",{className:(0,i.cn)("flex gap-1 text-left truncate",o,c),children:[(0,r.jsx)("span",{children:(0,a.CZ)(null!==(t=n.entry_count)&&void 0!==t?t:0)}),(0,r.jsx)("span",{className:"truncate",children:(0,l._6)(n.entry_count,"submission","submissions")})]})]})}},86478:function(e,t,n){"use strict";n.d(t,{B:function(){return b}});var r=n(62284),s=n(23405),i=n(2793),a=n(35850),l=n(59297),o=n(91475),c=n(69734),u=n(91098),d=n(93684),m=n(55578),h=n(72363),f=n(21317),p=n(25845),x=n(82258);let b=e=>{let{deckId:t,thumbnail:n,name:b,rank:g,totalPosts:w,isAdmin:v,relevantContest:j,w:C="min-w-36 w-36 md:min-w-52 md:w-52"}=e,y=(0,l.useMemo)(()=>j&&"active"===j.status,[j]),N=(0,l.useMemo)(()=>y?(0,x.o4)(t,{sort_by:h.a.Contest}):(0,x.o4)(t,{sort_by:h.a.Hot}),[y,t]);return(0,r.jsx)(a.default,{href:N,className:"scale-img-on-hover select-none",children:(0,r.jsx)("div",{className:(0,s.cn)(C,"relative cursor-pointer overflow-hidden flex flex-col justify-center","rounded-lg shadow-lg hover:shadow-2xl",y?"bg-violet-900 hover:bg-violet-800":"bg-black-400 hover:bg-black-300"),children:(0,r.jsxs)(m.B,{rounded:"rounded-lg",bg:y?"bg-violet-900":"bg-black-400",staticBorderColor:"bg-white-400/10",hideTrail:!y,children:[(0,r.jsxs)("div",{className:"relative size-full aspect-square overflow-hidden bg-white-400/10",children:[n&&(0,r.jsx)(i.default,{src:n,alt:b,width:256,height:256,className:"size-full object-cover object-center"}),j&&(0,r.jsx)("div",{className:(0,s.cn)("absolute top-0 inset-x-0 px-1 md:px-1.5 pt-1 pb-1.5",y?"bg-violet-900/75":"bg-black-400/75"),children:(0,r.jsx)(o.N,{contest:j})})]}),(0,r.jsxs)("footer",{className:"flex flex-col gap-1 pl-1.5 md:pl-3 pr-1 pt-2 pb-3 md:pb-3.5",children:[(0,r.jsxs)("div",{className:"flex gap-3 items-center justify-between truncate",children:[(0,r.jsxs)("h3",{className:"flex gap-2 text-sm md:text-base tracking-wide w-full truncate",children:[(0,r.jsx)("span",{className:"text-white-400 font-extrabold truncate",children:b}),g&&(0,r.jsxs)("span",{className:"text-white-400/70 font-semibold",children:["#",g]})]}),v&&(0,r.jsx)(d.g,{deckId:t,onDelete:()=>{window.location.reload()}})]}),(0,r.jsx)("span",{className:"flex gap-2 items-center truncate h-5",children:j&&y?(0,r.jsxs)(r.Fragment,{children:[j.prize&&(0,r.jsx)(c.E,{prize:j.prize}),(0,r.jsx)(u.I,{contest:j})]}):(0,r.jsx)("span",{className:"text-white-400/75 text-sm",children:"".concat((0,f.CZ)(w)," ").concat((0,p._6)(w,"meme","memes"))})})]})]})})})}},93684:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},g:function(){return g}});var r,s,i=n(62284),a=n(46231),l=n(81374),o=n(98314),c=n(68880),u=n(88938),d=n(33548),m=n(12967),h=n(5522),f=n(92449),p=n(66975),x=n(59297),b=n(15219);(r=s||(s={})).Edit="edit",r.Delete="delete";let g=e=>{let{deckId:t,size:n="sm",variant:r="light",itemsToRender:s=["edit","delete"],isLoading:g,isDisabled:w,onEdit:v,onDelete:j}=e,C=(0,f.useRouter)(),[y]=(0,b.ez)(),[N,k]=(0,x.useState)(!1),O=(0,x.useCallback)(()=>{C.push("/deck-edit/".concat(t.replace("deck:",""))),null==v||v()},[C,t,v]),_=(0,x.useCallback)(async e=>{e.stopPropagation(),e.preventDefault();try{k(!0),y(t),null==j||j(),C.push("/home")}catch(e){(0,p.yv)("Failed to delete deck",{variant:"error"})}finally{k(!1)}},[t,y,j,C]);return(0,i.jsxs)(l.F,{"aria-label":"Edit Deck",classNames:{content:"min-w-0 w-auto"},children:[(0,i.jsx)(o.S,{children:N||g?(0,i.jsx)("div",{className:"flex items-center justify-center size-8",children:(0,i.jsx)(c.c,{size:"sm"})}):(0,i.jsx)(u.A,{isIconOnly:!0,size:n,variant:r,isDisabled:w,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,i.jsx)(a.JO,{className:"size-5",icon:"tabler:dots"})})}),(0,i.jsx)(d.a,{children:(0,i.jsxs)(m.d,{title:"Deck Actions",children:[(0,i.jsx)(h.W,{"aria-label":"Edit",textValue:"Edit",color:"default",startContent:(0,i.jsx)(a.JO,{className:"size-5",icon:"mdi:edit"}),onClick:O,children:"Edit"}),(0,i.jsx)(h.W,{"aria-label":"Delete",textValue:"Delete",color:"danger",startContent:(0,i.jsx)(a.JO,{className:"size-5",icon:"tabler:trash"}),onClick:_,children:"Delete"})]})})]})}},12010:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(59297);function s(e){let{contest:t,refreshPageWhenFinished:n=!1}=e,s=(0,r.useMemo)(()=>new Date("active"===t.status?t.end_time:t.start_time),[t.end_time,t.start_time,t.status]),i=(0,r.useCallback)(()=>{let e=+new Date(s)-+new Date,t={days:0,hours:0,minutes:0,seconds:0};return e>0&&(t={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),t},[s]),[a,l]=(0,r.useState)(i());return(0,r.useEffect)(()=>{let e=setTimeout(()=>{let e=i();l(e),Object.values(e).every(e=>0===e)&&n&&window.location.reload()},1e3);return()=>clearTimeout(e)}),{timeLeft:a}}},91151:function(e,t,n){"use strict";n.d(t,{I:function(){return i},w:function(){return a}});var r=n(59297),s=n(15219);let i=50,a=e=>{var t;let{search:n,...a}=e,[l,o]=(0,r.useState)(1),c=(0,s.t$)({...a,search:n,start:i*(l-1),limit:i}),u=(0,r.useCallback)(e=>{var t,n;return(null!==(n=null===(t=c.data)||void 0===t?void 0:t.memes)&&void 0!==n?n:[]).length<e*i},[null===(t=c.data)||void 0===t?void 0:t.memes]),d=(0,r.useCallback)(()=>{c.isFetching||c.isLoading||c.isError||o(e=>!c.data||0===c.data.memes.length||u(e)?e:e+1)},[u,c.data,c.isError,c.isFetching,c.isLoading]),m=(0,r.useCallback)(async()=>{let e=window.innerHeight;document.body.offsetHeight-window.scrollY<3*e&&d()},[d]);return(0,r.useEffect)(()=>(window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}),[m]),c}},72488:function(e,t,n){"use strict";n.d(t,{N:function(){return o},e:function(){return c}});var r=n(28403),s=n(92449),i=n(25845),a=n(82258);let l=["/home","/trending"],o=e=>l.some(t=>e.startsWith(t)),c=()=>{let e=(0,s.useRouter)(),t=(0,r.usePathname)(),n=(0,r.useSearchParams)(),c=e=>{let r=!!e.postId,s=r?e.postId:e.imageId;if(!s)return t;let o=encodeURIComponent((0,i.eC)(s));if(l.includes(t)){let e=new URLSearchParams(n.toString()),r="".concat(t,"/").concat(o);return(0,a.wS)(r,e)}{let e=new URLSearchParams(n.toString());return r?(e.set("postId",o),e.delete("imageId")):(e.set("imageId",o),e.delete("postId")),(0,a.wS)(t,e)}},u=()=>{let e=t;o(t)&&(e=t.split("/").slice(0,-1).join("/"));let r=new URLSearchParams(n.toString());return r.delete("postId"),r.delete("imageId"),(0,a.wS)(e,r)};return{getOpenHref:c,openLightBox:t=>{if(!t.postId&&!t.imageId)return;let n=c(t);e.push(n,{scroll:!1})},closeLightBox:()=>{let t=u();e.push(t,{scroll:!1})}}}},94548:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var r=n(28403),s=n(59297),i=n(72488);let a=e=>{let{key:t,index:n,params:a}=e,l=(0,r.usePathname)(),o=(0,s.useMemo)(()=>{if("postId"===t&&!(0,i.N)(l))return a[t]||"";if("imageId"!==t){var e;let r=null!==(e=l&&l.split("/")[n||2])&&void 0!==e?e:"";return a[t]||r}},[n,t,a,l]);return{[t]:o?decodeURIComponent(o):""}}},44593:function(e,t,n){"use strict";var r=n(59297);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class l extends r.Component{constructor(e){let t;super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this),t=this.props.breakpointCols&&this.props.breakpointCols.default?this.props.breakpointCols.default:parseInt(this.props.breakpointCols)||2,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){let e=window&&window.innerWidth||1/0,t=this.props.breakpointCols;"object"!=typeof t&&(t={default:parseInt(t)||2});let n=1/0,r=t.default||2;for(let s in t){let i=parseInt(s);i>0&&e<=i&&i<n&&(n=i,r=t[s])}r=Math.max(1,parseInt(r)||1),this.state.columnCount!==r&&this.setState({columnCount:r})}itemsInColumns(){let e=this.state.columnCount,t=Array(e),n=r.Children.toArray(this.props.children);for(let r=0;r<n.length;r++){let s=r%e;t[s]||(t[s]=[]),t[s].push(n[r])}return t}renderColumns(){let{column:e,columnAttrs:t={},columnClassName:n}=this.props,i=this.itemsInColumns(),l=`${100/i.length}%`,o=n;o&&"string"!=typeof o&&(this.logDeprecated('The property "columnClassName" requires a string'),void 0===o&&(o="my-masonry-grid_column"));let c=a(a(a({},e),t),{},{style:a(a({},t.style),{},{width:l}),className:o});return i.map((e,t)=>r.createElement("div",s({},c,{key:t}),e))}logDeprecated(e){console.error("[Masonry]",e)}render(){let e=this.props,{children:t,breakpointCols:n,columnClassName:i,columnAttrs:a,column:l,className:o}=e,c=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]),u=o;return"string"!=typeof o&&(this.logDeprecated('The property "className" requires a string'),void 0===o&&(u="my-masonry-grid")),r.createElement("div",s({},c,{className:u}),this.renderColumns())}}l.defaultProps={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},t.Z=l},21317:function(e,t,n){"use strict";function r(){return Math.floor(1e12*Math.random())}function s(e){let t=atob(e),n=t.length,r=new Uint8Array(new ArrayBuffer(n));for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return Array.from(r)}function i(e){return e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:9})}function a(e){let t=parseFloat(e.replace(/,/g,""));return isNaN(t)?0:t}function l(e){return e<1e3?e:e<1e6?"".concat((e/1e3).toFixed(1),"k"):"".concat((e/1e6).toFixed(1),"m")}n.d(t,{CG:function(){return a},CZ:function(){return l},RG:function(){return s},_s:function(){return i},qb:function(){return r}})},82258:function(e,t,n){"use strict";n.d(t,{CU:function(){return l},GY:function(){return a},LA:function(){return c},eT:function(){return o},o4:function(){return i},wS:function(){return s}});var r=n(71987);function s(e,t){return t.toString().length?"".concat(e,"?").concat(t.toString()):e}function i(e,t){let n=new URLSearchParams;(null==t?void 0:t.sort_by)&&n.set("sort_by",t.sort_by);let r=n.toString()?"?".concat(n.toString()):"";return"/deck/".concat(e.replace("deck:","")).concat(r)}function a(e){return"/home/".concat(e.replace("post:",""))}function l(e){let t=e.deck_id.replace("deck:",""),n=e.id.replace("contest:","");return"/deck/".concat(t,"/contest/").concat(n)}function o(e){let t=e.id.replace("contest:",""),n="/studio?contestId=".concat(t);if(e.matching_rules){let t=e.matching_rules.characters[0];n+="&characterId=".concat(t)}return n}function c(e){if(e.url_watermarked)return e.url_watermarked;if(e.source_url){if(!r.j7)return e.source_url;e.url.startsWith("<!doctype")&&e.source_url}return e.url}}},function(e){e.O(0,[2446,8938,9303,1271,4607,322,6157,5219,4868,2046,1744],function(){return e(e.s=15097)}),_N_E=e.O()}]);